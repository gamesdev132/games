var fN=Object.defineProperty,pN=Object.defineProperties;var mN=Object.getOwnPropertyDescriptors;var zu=Object.getOwnPropertySymbols;var Cb=Object.prototype.hasOwnProperty,Tb=Object.prototype.propertyIsEnumerable;var bb=(n,e,t)=>e in n?fN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,U=(n,e)=>{for(var t in e||={})Cb.call(e,t)&&bb(n,t,e[t]);if(zu)for(var t of zu(e))Tb.call(e,t)&&bb(n,t,e[t]);return n},Ee=(n,e)=>pN(n,mN(e));var Sb=(n,e)=>{var t={};for(var i in n)Cb.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&zu)for(var i of zu(n))e.indexOf(i)<0&&Tb.call(n,i)&&(t[i]=n[i]);return t};var O=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(u){r(u)}},o=l=>{try{a(t.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function Db(n,e){return Object.is(n,e)}var jt=null,Tl=!1,qu=1,Si=Symbol("SIGNAL");function Fe(n){let e=jt;return jt=n,e}function Ab(){return jt}function gN(){return Tl}var Co={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fm(n){if(Tl)throw new Error("");if(jt===null)return;jt.consumerOnSignalRead(n);let e=jt.nextProducerIndex++;if(Zu(jt),e<jt.producerNode.length&&jt.producerNode[e]!==n&&Sl(jt)){let t=jt.producerNode[e];Yu(t,jt.producerIndexOfThis[e])}jt.producerNode[e]!==n&&(jt.producerNode[e]=n,jt.producerIndexOfThis[e]=Sl(jt)?Nb(n,jt,e):0),jt.producerLastReadVersion[e]=n.version}function yN(){qu++}function xb(n){if(!(Sl(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===qu)){if(!n.producerMustRecompute(n)&&!Ku(n)){n.dirty=!1,n.lastCleanEpoch=qu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=qu}}function Mb(n){if(n.liveConsumerNode===void 0)return;let e=Tl;Tl=!0;try{for(let t of n.liveConsumerNode)t.dirty||Ob(t)}finally{Tl=e}}function Rb(){return jt?.consumerAllowSignalWrites!==!1}function Ob(n){n.dirty=!0,Mb(n),n.consumerMarkedDirty?.(n)}function Dl(n){return n&&(n.nextProducerIndex=0),Fe(n)}function Wu(n,e){if(Fe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Sl(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Ku(n){Zu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(xb(t),i!==t.version))return!0}return!1}function Qu(n){if(Zu(n),Sl(n))for(let e=0;e<n.producerNode.length;e++)Yu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Nb(n,e,t){if(Pb(n),n.liveConsumerNode.length===0&&kb(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=Nb(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Yu(n,e){if(Pb(n),n.liveConsumerNode.length===1&&kb(n))for(let i=0;i<n.producerNode.length;i++)Yu(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Zu(r),r.producerIndexOfThis[i]=e}}function Sl(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Zu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Pb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function kb(n){return n.producerNode!==void 0}function Lb(n){let e=Object.create(_N);e.computation=n;let t=()=>{if(xb(e),Fm(e),e.value===Gu)throw e.error;return e.value};return t[Si]=e,t}var Pm=Symbol("UNSET"),km=Symbol("COMPUTING"),Gu=Symbol("ERRORED"),_N=Ee(U({},Co),{value:Pm,dirty:!0,error:null,equal:Db,producerMustRecompute(n){return n.value===Pm||n.value===km},producerRecomputeValue(n){if(n.value===km)throw new Error("Detected cycle in computations.");let e=n.value;n.value=km;let t=Dl(n),i;try{i=n.computation()}catch(r){i=Gu,n.error=r}finally{Wu(n,t)}if(e!==Pm&&e!==Gu&&i!==Gu&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function vN(){throw new Error}var Fb=vN;function Vb(){Fb()}function jb(n){Fb=n}var IN=null;function Ub(n){let e=Object.create($b);e.value=n;let t=()=>(Fm(e),e.value);return t[Si]=e,t}function Vm(n,e){Rb()||Vb(),n.equal(n.value,e)||(n.value=e,wN(n))}function Bb(n,e){Rb()||Vb(),Vm(n,e(n.value))}var $b=Ee(U({},Co),{equal:Db,value:void 0});function wN(n){n.version++,yN(),Mb(n),IN?.()}function Hb(n,e,t){let i=Object.create(EN);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(Qu(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Lm)}let a=()=>{if(i.fn===null)return;if(gN())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Ku(i))return;i.hasRun=!0;let l=Dl(i);try{i.cleanupFn(),i.cleanupFn=Lm,i.fn(r)}finally{Wu(i,l)}};return i.ref={notify:()=>Ob(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[Si]:i},i.ref}var Lm=()=>{},EN=Ee(U({},Co),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Lm});function be(n){return typeof n=="function"}function To(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Ju=To(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Es(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var It=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(be(i))try{i()}catch(s){e=s instanceof Ju?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{zb(s)}catch(o){e=e??[],o instanceof Ju?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ju(e)}}add(e){var t;if(e&&e!==this)if(this.closed)zb(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Es(t,e)}remove(e){let{_finalizers:t}=this;t&&Es(t,e),e instanceof n&&e._removeParent(this)}};It.EMPTY=(()=>{let n=new It;return n.closed=!0,n})();var jm=It.EMPTY;function Xu(n){return n instanceof It||n&&"closed"in n&&be(n.remove)&&be(n.add)&&be(n.unsubscribe)}function zb(n){be(n)?n():n.unsubscribe()}var fi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var So={setTimeout(n,e,...t){let{delegate:i}=So;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ed(n){So.setTimeout(()=>{let{onUnhandledError:e}=fi;if(e)e(n);else throw n})}function Al(){}var qb=Um("C",void 0,void 0);function Gb(n){return Um("E",void 0,n)}function Wb(n){return Um("N",n,void 0)}function Um(n,e,t){return{kind:n,value:e,error:t}}var bs=null;function Do(n){if(fi.useDeprecatedSynchronousErrorHandling){let e=!bs;if(e&&(bs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=bs;if(bs=null,t)throw i}}else n()}function Kb(n){fi.useDeprecatedSynchronousErrorHandling&&bs&&(bs.errorThrown=!0,bs.error=n)}var Cs=class extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xu(e)&&e.add(this)):this.destination=TN}static create(e,t,i){return new Ao(e,t,i)}next(e){this.isStopped?$m(Wb(e),this):this._next(e)}error(e){this.isStopped?$m(Gb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?$m(qb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bN=Function.prototype.bind;function Bm(n,e){return bN.call(n,e)}var Hm=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){td(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){td(i)}else td(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){td(t)}}},Ao=class extends Cs{constructor(e,t,i){super();let r;if(be(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&fi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Bm(e.next,s),error:e.error&&Bm(e.error,s),complete:e.complete&&Bm(e.complete,s)}):r=e}this.destination=new Hm(r)}};function td(n){fi.useDeprecatedSynchronousErrorHandling?Kb(n):ed(n)}function CN(n){throw n}function $m(n,e){let{onStoppedNotification:t}=fi;t&&So.setTimeout(()=>t(n,e))}var TN={closed:!0,next:Al,error:CN,complete:Al};var xo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function kn(n){return n}function zm(...n){return qm(n)}function qm(n){return n.length===0?kn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var We=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=DN(t)?t:new Ao(t,i,r);return Do(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Qb(i),new i((r,s)=>{let o=new Ao({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[xo](){return this}pipe(...t){return qm(t)(this)}toPromise(t){return t=Qb(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Qb(n){var e;return(e=n??fi.Promise)!==null&&e!==void 0?e:Promise}function SN(n){return n&&be(n.next)&&be(n.error)&&be(n.complete)}function DN(n){return n&&n instanceof Cs||SN(n)&&Xu(n)}function Gm(n){return be(n?.lift)}function Ke(n){return e=>{if(Gm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function je(n,e,t,i,r){return new Wm(n,e,t,i,r)}var Wm=class extends Cs{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mo(){return Ke((n,e)=>{let t=null;n._refCount++;let i=je(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ro=class extends We{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Gm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;let t=this.getSubject();e.add(this.source.subscribe(je(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return Mo()(this)}};var Yb=To(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var dt=(()=>{class n extends We{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new nd(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Yb}next(t){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Do(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?jm:(this.currentObservers=null,s.push(t),new It(()=>{this.currentObservers=null,Es(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new We;return t.source=this,t}}return n.create=(e,t)=>new nd(e,t),n})(),nd=class extends dt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:jm}};var Yt=class extends dt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Km={now(){return(Km.delegate||Date).now()},delegate:void 0};var id=class extends It{constructor(e,t){super()}schedule(e,t=0){return this}};var xl={setInterval(n,e,...t){let{delegate:i}=xl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=xl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Oo=class extends id{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return xl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&xl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Es(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var No=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};No.now=Km.now;var Po=class extends No{constructor(e,t=No.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Qm=new Po(Oo);var rd=class extends Oo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var sd=class extends Po{};var Ym=new sd(rd);var Ln=new We(n=>n.complete());function Zb(n){return n&&be(n.schedule)}function Jb(n){return n[n.length-1]}function od(n){return be(Jb(n))?n.pop():void 0}function Rr(n){return Zb(Jb(n))?n.pop():void 0}function Zm(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function eC(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(p){o(p)}}function l(d){try{u(i.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):r(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function Xb(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ts(n){return this instanceof Ts?(this.v=n,this):new Ts(n)}function tC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(v){return Promise.resolve(v).then(y,p)}}function a(y,v){i[y]&&(r[y]=function(D){return new Promise(function(A,k){s.push([y,D,A,k])>1||l(y,D)})},v&&(r[y]=v(r[y])))}function l(y,v){try{u(i[y](v))}catch(D){m(s[0][3],D)}}function u(y){y.value instanceof Ts?Promise.resolve(y.value.v).then(d,p):m(s[0][2],y)}function d(y){l("next",y)}function p(y){l("throw",y)}function m(y,v){y(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function nC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Xb=="function"?Xb(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var ad=n=>n&&typeof n.length=="number"&&typeof n!="function";function ld(n){return be(n?.then)}function cd(n){return be(n[xo])}function ud(n){return Symbol.asyncIterator&&be(n?.[Symbol.asyncIterator])}function dd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var hd=AN();function fd(n){return be(n?.[hd])}function pd(n){return tC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Ts(t.read());if(r)return yield Ts(void 0);yield yield Ts(i)}}finally{t.releaseLock()}})}function md(n){return be(n?.getReader)}function Rt(n){if(n instanceof We)return n;if(n!=null){if(cd(n))return xN(n);if(ad(n))return MN(n);if(ld(n))return RN(n);if(ud(n))return iC(n);if(fd(n))return ON(n);if(md(n))return NN(n)}throw dd(n)}function xN(n){return new We(e=>{let t=n[xo]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MN(n){return new We(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function RN(n){return new We(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ed)})}function ON(n){return new We(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function iC(n){return new We(e=>{PN(n,e).catch(t=>e.error(t))})}function NN(n){return iC(pd(n))}function PN(n,e){var t,i,r,s;return eC(this,void 0,void 0,function*(){try{for(t=nC(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function xn(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Or(n,e=0){return Ke((t,i)=>{t.subscribe(je(i,r=>xn(i,n,()=>i.next(r),e),()=>xn(i,n,()=>i.complete(),e),r=>xn(i,n,()=>i.error(r),e)))})}function Nr(n,e=0){return Ke((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function rC(n,e){return Rt(n).pipe(Nr(e),Or(e))}function sC(n,e){return Rt(n).pipe(Nr(e),Or(e))}function oC(n,e){return new We(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function aC(n,e){return new We(t=>{let i;return xn(t,e,()=>{i=n[hd](),xn(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>be(i?.return)&&i.return()})}function gd(n,e){if(!n)throw new Error("Iterable cannot be null");return new We(t=>{xn(t,e,()=>{let i=n[Symbol.asyncIterator]();xn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function lC(n,e){return gd(pd(n),e)}function cC(n,e){if(n!=null){if(cd(n))return rC(n,e);if(ad(n))return oC(n,e);if(ld(n))return sC(n,e);if(ud(n))return gd(n,e);if(fd(n))return aC(n,e);if(md(n))return lC(n,e)}throw dd(n)}function pt(n,e){return e?cC(n,e):Rt(n)}function he(...n){let e=Rr(n);return pt(n,e)}function ko(n,e){let t=be(n)?n:()=>n,i=r=>r.error(t());return new We(e?r=>e.schedule(i,0,r):i)}function Jm(n){return!!n&&(n instanceof We||be(n.lift)&&be(n.subscribe))}var er=To(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ve(n,e){return Ke((t,i)=>{let r=0;t.subscribe(je(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:kN}=Array;function LN(n,e){return kN(e)?n(...e):n(e)}function yd(n){return Ve(e=>LN(n,e))}var{isArray:FN}=Array,{getPrototypeOf:VN,prototype:jN,keys:UN}=Object;function _d(n){if(n.length===1){let e=n[0];if(FN(e))return{args:e,keys:null};if(BN(e)){let t=UN(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function BN(n){return n&&typeof n=="object"&&VN(n)===jN}function vd(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Ml(...n){let e=Rr(n),t=od(n),{args:i,keys:r}=_d(n);if(i.length===0)return pt([],e);let s=new We($N(i,e,r?o=>vd(r,o):kn));return t?s.pipe(yd(t)):s}function $N(n,e,t=kn){return i=>{uC(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)uC(e,()=>{let u=pt(n[l],e),d=!1;u.subscribe(je(i,p=>{s[l]=p,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function uC(n,e,t){n?xn(t,n,e):e()}function dC(n,e,t,i,r,s,o,a){let l=[],u=0,d=0,p=!1,m=()=>{p&&!l.length&&!u&&e.complete()},y=D=>u<i?v(D):l.push(D),v=D=>{s&&e.next(D),u++;let A=!1;Rt(t(D,d++)).subscribe(je(e,k=>{r?.(k),s?y(k):e.next(k)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<i;){let k=l.shift();o?xn(e,o,()=>v(k)):v(k)}m()}catch(k){e.error(k)}}))};return n.subscribe(je(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ot(n,e,t=1/0){return be(e)?Ot((i,r)=>Ve((s,o)=>e(i,s,r,o))(Rt(n(i,r))),t):(typeof e=="number"&&(t=e),Ke((i,r)=>dC(i,r,n,t)))}function Pr(n=1/0){return Ot(kn,n)}function hC(){return Pr(1)}function Lo(...n){return hC()(pt(n,Rr(n)))}function Id(n){return new We(e=>{Rt(n()).subscribe(e)})}function Xm(...n){let e=od(n),{args:t,keys:i}=_d(n),r=new We(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let p=!1;Rt(t[d]).subscribe(je(s,m=>{p||(p=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(i?vd(i,a):a),s.complete())}))}});return e?r.pipe(yd(e)):r}function ti(n,e){return Ke((t,i)=>{let r=0;t.subscribe(je(i,s=>n.call(e,s,r++)&&i.next(s)))})}function kr(n){return Ke((e,t)=>{let i=null,r=!1,s;i=e.subscribe(je(t,void 0,void 0,o=>{s=Rt(n(o,kr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function fC(n,e,t,i,r){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(je(o,d=>{let p=u++;l=a?n(l,d,p):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Ss(n,e){return be(e)?Ot(n,e,1):Ot(n,1)}function Lr(n){return Ke((e,t)=>{let i=!1;e.subscribe(je(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function tr(n){return n<=0?()=>Ln:Ke((e,t)=>{let i=0;e.subscribe(je(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function eg(n){return Ve(()=>n)}function wd(n=HN){return Ke((e,t)=>{let i=!1;e.subscribe(je(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function HN(){return new er}function Rl(n){return Ke((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Di(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ti((r,s)=>n(r,s,i)):kn,tr(1),t?Lr(e):wd(()=>new er))}function Fo(n){return n<=0?()=>Ln:Ke((e,t)=>{let i=[];e.subscribe(je(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function tg(n,e){let t=arguments.length>=2;return i=>i.pipe(n?ti((r,s)=>n(r,s,i)):kn,Fo(1),t?Lr(e):wd(()=>new er))}function ng(n,e){return Ke(fC(n,e,arguments.length>=2,!0))}function ig(...n){let e=Rr(n);return Ke((t,i)=>{(e?Lo(n,t,e):Lo(n,t)).subscribe(i)})}function ni(n,e){return Ke((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(je(i,l=>{r?.unsubscribe();let u=0,d=s++;Rt(n(l,d)).subscribe(r=je(i,p=>i.next(e?e(l,p,d,u++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function rg(n){return Ke((e,t)=>{Rt(n).subscribe(je(t,()=>t.complete(),Al)),!t.closed&&e.subscribe(t)})}function Ut(n,e,t){let i=be(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ke((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(je(s,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),s.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):kn}var sT="https://g.co/ng/security#xss",H=class extends Error{constructor(e,t){super(Dy(e,t)),this.code=e}};function Dy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function $l(n){return{toString:n}.toString()}var Ed="__parameters__";function zN(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function oT(n,e,t){return $l(()=>{let i=zN(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,u,d){let p=l.hasOwnProperty(Ed)?l[Ed]:Object.defineProperty(l,Ed,{value:[]})[Ed];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Pl=globalThis;function ot(n){for(let e in n)if(n[e]===ot)return e;throw Error("Could not find renamed property on target object.")}function qN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function In(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(In).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function _g(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var GN=ot({__forward_ref__:ot});function Un(n){return n.__forward_ref__=Un,n.toString=function(){return In(this())},n}function vn(n){return aT(n)?n():n}function aT(n){return typeof n=="function"&&n.hasOwnProperty(GN)&&n.__forward_ref__===Un}function Z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ue(n){return{providers:n.providers||[],imports:n.imports||[]}}function ch(n){return pC(n,cT)||pC(n,uT)}function lT(n){return ch(n)!==null}function pC(n,e){return n.hasOwnProperty(e)?n[e]:null}function WN(n){let e=n&&(n[cT]||n[uT]);return e||null}function mC(n){return n&&(n.hasOwnProperty(gC)||n.hasOwnProperty(KN))?n[gC]:null}var cT=ot({\u0275prov:ot}),gC=ot({\u0275inj:ot}),uT=ot({ngInjectableDef:ot}),KN=ot({ngInjectorDef:ot}),se=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dT(n){return n&&!!n.\u0275providers}var QN=ot({\u0275cmp:ot}),YN=ot({\u0275dir:ot}),ZN=ot({\u0275pipe:ot}),JN=ot({\u0275mod:ot}),Ld=ot({\u0275fac:ot}),Nl=ot({__NG_ELEMENT_ID__:ot}),yC=ot({__NG_ENV_ID__:ot});function Hl(n){return typeof n=="string"?n:n==null?"":String(n)}function XN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Hl(n)}function eP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,n)}function Ay(n,e){throw new H(-201,!1)}var Re=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Re||{}),vg;function hT(){return vg}function ii(n){let e=vg;return vg=n,e}function fT(n,e,t){let i=ch(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Re.Optional)return null;if(e!==void 0)return e;Ay(n,"Injector")}var tP={},kl=tP,Ig="__NG_DI_FLAG__",Fd="ngTempTokenPath",nP="ngTokenPath",iP=/\n/gm,rP="\u0275",_C="__source",$o;function sP(){return $o}function Fr(n){let e=$o;return $o=n,e}function oP(n,e=Re.Default){if($o===void 0)throw new H(-203,!1);return $o===null?fT(n,void 0,e):$o.get(n,e&Re.Optional?null:void 0,e)}function le(n,e=Re.Default){return(hT()||oP)(vn(n),e)}function z(n,e=Re.Default){return le(n,uh(e))}function uh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function wg(n){let e=[];for(let t=0;t<n.length;t++){let i=vn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new H(900,!1);let r,s=Re.Default;for(let o=0;o<i.length;o++){let a=i[o],l=aP(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(le(r,s))}else e.push(le(i))}return e}function pT(n,e){return n[Ig]=e,n.prototype[Ig]=e,n}function aP(n){return n[Ig]}function lP(n,e,t,i){let r=n[Fd];throw e[_C]&&r.unshift(e[_C]),n.message=cP(`
`+n.message,r,t,i),n[nP]=r,n[Fd]=null,n}function cP(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rP?n.slice(2):n;let r=In(e);if(Array.isArray(e))r=e.map(In).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):In(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(iP,`
  `)}`}var Bn=pT(oT("Optional"),8);var dh=pT(oT("SkipSelf"),4);function zo(n,e){let t=n.hasOwnProperty(Ld);return t?n[Ld]:null}function uP(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function dP(n){return n.flat(Number.POSITIVE_INFINITY)}function xy(n,e){n.forEach(t=>Array.isArray(t)?xy(t,e):e(t))}function mT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Vd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hP(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function fP(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function hh(n,e,t){let i=zl(n,e);return i>=0?n[i|1]=t:(i=~i,fP(n,i,e,t)),i}function sg(n,e){let t=zl(n,e);if(t>=0)return n[t|1]}function zl(n,e){return pP(n,e,1)}function pP(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var qo={},Mn=[],Go=new se(""),gT=new se("",-1),yT=new se(""),jd=class{get(e,t=kl){if(t===kl){let i=new Error(`NullInjectorError: No provider for ${In(e)}!`);throw i.name="NullInjectorError",i}return t}},_T=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(_T||{}),Mi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Mi||{}),Ur=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Ur||{});function mP(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Eg(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];gP(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function vT(n){return n===3||n===4||n===6}function gP(n){return n.charCodeAt(0)===64}function Ll(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?vC(n,t,r,null,e[++i]):vC(n,t,r,null,null))}}return n}function vC(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var IT="ng-template";function yP(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&mP(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(My(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function My(n){return n.type===4&&n.value!==IT}function _P(n,e,t){let i=n.type===4&&!t?IT:n.value;return e===i}function vP(n,e,t){let i=4,r=n.attrs,s=r!==null?EP(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!pi(i)&&!pi(l))return!1;if(o&&pi(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!_P(n,l,t)||l===""&&e.length===1){if(pi(i))return!1;o=!0}}else if(i&8){if(r===null||!yP(n,r,l,t)){if(pi(i))return!1;o=!0}}else{let u=e[++a],d=IP(l,r,My(n),t);if(d===-1){if(pi(i))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=r[d+1].toLowerCase(),i&2&&u!==p){if(pi(i))return!1;o=!0}}}}return pi(i)||o}function pi(n){return(n&1)===0}function IP(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return bP(e,n)}function wT(n,e,t=!1){for(let i=0;i<e.length;i++)if(vP(n,e[i],t))return!0;return!1}function wP(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function EP(n){for(let e=0;e<n.length;e++){let t=n[e];if(vT(t))return e}return n.length}function bP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function CP(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function IC(n,e){return n?":not("+e.trim()+")":e}function TP(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!pi(o)&&(e+=IC(s,r),r=""),i=o,s=s||!pi(i);t++}return r!==""&&(e+=IC(s,r)),e}function SP(n){return n.map(TP).join(",")}function DP(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!pi(r))break;r=s}i++}return{attrs:e,classes:t}}function oe(n){return $l(()=>{let e=ST(n),t=Ee(U({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===_T.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Mi.Emulated,styles:n.styles||Mn,_:null,schemas:n.schemas||null,tView:null,id:""});DT(t);let i=n.dependencies;return t.directiveDefs=EC(i,!1),t.pipeDefs=EC(i,!0),t.id=MP(t),t})}function AP(n){return Br(n)||ET(n)}function xP(n){return n!==null}function Be(n){return $l(()=>({type:n.type,bootstrap:n.bootstrap||Mn,declarations:n.declarations||Mn,imports:n.imports||Mn,exports:n.exports||Mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function wC(n,e){if(n==null)return qo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Ur.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Ur.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Ge(n){return $l(()=>{let e=ST(n);return DT(e),e})}function Br(n){return n[QN]||null}function ET(n){return n[YN]||null}function bT(n){return n[ZN]||null}function CT(n){let e=Br(n)||ET(n)||bT(n);return e!==null?e.standalone:!1}function TT(n,e){let t=n[JN]||null;if(!t&&e===!0)throw new Error(`Type ${In(n)} does not have '\u0275mod' property.`);return t}function ST(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||qo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wC(n.inputs,e),outputs:wC(n.outputs),debugInfo:null}}function DT(n){n.features?.forEach(e=>e(n))}function EC(n,e){if(!n)return null;let t=e?bT:AP;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(xP)}function MP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Wr(n){return{\u0275providers:n}}function RP(...n){return{\u0275providers:AT(!0,n),\u0275fromNgModule:!0}}function AT(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return xy(e,o=>{let a=o;bg(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&xT(r,s),t}function xT(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];Ry(r,s=>{e(s,i)})}}function bg(n,e,t,i){if(n=vn(n),!n)return!1;let r=null,s=mC(n),o=!s&&Br(n);if(!s&&!o){let l=n.ngModule;if(s=mC(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)bg(u,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{xy(s.imports,d=>{bg(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&xT(u,e)}if(!a){let u=zo(r)||(()=>new r);e({provide:r,useFactory:u,deps:Mn},r),e({provide:yT,useValue:r,multi:!0},r),e({provide:Go,useValue:()=>le(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let u=n;Ry(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function Ry(n,e){for(let t of n)dT(t)&&(t=t.\u0275providers),Array.isArray(t)?Ry(t,e):e(t)}var OP=ot({provide:String,useValue:ot});function MT(n){return n!==null&&typeof n=="object"&&OP in n}function NP(n){return!!(n&&n.useExisting)}function PP(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}function kP(n){return!!n.useClass}var fh=new se(""),xd={},LP={},og;function Oy(){return og===void 0&&(og=new jd),og}var Fn=class{},Fl=class extends Fn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tg(e,o=>this.processProvider(o)),this.records.set(gT,Vo(void 0,this)),r.has("environment")&&this.records.set(Fn,Vo(void 0,this));let s=this.records.get(fh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yT,Mn,Re.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Fe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Fr(this),i=ii(void 0),r;try{return e()}finally{Fr(t),ii(i)}}get(e,t=kl,i=Re.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yC))return e[yC](this);i=uh(i);let r,s=Fr(this),o=ii(void 0);try{if(!(i&Re.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=BP(e)&&ch(e);u&&this.injectableDefInScope(u)?l=Vo(Cg(e),xd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Re.Self?Oy():this.parent;return t=i&Re.Optional&&t===kl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Fd]=a[Fd]||[]).unshift(In(e)),s)throw a;return lP(a,e,"R3InjectorError",this.source)}else throw a}finally{ii(o),Fr(s)}}resolveInjectorInitializers(){let e=Fe(null),t=Fr(this),i=ii(void 0),r;try{let s=this.get(Go,Mn,Re.Self);for(let o of s)o()}finally{Fr(t),ii(i),Fe(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(In(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){e=vn(e);let t=Wo(e)?e:vn(e&&e.provide),i=VP(e);if(!Wo(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Vo(void 0,xd,!0),r.factory=()=>wg(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Fe(null);try{return t.value===xd&&(t.value=LP,t.value=t.factory()),typeof t.value=="object"&&t.value&&UP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=vn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Cg(n){let e=ch(n),t=e!==null?e.factory:zo(n);if(t!==null)return t;if(n instanceof se)throw new H(204,!1);if(n instanceof Function)return FP(n);throw new H(204,!1)}function FP(n){if(n.length>0)throw new H(204,!1);let t=WN(n);return t!==null?()=>t.factory(n):()=>new n}function VP(n){if(MT(n))return Vo(void 0,n.useValue);{let e=RT(n);return Vo(e,xd)}}function RT(n,e,t){let i;if(Wo(n)){let r=vn(n);return zo(r)||Cg(r)}else if(MT(n))i=()=>vn(n.useValue);else if(PP(n))i=()=>n.useFactory(...wg(n.deps||[]));else if(NP(n))i=()=>le(vn(n.useExisting));else{let r=vn(n&&(n.useClass||n.provide));if(jP(n))i=()=>new r(...wg(n.deps));else return zo(r)||Cg(r)}return i}function Vo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jP(n){return!!n.deps}function UP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function BP(n){return typeof n=="function"||typeof n=="object"&&n instanceof se}function Tg(n,e){for(let t of n)Array.isArray(t)?Tg(t,e):t&&dT(t)?Tg(t.\u0275providers,e):e(t)}function ki(n,e){n instanceof Fl&&n.assertNotDestroyed();let t,i=Fr(n),r=ii(void 0);try{return e()}finally{Fr(i),ii(r)}}function OT(){return hT()!==void 0||sP()!=null}function NT(n){if(!OT())throw new H(-203,!1)}function $P(n){return typeof n=="function"}var rr=0,ve=1,fe=2,an=3,mi=4,Rn=5,Ko=6,Ud=7,sn=8,Qo=9,Ri=10,wt=11,Vl=12,bC=13,ra=14,Vn=15,Ms=16,jo=17,nr=18,ph=19,PT=20,Vr=21,Md=22,ri=23,wn=25,kT=1;var Rs=7,Bd=8,Yo=9,on=10,$d=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}($d||{});function jr(n){return Array.isArray(n)&&typeof n[kT]=="object"}function sr(n){return Array.isArray(n)&&n[kT]===!0}function Ny(n){return(n.flags&4)!==0}function mh(n){return n.componentOffset>-1}function gh(n){return(n.flags&1)===1}function $r(n){return!!n.template}function Sg(n){return(n[fe]&512)!==0}var Dg=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function LT(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function En(){return FT}function FT(n){return n.type.prototype.ngOnChanges&&(n.setInput=zP),HP}En.ngInherit=!0;function HP(){let n=jT(this),e=n?.current;if(e){let t=n.previous;if(t===qo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function zP(n,e,t,i,r){let s=this.declaredInputs[i],o=jT(n)||qP(n,{previous:qo,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new Dg(u&&u.currentValue,t,l===qo),LT(n,e,r,t)}var VT="__ngSimpleChanges__";function jT(n){return n[VT]||null}function qP(n,e){return n[VT]=e}var CC=null;var Ai=function(n,e,t){CC?.(n,e,t)},UT="svg",GP="math";function Oi(n){for(;Array.isArray(n);)n=n[rr];return n}function BT(n,e){return Oi(e[n])}function si(n,e){return Oi(e[n.index])}function Py(n,e){return n.data[e]}function WP(n,e){return n[e]}function Kr(n,e){let t=e[n];return jr(t)?t:t[rr]}function KP(n){return(n[fe]&4)===4}function ky(n){return(n[fe]&128)===128}function QP(n){return sr(n[an])}function Hr(n,e){return e==null?null:n[e]}function $T(n){n[jo]=0}function HT(n){n[fe]&1024||(n[fe]|=1024,ky(n)&&_h(n))}function YP(n,e){for(;n>0;)e=e[ra],n--;return e}function yh(n){return!!(n[fe]&9216||n[ri]?.dirty)}function Ag(n){n[Ri].changeDetectionScheduler?.notify(8),n[fe]&64&&(n[fe]|=1024),yh(n)&&_h(n)}function _h(n){n[Ri].changeDetectionScheduler?.notify(0);let e=Os(n);for(;e!==null&&!(e[fe]&8192||(e[fe]|=8192,!ky(e)));)e=Os(e)}function zT(n,e){if((n[fe]&256)===256)throw new H(911,!1);n[Vr]===null&&(n[Vr]=[]),n[Vr].push(e)}function ZP(n,e){if(n[Vr]===null)return;let t=n[Vr].indexOf(e);t!==-1&&n[Vr].splice(t,1)}function Os(n){let e=n[an];return sr(e)?e[an]:e}var Ae={lFrame:eS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qT=!1;function JP(){return Ae.lFrame.elementDepthCount}function XP(){Ae.lFrame.elementDepthCount++}function ek(){Ae.lFrame.elementDepthCount--}function GT(){return Ae.bindingsEnabled}function WT(){return Ae.skipHydrationRootTNode!==null}function tk(n){return Ae.skipHydrationRootTNode===n}function nk(){Ae.skipHydrationRootTNode=null}function Ce(){return Ae.lFrame.lView}function At(){return Ae.lFrame.tView}function ue(n){return Ae.lFrame.contextLView=n,n[sn]}function de(n){return Ae.lFrame.contextLView=null,n}function Zt(){let n=KT();for(;n!==null&&n.type===64;)n=n.parent;return n}function KT(){return Ae.lFrame.currentTNode}function ik(){let n=Ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Vs(n,e){let t=Ae.lFrame;t.currentTNode=n,t.isParent=e}function Ly(){return Ae.lFrame.isParent}function Fy(){Ae.lFrame.isParent=!1}function rk(){return Ae.lFrame.contextLView}function QT(){return qT}function TC(n){qT=n}function sa(){let n=Ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sk(n){return Ae.lFrame.bindingIndex=n}function oa(){return Ae.lFrame.bindingIndex++}function YT(n){let e=Ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ok(){return Ae.lFrame.inI18n}function ak(n,e){let t=Ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,xg(e)}function lk(){return Ae.lFrame.currentDirectiveIndex}function xg(n){Ae.lFrame.currentDirectiveIndex=n}function ck(n){let e=Ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function ZT(){return Ae.lFrame.currentQueryIndex}function Vy(n){Ae.lFrame.currentQueryIndex=n}function uk(n){let e=n[ve];return e.type===2?e.declTNode:e.type===1?n[Rn]:null}function JT(n,e,t){if(t&Re.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Re.Host);)if(r=uk(s),r===null||(s=s[ra],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=Ae.lFrame=XT();return i.currentTNode=e,i.lView=n,!0}function jy(n){let e=XT(),t=n[ve];Ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function XT(){let n=Ae.lFrame,e=n===null?null:n.child;return e===null?eS(n):e}function eS(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function tS(){let n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var nS=tS;function Uy(){let n=tS();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dk(n){return(Ae.lFrame.contextLView=YP(n,Ae.lFrame.contextLView))[sn]}function Qr(){return Ae.lFrame.selectedIndex}function Ns(n){Ae.lFrame.selectedIndex=n}function By(){let n=Ae.lFrame;return Py(n.tView,n.selectedIndex)}function Et(){Ae.lFrame.currentNamespace=UT}function hk(){return Ae.lFrame.currentNamespace}var iS=!0;function vh(){return iS}function Ih(n){iS=n}function fk(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=FT(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function wh(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function Rd(n,e,t){rS(n,e,3,t)}function Od(n,e,t,i){(n[fe]&3)===t&&rS(n,e,t,i)}function ag(n,e){let t=n[fe];(t&3)===e&&(t&=16383,t+=1,n[fe]=t)}function rS(n,e,t,i){let r=i!==void 0?n[jo]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[jo]+=65536),(a<s||s==-1)&&(pk(n,t,e,l),n[jo]=(n[jo]&4294901760)+l+2),l++}function SC(n,e){Ai(4,n,e);let t=Fe(null);try{e.call(n)}finally{Fe(t),Ai(5,n,e)}}function pk(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[fe]>>14<n[jo]>>16&&(n[fe]&3)===e&&(n[fe]+=16384,SC(a,s)):SC(a,s)}var Ho=-1,Ps=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function mk(n){return n instanceof Ps}function gk(n){return(n.flags&8)!==0}function yk(n){return(n.flags&16)!==0}var lg={},Mg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=uh(i);let r=this.injector.get(e,lg,i);return r!==lg||t===lg?r:this.parentInjector.get(e,t,i)}};function sS(n){return n!==Ho}function Hd(n){return n&32767}function _k(n){return n>>16}function zd(n,e){let t=_k(n),i=e;for(;t>0;)i=i[ra],t--;return i}var Rg=!0;function DC(n){let e=Rg;return Rg=n,e}var vk=256,oS=vk-1,aS=5,Ik=0,xi={};function wk(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Nl)&&(i=t[Nl]),i==null&&(i=t[Nl]=Ik++);let r=i&oS,s=1<<r;e.data[n+(r>>aS)]|=s}function qd(n,e){let t=lS(n,e);if(t!==-1)return t;let i=e[ve];i.firstCreatePass&&(n.injectorIndex=e.length,cg(i.data,n),cg(e,null),cg(i.blueprint,null));let r=$y(n,e),s=n.injectorIndex;if(sS(r)){let o=Hd(r),a=zd(r,e),l=a[ve].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=r,s}function cg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function $y(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=fS(r),i===null)return Ho;if(t++,r=r[ra],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Ho}function Og(n,e,t){wk(n,e,t)}function Ek(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(vT(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function cS(n,e,t){if(t&Re.Optional||n!==void 0)return n;Ay(e,"NodeInjector")}function uS(n,e,t,i){if(t&Re.Optional&&i===void 0&&(i=null),!(t&(Re.Self|Re.Host))){let r=n[Qo],s=ii(void 0);try{return r?r.get(e,i,t&Re.Optional):fT(e,i,t&Re.Optional)}finally{ii(s)}}return cS(i,e,t)}function dS(n,e,t,i=Re.Default,r){if(n!==null){if(e[fe]&2048&&!(i&Re.Self)){let o=Sk(n,e,t,i,xi);if(o!==xi)return o}let s=hS(n,e,t,i,xi);if(s!==xi)return s}return uS(e,t,i,r)}function hS(n,e,t,i,r){let s=Ck(t);if(typeof s=="function"){if(!JT(e,n,i))return i&Re.Host?cS(r,t,i):uS(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Re.Optional))Ay(t);else return o}finally{nS()}}else if(typeof s=="number"){let o=null,a=lS(n,e),l=Ho,u=i&Re.Host?e[Vn][Rn]:null;for((a===-1||i&Re.SkipSelf)&&(l=a===-1?$y(n,e):e[a+8],l===Ho||!xC(i,!1)?a=-1:(o=e[ve],a=Hd(l),e=zd(l,e)));a!==-1;){let d=e[ve];if(AC(s,a,d.data)){let p=bk(a,e,t,o,i,u);if(p!==xi)return p}l=e[a+8],l!==Ho&&xC(i,e[ve].data[a+8]===u)&&AC(s,a,e)?(o=d,a=Hd(l),e=zd(l,e)):a=-1}}return r}function bk(n,e,t,i,r,s){let o=e[ve],a=o.data[n+8],l=i==null?mh(a)&&Rg:i!=o&&(a.type&3)!==0,u=r&Re.Host&&s===a,d=Nd(a,o,t,l,u);return d!==null?ks(e,o,d,a):xi}function Nd(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,u=n.directiveEnd,d=s>>20,p=i?a:a+d,m=r?a+d:u;for(let y=p;y<m;y++){let v=o[y];if(y<l&&t===v||y>=l&&v.type===t)return y}if(r){let y=o[l];if(y&&$r(y)&&y.type===t)return l}return null}function ks(n,e,t,i){let r=n[t],s=e.data;if(mk(r)){let o=r;o.resolving&&eP(XN(s[t]));let a=DC(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?ii(o.injectImpl):null,d=JT(n,i,Re.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&fk(t,s[t],e)}finally{u!==null&&ii(u),DC(a),o.resolving=!1,nS()}}return r}function Ck(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Nl)?n[Nl]:void 0;return typeof e=="number"?e>=0?e&oS:Tk:e}function AC(n,e,t){let i=1<<n;return!!(t[e+(n>>aS)]&i)}function xC(n,e){return!(n&Re.Self)&&!(n&Re.Host&&e)}var xs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return dS(this._tNode,this._lView,e,uh(i),t)}};function Tk(){return new xs(Zt(),Ce())}function rt(n){return $l(()=>{let e=n.prototype.constructor,t=e[Ld]||Ng(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[Ld]||Ng(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ng(n){return aT(n)?()=>{let e=Ng(vn(n));return e&&e()}:zo(n)}function Sk(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[fe]&2048&&!(o[fe]&512);){let a=hS(s,o,t,i|Re.Self,xi);if(a!==xi)return a;let l=s.parent;if(!l){let u=o[PT];if(u){let d=u.get(t,xi,i);if(d!==xi)return d}l=fS(o),o=o[ra]}s=l}return r}function fS(n){let e=n[ve],t=e.type;return t===2?e.declTNode:t===1?n[Rn]:null}function Hy(n){return Ek(Zt(),n)}function MC(n,e=null,t=null,i){let r=pS(n,e,t,i);return r.resolveInjectorInitializers(),r}function pS(n,e=null,t=null,i,r=new Set){let s=[t||Mn,RP(n)];return i=i||(typeof n=="object"?void 0:In(n)),new Fl(s,e||Oy(),i||null,r)}var Ds=class Ds{static create(e,t){if(Array.isArray(e))return MC({name:""},t,e,"");{let i=e.name??"";return MC({name:i},e.parent,e.providers,i)}}};Ds.THROW_IF_NOT_FOUND=kl,Ds.NULL=new jd,Ds.\u0275prov=Z({token:Ds,providedIn:"any",factory:()=>le(gT)}),Ds.__NG_ELEMENT_ID__=-1;var ln=Ds;var Dk=new se("");Dk.__NG_ELEMENT_ID__=n=>{let e=Zt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&Re.Optional)return null;throw new H(204,!1)};var Ak="ngOriginalError";function ug(n){return n[Ak]}var mS=!0,Eh=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xk,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),Pg=class extends Eh{constructor(e){super(),this._lView=e}onDestroy(e){return zT(this._lView,e),()=>ZP(this._lView,e)}};function xk(){return new Pg(Ce())}var js=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Yt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var kg=class extends dt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,OT()&&(this.destroyRef=z(Eh,{optional:!0})??void 0,this.pendingTasks=z(js,{optional:!0})??void 0)}emit(e){let t=Fe(null);try{super.next(e)}finally{Fe(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof It&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},re=kg;function Gd(...n){}function gS(n){let e,t;function i(){n=Gd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function RC(n){return queueMicrotask(()=>n()),()=>{n=Gd}}var zy="isAngularZone",Wd=zy+"_ID",Mk=0,Ie=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new re(!1),this.onMicrotaskEmpty=new re(!1),this.onStable=new re(!1),this.onError=new re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=mS}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,Nk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(zy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Rk,Gd,Gd);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Rk={};function qy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ok(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){gS(()=>{n.callbackScheduled=!1,Lg(n),n.isCheckStableRunning=!0,qy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Lg(n)}function Nk(n){let e=()=>{Ok(n)},t=Mk++;n._inner=n._inner.fork({name:"angular",properties:{[zy]:!0,[Wd]:t,[Wd+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(Pk(l))return i.invokeTask(s,o,a,l);try{return OC(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),NC(n)}},onInvoke:(i,r,s,o,a,l,u)=>{try{return OC(n),i.invoke(s,o,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kk(l)&&e(),NC(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Lg(n),qy(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Lg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function OC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function NC(n){n._nesting--,qy(n)}var Fg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new re,this.onMicrotaskEmpty=new re,this.onStable=new re,this.onError=new re}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function Pk(n){return yS(n,"__ignore_ng_zone__")}function kk(n){return yS(n,"__scheduler_tick__")}function yS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ni=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ug(e);for(;t&&ug(t);)t=ug(t);return t||null}},Lk=new se("",{providedIn:"root",factory:()=>{let n=z(Ie),e=z(Ni);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function Fk(){return aa(Zt(),Ce())}function aa(n,e){return new Qe(si(n,e))}var Qe=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=Fk;let n=e;return n})();function Vk(n){return n instanceof Qe?n.nativeElement:n}function jk(){return this._results[Symbol.iterator]()}var Vg=class n{get changes(){return this._changes??=new re}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=jk)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=dP(e);(this._changesDetected=!uP(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function _S(n){return(n.flags&128)===128}var vS=new Map,Uk=0;function Bk(){return Uk++}function $k(n){vS.set(n[ph],n)}function jg(n){vS.delete(n[ph])}var PC="__ngContext__";function zr(n,e){jr(e)?(n[PC]=e[ph],$k(e)):n[PC]=e}function IS(n){return ES(n[Vl])}function wS(n){return ES(n[mi])}function ES(n){for(;n!==null&&!sr(n);)n=n[mi];return n}var Ug;function bS(n){Ug=n}function CS(){if(Ug!==void 0)return Ug;if(typeof document<"u")return document;throw new H(210,!1)}var Gy=new se("",{providedIn:"root",factory:()=>Hk}),Hk="ng",Wy=new se(""),Nt=new se("",{providedIn:"platform",factory:()=>"unknown"});var Ky=new se(""),Qy=new se("",{providedIn:"root",factory:()=>CS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zk="h",qk="b";var Gk=()=>null;function Yy(n,e,t=!1){return Gk(n,e,t)}var TS=!1,Wk=new se("",{providedIn:"root",factory:()=>TS});var bd;function Kk(){if(bd===void 0&&(bd=null,Pl.trustedTypes))try{bd=Pl.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return bd}function bh(n){return Kk()?.createHTML(n)||n}var Cd;function SS(){if(Cd===void 0&&(Cd=null,Pl.trustedTypes))try{Cd=Pl.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Cd}function kC(n){return SS()?.createHTML(n)||n}function LC(n){return SS()?.createScriptURL(n)||n}var Kd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${sT})`}};function Yr(n){return n instanceof Kd?n.changingThisBreaksApplicationSecurity:n}function Ch(n,e){let t=Qk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${sT})`)}return t===e}function Qk(n){return n instanceof Kd&&n.getTypeName()||null}function Yk(n){let e=new $g(n);return Zk()?new Bg(e):e}var Bg=class{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(bh(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},$g=class{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=bh(e),t}};function Zk(){try{return!!new window.DOMParser().parseFromString(bh(""),"text/html")}catch{return!1}}var Jk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zy(n){return n=String(n),n.match(Jk)?n:"unsafe:"+n}function or(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ql(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var DS=or("area,br,col,hr,img,wbr"),AS=or("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),xS=or("rp,rt"),Xk=ql(xS,AS),eL=ql(AS,or("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tL=ql(xS,or("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),FC=ql(DS,eL,tL,Xk),MS=or("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nL=or("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),iL=or("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),rL=ql(MS,nL,iL),sL=or("script,style,template"),Hg=class{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=lL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let s=aL(t);if(s){t=s;break}t=r.pop()}}return this.buf.join("")}startElement(e){let t=VC(e).toLowerCase();if(!FC.hasOwnProperty(t))return this.sanitizedSomething=!0,!sL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let r=0;r<i.length;r++){let s=i.item(r),o=s.name,a=o.toLowerCase();if(!rL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=s.value;MS[a]&&(l=Zy(l)),this.buf.push(" ",o,'="',jC(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=VC(e).toLowerCase();FC.hasOwnProperty(t)&&!DS.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(jC(e))}};function oL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function aL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw RS(e);return e}function lL(n){let e=n.firstChild;if(e&&oL(n,e))throw RS(e);return e}function VC(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function RS(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var cL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,uL=/([^\#-~ |!])/g;function jC(n){return n.replace(/&/g,"&amp;").replace(cL,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(uL,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Td;function OS(n,e){let t=null;try{Td=Td||Yk(n);let i=e?String(e):"";t=Td.getInertBodyElement(i);let r=5,s=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Td.getInertBodyElement(i)}while(i!==s);let a=new Hg().sanitizeChildren(UC(t)||t);return bh(a)}finally{if(t){let i=UC(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function UC(n){return"content"in n&&dL(n)?n.content:null}function dL(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Gl=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Gl||{});function Jy(n){let e=Xy();return e?kC(e.sanitize(Gl.HTML,n)||""):Ch(n,"HTML")?kC(Yr(n)):OS(CS(),Hl(n))}function NS(n){let e=Xy();return e?e.sanitize(Gl.URL,n)||"":Ch(n,"URL")?Yr(n):Zy(Hl(n))}function hL(n){let e=Xy();if(e)return LC(e.sanitize(Gl.RESOURCE_URL,n)||"");if(Ch(n,"ResourceURL"))return LC(Yr(n));throw new H(904,!1)}function fL(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?hL:NS}function PS(n,e,t){return fL(e,t)(n)}function Xy(){let n=Ce();return n&&n[Ri].sanitizer}var pL=/^>|^->|<!--|-->|--!>|<!-$/g,mL=/(<|>)/g,gL="\u200B$1\u200B";function yL(n){return n.replace(pL,e=>e.replace(mL,gL))}function kS(n){return n.ownerDocument}function LS(n){return n instanceof Function?n():n}function _L(n){return(n??z(ln)).get(Nt)==="browser"}var Pi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Pi||{}),vL;function e_(n,e){return vL(n,e)}function Uo(n,e,t,i,r){if(i!=null){let s,o=!1;sr(i)?s=i:jr(i)&&(o=!0,i=i[rr]);let a=Oi(i);n===0&&t!==null?r==null?BS(e,t,a):Qd(e,t,a,r||null,!0):n===1&&t!==null?Qd(e,t,a,r||null,!0):n===2?NL(e,a,o):n===3&&e.destroyNode(a),s!=null&&kL(e,n,s,t,r)}}function IL(n,e){return n.createText(e)}function wL(n,e,t){n.setValue(e,t)}function EL(n,e){return n.createComment(yL(e))}function FS(n,e,t){return n.createElement(e,t)}function bL(n,e){VS(n,e),e[rr]=null,e[Rn]=null}function CL(n,e,t,i,r,s){i[rr]=r,i[Rn]=e,Dh(n,i,t,1,r,s)}function VS(n,e){e[Ri].changeDetectionScheduler?.notify(9),Dh(n,e,e[wt],2,null,null)}function TL(n){let e=n[Vl];if(!e)return dg(n[ve],n);for(;e;){let t=null;if(jr(e))t=e[Vl];else{let i=e[on];i&&(t=i)}if(!t){for(;e&&!e[mi]&&e!==n;)jr(e)&&dg(e[ve],e),e=e[an];e===null&&(e=n),jr(e)&&dg(e[ve],e),t=e&&e[mi]}e=t}}function SL(n,e,t,i){let r=on+i,s=t.length;i>0&&(t[r-1][mi]=e),i<s-on?(e[mi]=t[r],mT(t,on+i,e)):(t.push(e),e[mi]=null),e[an]=t;let o=e[Ms];o!==null&&t!==o&&jS(o,e);let a=e[nr];a!==null&&a.insertView(n),Ag(e),e[fe]|=128}function jS(n,e){let t=n[Yo],i=e[an];if(jr(i))n[fe]|=$d.HasTransplantedViews;else{let r=i[an][Vn];e[Vn]!==r&&(n[fe]|=$d.HasTransplantedViews)}t===null?n[Yo]=[e]:t.push(e)}function t_(n,e){let t=n[Yo],i=t.indexOf(e);t.splice(i,1)}function jl(n,e){if(n.length<=on)return;let t=on+e,i=n[t];if(i){let r=i[Ms];r!==null&&r!==n&&t_(r,i),e>0&&(n[t-1][mi]=i[mi]);let s=Vd(n,on+e);bL(i[ve],i);let o=s[nr];o!==null&&o.detachView(s[ve]),i[an]=null,i[mi]=null,i[fe]&=-129}return i}function Th(n,e){if(!(e[fe]&256)){let t=e[wt];t.destroyNode&&Dh(n,e,t,3,null,null),TL(e)}}function dg(n,e){if(e[fe]&256)return;let t=Fe(null);try{e[fe]&=-129,e[fe]|=256,e[ri]&&Qu(e[ri]),AL(n,e),DL(n,e),e[ve].type===1&&e[wt].destroy();let i=e[Ms];if(i!==null&&sr(e[an])){i!==e[an]&&t_(i,e);let r=e[nr];r!==null&&r.detachView(n)}jg(e)}finally{Fe(t)}}function DL(n,e){let t=n.cleanup,i=e[Ud];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Ud]=null);let r=e[Vr];if(r!==null){e[Vr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function AL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof Ps)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];Ai(4,a,l);try{l.call(a)}finally{Ai(5,a,l)}}else{Ai(4,r,s);try{s.call(r)}finally{Ai(5,r,s)}}}}}function US(n,e,t){return xL(n,e.parent,t)}function xL(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[rr];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===Mi.None||s===Mi.Emulated)return null}return si(i,t)}}function Qd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function BS(n,e,t){n.appendChild(e,t)}function BC(n,e,t,i,r){i!==null?Qd(n,e,t,i,r):BS(n,e,t)}function $S(n,e){return n.parentNode(e)}function ML(n,e){return n.nextSibling(e)}function HS(n,e,t){return OL(n,e,t)}function RL(n,e,t){return n.type&40?si(n,t):null}var OL=RL,$C;function Sh(n,e,t,i){let r=US(n,i,e),s=e[wt],o=i.parent||e[Rn],a=HS(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)BC(s,r,t[l],a,!1);else BC(s,r,t,a,!1);$C!==void 0&&$C(s,i,e,t,r)}function Ol(n,e){if(e!==null){let t=e.type;if(t&3)return si(e,n);if(t&4)return zg(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Ol(n,i);{let r=n[e.index];return sr(r)?zg(-1,r):Oi(r)}}else{if(t&128)return Ol(n,e.next);if(t&32)return e_(e,n)()||Oi(n[e.index]);{let i=zS(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Os(n[Vn]);return Ol(r,i)}else return Ol(n,e.next)}}}return null}function zS(n,e){if(e!==null){let i=n[Vn][Rn],r=e.projection;return i.projection[r]}return null}function zg(n,e){let t=on+n+1;if(t<e.length){let i=e[t],r=i[ve].firstChild;if(r!==null)return Ol(i,r)}return e[Rs]}function NL(n,e,t){n.removeChild(null,e,t)}function n_(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&zr(Oi(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)n_(n,e,t.child,i,r,s,!1),Uo(e,n,r,a,s);else if(l&32){let u=e_(t,i),d;for(;d=u();)Uo(e,n,r,d,s);Uo(e,n,r,a,s)}else l&16?qS(n,e,i,t,r,s):Uo(e,n,r,a,s);t=o?t.projectionNext:t.next}}function Dh(n,e,t,i,r,s){n_(t,i,n.firstChild,e,r,s,!1)}function PL(n,e,t){let i=e[wt],r=US(n,t,e),s=t.parent||e[Rn],o=HS(s,t,e);qS(i,0,e,t,r,o)}function qS(n,e,t,i,r,s){let o=t[Vn],l=o[Rn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Uo(e,n,r,d,s)}else{let u=l,d=o[an];_S(i)&&(u.flags|=128),n_(n,e,u,d,r,s,!0)}}function kL(n,e,t,i,r){let s=t[Rs],o=Oi(t);s!==o&&Uo(e,n,i,s,r);for(let a=on;a<t.length;a++){let l=t[a];Dh(l[ve],l,n,e,i,s)}}function LL(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Pi.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Pi.Important),n.setStyle(t,i,r,s))}}function FL(n,e,t){n.setAttribute(e,"style",t)}function GS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function WS(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Eg(n,e,i),r!==null&&GS(n,e,r),s!==null&&FL(n,e,s)}var yi={};function T(n=1){KS(At(),Ce(),Qr()+n,!1)}function KS(n,e,t,i){if(!i)if((e[fe]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Rd(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Od(e,s,0,t)}Ns(t)}function P(n,e=Re.Default){let t=Ce();if(t===null)return le(n,e);let i=Zt();return dS(i,t,vn(n),e)}function QS(){let n="invalid";throw new Error(n)}function YS(n,e,t,i,r,s){let o=Fe(null);try{let a=null;r&Ur.SignalBased&&(a=e[i][Si]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Ur.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):LT(e,a,i,s)}finally{Fe(o)}}function VL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ns(~r);else{let s=r,o=t[++i],a=t[++i];ak(o,s);let l=e[s];a(2,l)}}}finally{Ns(-1)}}function Ah(n,e,t,i,r,s,o,a,l,u,d){let p=e.blueprint.slice();return p[rr]=r,p[fe]=i|4|128|8|64,(u!==null||n&&n[fe]&2048)&&(p[fe]|=2048),$T(p),p[an]=p[ra]=n,p[sn]=t,p[Ri]=o||n&&n[Ri],p[wt]=a||n&&n[wt],p[Qo]=l||n&&n[Qo]||null,p[Rn]=s,p[ph]=Bk(),p[Ko]=d,p[PT]=u,p[Vn]=e.type==2?n[Vn]:p,p}function la(n,e,t,i,r){let s=n.data[e];if(s===null)s=jL(n,e,t,i,r),ok()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=ik();s.injectorIndex=o===null?-1:o.injectorIndex}return Vs(s,!0),s}function jL(n,e,t,i,r){let s=KT(),o=Ly(),a=o?s:s&&s.parent,l=n.data[e]=qL(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ZS(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function JS(n,e,t,i,r){let s=Qr(),o=i&2;try{Ns(-1),o&&e.length>wn&&KS(n,e,wn,!1),Ai(o?2:0,r),t(i,r)}finally{Ns(s),Ai(o?3:1,r)}}function i_(n,e,t){if(Ny(e)){let i=Fe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Fe(i)}}}function r_(n,e,t){GT()&&(ZL(n,e,t,si(t,e)),(t.flags&64)===64&&nD(n,e,t))}function s_(n,e,t=si){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function XS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=o_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function o_(n,e,t,i,r,s,o,a,l,u,d){let p=wn+i,m=p+r,y=UL(p,m),v=typeof u=="function"?u():u;return y[ve]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function UL(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:yi);return t}function BL(n,e,t,i){let s=i.get(Wk,TS)||t===Mi.ShadowDom,o=n.selectRootElement(e,s);return $L(o),o}function $L(n){HL(n)}var HL=()=>null;function zL(n,e,t,i){let r=sD(e);r.push(t),n.firstCreatePass&&oD(n).push(i,r.length-1)}function qL(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return WT()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function HC(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=Ur.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?zC(i,t,u,a,l):zC(i,t,u,a)}return i}function zC(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function GL(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,u=null;for(let d=i;d<r;d++){let p=s[d],m=t?t.get(p):null,y=m?m.inputs:null,v=m?m.outputs:null;l=HC(0,p.inputs,d,l,y),u=HC(1,p.outputs,d,u,v);let D=l!==null&&o!==null&&!My(e)?lF(l,d,o):null;a.push(D)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function WL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function eD(n,e,t,i,r,s,o,a){let l=si(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(l_(n,t,d,i,r),mh(e)&&KL(t,e.index)):e.type&3?(i=WL(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function KL(n,e){let t=Kr(e,n);t[fe]&16||(t[fe]|=64)}function a_(n,e,t,i){if(GT()){let r=i===null?null:{"":-1},s=XL(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&tD(n,e,t,o,r,a),r&&eF(t,i,r)}t.mergedAttrs=Ll(t.mergedAttrs,t.attrs)}function tD(n,e,t,i,r,s){for(let u=0;u<i.length;u++)Og(qd(t,e),n,i[u].type);nF(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=ZS(n,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];t.mergedAttrs=Ll(t.mergedAttrs,d.hostAttrs),iF(n,t,e,l,d),tF(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}GL(n,t,s)}function QL(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;YL(o)!=a&&o.push(a),o.push(t,i,s)}}function YL(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function ZL(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;mh(t)&&rF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||qd(t,e),zr(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],u=ks(e,n,a,t);if(zr(u,e),o!==null&&aF(e,a-r,u,l,t,o),$r(l)){let d=Kr(t.index,e);d[sn]=ks(e,n,a,t)}}}function nD(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=lk();try{Ns(s);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];xg(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&JL(l,u)}}finally{Ns(-1),xg(o)}}function JL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function XL(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(wT(e,o.selectors,!1))if(i||(i=[]),$r(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;qg(n,e,l)}else i.unshift(o),qg(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function qg(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function eF(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new H(-301,!1);i.push(e[r],s)}}}function tF(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;$r(e)&&(t[""]=n)}}function nF(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function iF(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=zo(r.type,!0)),o=new Ps(s,$r(r),P);n.blueprint[i]=o,t[i]=o,QL(n,e,i,ZS(n,t,r.hostVars,yi),r)}function rF(n,e,t){let i=si(e,n),r=XS(t),s=n[Ri].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=xh(n,Ah(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function sF(n,e,t,i,r,s){let o=si(n,e);oF(e[wt],o,s,n.value,t,i,r)}function oF(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Hl(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function aF(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],u=o[a++],d=o[a++],p=o[a++];YS(i,t,l,u,d,p)}}function lF(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function iD(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function rD(n,e){let t=n.contentQueries;if(t!==null){let i=Fe(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];Vy(s),a.contentQueries(2,e[o],o)}}}finally{Fe(i)}}}function xh(n,e){return n[Vl]?n[bC][mi]=e:n[Vl]=e,n[bC]=e,e}function Gg(n,e,t){Vy(0);let i=Fe(null);try{e(n,t)}finally{Fe(i)}}function sD(n){return n[Ud]??=[]}function oD(n){return n.cleanup??=[]}function aD(n,e){let t=n[Qo],i=t?t.get(Ni,null):null;i&&i.handleError(e)}function l_(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],u=e[o],d=n.data[o];YS(d,u,i,a,l,r)}}function cF(n,e,t){let i=BT(e,n);wL(n[wt],i,t)}function uF(n,e){let t=Kr(e,n),i=t[ve];dF(i,t);let r=t[rr];r!==null&&t[Ko]===null&&(t[Ko]=Yy(r,t[Qo])),c_(i,t,t[sn])}function dF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function c_(n,e,t){jy(e);try{let i=n.viewQuery;i!==null&&Gg(1,i,t);let r=n.template;r!==null&&JS(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[nr]?.finishViewCreation(n),n.staticContentQueries&&rD(n,e),n.staticViewQueries&&Gg(2,n.viewQuery,t);let s=n.components;s!==null&&hF(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[fe]&=-5,Uy()}}function hF(n,e){for(let t=0;t<e.length;t++)uF(n,e[t])}function Wl(n,e,t,i){let r=Fe(null);try{let s=e.tView,a=n[fe]&4096?4096:16,l=Ah(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[Ms]=u;let d=n[nr];return d!==null&&(l[nr]=d.createEmbeddedView(s)),c_(s,l,t),l}finally{Fe(r)}}function lD(n,e){let t=on+e;if(t<n.length)return n[t]}function Zo(n,e){return!e||e.firstChild===null||_S(n)}function Kl(n,e,t,i=!0){let r=e[ve];if(SL(r,e,n,t),i){let o=zg(t,n),a=e[wt],l=$S(a,n[Rs]);l!==null&&CL(r,n[Rn],a,e,l,o)}let s=e[Ko];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function cD(n,e){let t=jl(n,e);return t!==void 0&&Th(t[ve],t),t}function Yd(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Oi(s)),sr(s)&&fF(s,i);let o=t.type;if(o&8)Yd(n,e,t.child,i);else if(o&32){let a=e_(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=zS(e,t);if(Array.isArray(a))i.push(...a);else{let l=Os(e[Vn]);Yd(l[ve],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function fF(n,e){for(let t=on;t<n.length;t++){let i=n[t],r=i[ve].firstChild;r!==null&&Yd(i[ve],i,r,e)}n[Rs]!==n[rr]&&e.push(n[Rs])}var uD=[];function pF(n){return n[ri]??mF(n)}function mF(n){let e=uD.pop()??Object.create(yF);return e.lView=n,e}function gF(n){n.lView[ri]!==n&&(n.lView=null,uD.push(n))}var yF=Ee(U({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{_h(n.lView)},consumerOnSignalRead(){this.lView[ri]=this}});function _F(n){let e=n[ri]??Object.create(vF);return e.lView=n,e}var vF=Ee(U({},Co),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Os(n.lView);for(;e&&!dD(e[ve]);)e=Os(e);e&&HT(e)},consumerOnSignalRead(){this.lView[ri]=this}});function dD(n){return n.type!==2}var IF=100;function hD(n,e=!0,t=0){let i=n[Ri],r=i.rendererFactory,s=!1;s||r.begin?.();try{wF(n,t)}catch(o){throw e&&aD(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function wF(n,e){let t=QT();try{TC(!0),Wg(n,e);let i=0;for(;yh(n);){if(i===IF)throw new H(103,!1);i++,Wg(n,1)}}finally{TC(t)}}function EF(n,e,t,i){let r=e[fe];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Ri].inlineEffectRunner?.flush(),jy(e);let a=!0,l=null,u=null;s||(dD(n)?(u=pF(e),l=Dl(u)):Ab()===null?(a=!1,u=_F(e),l=Dl(u)):e[ri]&&(Qu(e[ri]),e[ri]=null));try{$T(e),sk(n.bindingStartIndex),t!==null&&JS(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let y=n.preOrderCheckHooks;y!==null&&Rd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Od(e,y,0,null),ag(e,0)}if(o||bF(e),fD(e,0),n.contentQueries!==null&&rD(n,e),!s)if(d){let y=n.contentCheckHooks;y!==null&&Rd(e,y)}else{let y=n.contentHooks;y!==null&&Od(e,y,1),ag(e,1)}VL(n,e);let p=n.components;p!==null&&mD(e,p,0);let m=n.viewQuery;if(m!==null&&Gg(2,m,i),!s)if(d){let y=n.viewCheckHooks;y!==null&&Rd(e,y)}else{let y=n.viewHooks;y!==null&&Od(e,y,2),ag(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Md]){for(let y of e[Md])y();e[Md]=null}s||(e[fe]&=-73)}catch(d){throw s||_h(e),d}finally{u!==null&&(Wu(u,l),a&&gF(u)),Uy()}}function fD(n,e){for(let t=IS(n);t!==null;t=wS(t))for(let i=on;i<t.length;i++){let r=t[i];pD(r,e)}}function bF(n){for(let e=IS(n);e!==null;e=wS(e)){if(!(e[fe]&$d.HasTransplantedViews))continue;let t=e[Yo];for(let i=0;i<t.length;i++){let r=t[i];HT(r)}}}function CF(n,e,t){let i=Kr(e,n);pD(i,t)}function pD(n,e){ky(n)&&Wg(n,e)}function Wg(n,e){let i=n[ve],r=n[fe],s=n[ri],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Ku(s)),o||=!1,s&&(s.dirty=!1),n[fe]&=-9217,o)EF(i,n,i.template,n[sn]);else if(r&8192){fD(n,1);let a=i.components;a!==null&&mD(n,a,1)}}function mD(n,e,t){for(let i=0;i<e.length;i++)CF(n,e[i],t)}function u_(n,e){let t=QT()?64:1088;for(n[Ri].changeDetectionScheduler?.notify(e);n;){n[fe]|=t;let i=Os(n);if(Sg(n)&&!i)return n;n=i}return null}var Ls=class{get rootNodes(){let e=this._lView,t=e[ve];return Yd(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[fe]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[an];if(sr(e)){let t=e[Bd],i=t?t.indexOf(this):-1;i>-1&&(jl(e,i),Vd(t,i))}this._attachedToViewContainer=!1}Th(this._lView[ve],this._lView)}onDestroy(e){zT(this._lView,e)}markForCheck(){u_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[fe]&=-129}reattach(){Ag(this._lView),this._lView[fe]|=128}detectChanges(){this._lView[fe]|=1024,hD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Sg(this._lView),t=this._lView[Ms];t!==null&&!e&&t_(t,this._lView),VS(this._lView[ve],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Sg(this._lView),i=this._lView[Ms];i!==null&&!t&&jS(i,this._lView),Ag(this._lView)}},gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=DF;let n=e;return n})(),TF=gi,SF=class extends TF{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Wl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Ls(r)}};function DF(){return Mh(Zt(),Ce())}function Mh(n,e){return n.type&4?new SF(e,n,aa(n,e)):null}var HZ=new RegExp(`^(\\d+)*(${qk}|${zk})*(.*)`);var AF=()=>null;function Jo(n,e){return AF(n,e)}var Xo=class{},d_=new se("",{providedIn:"root",factory:()=>!1});var gD=new se(""),yD=new se(""),Kg=class{},Zd=class{};function xF(n){let e=Error(`No component factory found for ${In(n)}.`);return e[MF]=n,e}var MF="ngComponent";var Qg=class{resolveComponentFactory(e){throw xF(e)}},v_=class v_{};v_.NULL=new Qg;var ea=v_,qr=class{},ht=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>RF();let n=e;return n})();function RF(){let n=Ce(),e=Zt(),t=Kr(e.index,n);return(jr(t)?t:n)[wt]}var OF=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function Jd(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=_g(r,a);else if(s==2){let l=a,u=e[++o];i=_g(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Xd=class extends ea{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Br(e);return new ta(t,this.ngModule)}};function qC(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Ur.None;e?t.push({propName:o,templateName:i,isSignal:(a&Ur.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function NF(n){let e=n.toLowerCase();return e==="svg"?UT:e==="math"?GP:null}var ta=class extends Zd{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=qC(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return qC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=SP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=Fe(null);try{r=r||this.ngModule;let o=r instanceof Fn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Mg(e,o):e,l=a.get(qr,null);if(l===null)throw new H(407,!1);let u=a.get(OF,null),d=a.get(Xo,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=i?BL(m,i,this.componentDef.encapsulation,a):FS(m,y,NF(y)),D=512;this.componentDef.signals?D|=4096:this.componentDef.onPush||(D|=16);let A=null;v!==null&&(A=Yy(v,a,!0));let k=o_(0,null,null,1,0,null,null,null,null,null,null),$=Ah(null,k,null,D,null,null,p,m,a,null,A);jy($);let W,J,ke=null;try{let ne=this.componentDef,b,_=null;ne.findHostDirectiveDefs?(b=[],_=new Map,ne.findHostDirectiveDefs(ne,b,_),b.push(ne)):b=[ne];let I=PF($,v);ke=kF(I,v,ne,b,$,p,m),J=Py(k,wn),v&&VF(m,ne,v,i),t!==void 0&&jF(J,this.ngContentSelectors,t),W=FF(ke,ne,b,_,$,[UF]),c_(k,$,null)}catch(ne){throw ke!==null&&jg(ke),jg($),ne}finally{Uy()}return new Yg(this.componentType,W,aa(J,$),$,J)}finally{Fe(s)}}},Yg=class extends Kg{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Ls(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;l_(s[ve],s,r,e,t),this.previousInputValues.set(e,t);let o=Kr(this._tNode.index,s);u_(o,1)}}get injector(){return new xs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function PF(n,e){let t=n[ve],i=wn;return n[i]=e,la(t,i,2,"#host",null)}function kF(n,e,t,i,r,s,o){let a=r[ve];LF(i,n,e,o);let l=null;e!==null&&(l=Yy(e,r[Qo]));let u=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let p=Ah(r,XS(t),null,d,r[n.index],n,s,u,null,null,l);return a.firstCreatePass&&qg(a,n,i.length-1),xh(r,p),r[n.index]=p}function LF(n,e,t,i){for(let r of n)e.mergedAttrs=Ll(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Jd(e,e.mergedAttrs,!0),t!==null&&WS(i,t,e))}function FF(n,e,t,i,r,s){let o=Zt(),a=r[ve],l=si(o,r);tD(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let p=o.directiveStart+d,m=ks(r,a,p,o);zr(m,r)}nD(a,r,o),l&&zr(l,r);let u=ks(r,a,o.directiveStart+o.componentOffset,o);if(n[sn]=r[sn]=u,s!==null)for(let d of s)d(u,e);return i_(a,o,r),u}function VF(n,e,t,i){if(i)Eg(n,t,["ng-version","18.2.2"]);else{let{attrs:r,classes:s}=DP(e.selectors[0]);r&&Eg(n,t,r),s&&s.length>0&&GS(n,t,s.join(" "))}}function jF(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function UF(){let n=Zt();wh(Ce()[ve],n)}var _i=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=BF;let n=e;return n})();function BF(){let n=Zt();return vD(n,Ce())}var $F=_i,_D=class extends $F{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new xs(this._hostTNode,this._hostLView)}get parentInjector(){let e=$y(this._hostTNode,this._hostLView);if(sS(e)){let t=zd(e,this._hostLView),i=Hd(e),r=t[ve].data[i+8];return new xs(r,t)}else return new xs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=GC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Jo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Zo(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!$P(e),a;if(o)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?e:new ta(Br(e)),u=i||this.parentInjector;if(!s&&l.ngModule==null){let D=(o?u:this.parentInjector).get(Fn,null);D&&(s=D)}let d=Br(l.componentType??{}),p=Jo(this._lContainer,d?.id??null),m=p?.firstChild??null,y=l.create(u,r,m,s);return this.insertImpl(y.hostView,a,Zo(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(QP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[an],u=new _D(l,l[Rn],l[an]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Kl(o,r,s,i),e.attachToViewContainerRef(),mT(hg(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=GC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=jl(this._lContainer,t);i&&(Vd(hg(this._lContainer),t),Th(i[ve],i))}detach(e){let t=this._adjustIndex(e,-1),i=jl(this._lContainer,t);return i&&Vd(hg(this._lContainer),t)!=null?new Ls(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function GC(n){return n[Bd]}function hg(n){return n[Bd]||(n[Bd]=[])}function vD(n,e){let t,i=e[n.index];return sr(i)?t=i:(t=iD(i,e,null,n),e[n.index]=t,xh(e,t)),zF(t,e,n,i),new _D(t,n,e)}function HF(n,e){let t=n[wt],i=t.createComment(""),r=si(e,n),s=$S(t,r);return Qd(t,s,i,ML(t,r),!1),i}var zF=WF,qF=()=>!1;function GF(n,e,t){return qF(n,e,t)}function WF(n,e,t,i){if(n[Rs])return;let r;t.type&8?r=Oi(i):r=HF(e,t),n[Rs]=r}var Zg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Jg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)h_(e,t).matches!==null&&this.queries[t].setDirty()}},eh=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=t2(e):this.predicate=e}},Xg=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ey=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,KF(t,s)),this.matchTNodeWithReadOption(e,t,Nd(t,e,s,!1,!1))}else i===gi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Nd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Qe||r===_i||r===gi&&t.type&4)this.addMatch(t.index,-2);else{let s=Nd(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function KF(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function QF(n,e){return n.type&11?aa(n,e):n.type&4?Mh(n,e):null}function YF(n,e,t,i){return t===-1?QF(e,n):t===-2?ZF(n,e,i):ks(n,n[ve],t,e)}function ZF(n,e,t){if(t===Qe)return aa(e,n);if(t===gi)return Mh(e,n);if(t===_i)return vD(e,n)}function ID(n,e,t,i){let r=e[nr].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let d=s[u];a.push(YF(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function ty(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=ID(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-l];for(let p=on;p<d.length;p++){let m=d[p];m[Ms]===m[an]&&ty(m[ve],m,u,i)}if(d[Yo]!==null){let p=d[Yo];for(let m=0;m<p.length;m++){let y=p[m];ty(y[ve],y,u,i)}}}}}return i}function JF(n,e){return n[nr].queries[e].queryList}function wD(n,e,t){let i=new Vg((t&4)===4);return zL(n,e,i,i.destroy),(e[nr]??=new Jg).queries.push(new Zg(i))-1}function XF(n,e,t){let i=At();return i.firstCreatePass&&(ED(i,new eh(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),wD(i,Ce(),e)}function e2(n,e,t,i){let r=At();if(r.firstCreatePass){let s=Zt();ED(r,new eh(e,t,i),s.index),n2(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return wD(r,Ce(),t)}function t2(n){return n.split(",").map(e=>e.trim())}function ED(n,e,t){n.queries===null&&(n.queries=new Xg),n.queries.track(new ey(e,t))}function n2(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function h_(n,e){return n.queries.getByIndex(e)}function i2(n,e){let t=n[ve],i=h_(t,e);return i.crossesNgTemplate?ty(t,n,e,[]):ID(t,n,i,e)}var WC=new Set;function vi(n){WC.has(n)||(WC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function r2(n){return typeof n=="function"&&n[Si]!==void 0}function Jt(n,e){vi("NgSignals");let t=Ub(n),i=t[Si];return e?.equal&&(i.equal=e.equal),t.set=r=>Vm(i,r),t.update=r=>Bb(i,r),t.asReadonly=s2.bind(t),t}function s2(){let n=this[Si];if(n.readonlyFn===void 0){let e=()=>this();e[Si]=n,n.readonlyFn=e}return n.readonlyFn}function bD(n){return r2(n)&&typeof n.set=="function"}function o2(n){return Object.getPrototypeOf(n.prototype).constructor}function Ye(n){let e=o2(n.type),t=!0,i=[n];for(;e;){let r;if($r(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=Sd(n.inputs),o.inputTransforms=Sd(n.inputTransforms),o.declaredInputs=Sd(n.declaredInputs),o.outputs=Sd(n.outputs);let a=r.hostBindings;a&&d2(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&c2(n,l),u&&u2(n,u),a2(n,r),qN(n.outputs,r.outputs),$r(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Ye&&(t=!1)}}e=Object.getPrototypeOf(e)}l2(i)}function a2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function l2(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ll(r.hostAttrs,t=Ll(t,r.hostAttrs))}}function Sd(n){return n===qo?{}:n===Mn?[]:n}function c2(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function u2(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function d2(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function xt(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Gr=class{},Ul=class{};var ny=class extends Gr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Xd(this);let s=TT(e);this._bootstrapComponents=LS(s.bootstrap),this._r3Injector=pS(e,t,[{provide:Gr,useValue:this},{provide:ea,useValue:this.componentFactoryResolver},...i],In(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},iy=class extends Ul{constructor(e){super(),this.moduleType=e}create(e){return new ny(this.moduleType,e,[])}};var th=class extends Gr{constructor(e){super(),this.componentFactoryResolver=new Xd(this),this.instance=null;let t=new Fl([...e.providers,{provide:Gr,useValue:this},{provide:ea,useValue:this.componentFactoryResolver}],e.parent||Oy(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Rh(n,e,t=null){return new th({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function CD(n){return f_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function h2(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function f_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function ca(n,e,t){return n[e]=t}function f2(n,e){return n[e]}function jn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function nh(n,e,t,i){let r=jn(n,e,t);return jn(n,e+1,i)||r}function p2(n,e,t,i,r){let s=nh(n,e,t,i);return jn(n,e+2,r)||s}function m2(n,e,t,i,r,s){let o=nh(n,e,t,i);return nh(n,e+2,r,s)||o}function g2(n){return(n.flags&32)===32}function y2(n,e,t,i,r,s,o,a,l){let u=e.consts,d=la(e,n,4,o||null,a||null);a_(e,t,d,Hr(u,l)),wh(e,d);let p=d.tView=o_(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function ih(n,e,t,i,r,s,o,a,l,u){let d=t+wn,p=e.firstCreatePass?y2(d,e,n,i,r,s,o,a,l):e.data[d];Vs(p,!1);let m=_2(e,n,p,t);vh()&&Sh(e,n,m,p),zr(m,n);let y=iD(m,n,m,p);return n[d]=y,xh(n,y),GF(y,p,n),gh(p)&&r_(e,n,p),l!=null&&s_(n,p,u),p}function j(n,e,t,i,r,s,o,a){let l=Ce(),u=At(),d=Hr(u.consts,s);return ih(l,u,n,e,t,i,r,d,o,a),j}var _2=v2;function v2(n,e,t,i){return Ih(!0),e[wt].createComment("")}var Bo=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Bo||{}),TD=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),As=class As{constructor(){this.ngZone=z(Ie),this.scheduler=z(Xo),this.errorHandler=z(Ni,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of As.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};As.PHASES=[Bo.EarlyRead,Bo.Write,Bo.MixedReadWrite,Bo.Read],As.\u0275prov=Z({token:As,providedIn:"root",factory:()=>new As});var ry=As,sy=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function p_(n,e){!e?.injector&&NT(p_);let t=e?.injector??z(ln);return _L(t)?(vi("NgAfterNextRender"),w2(n,t,e,!0)):E2}function I2(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function w2(n,e,t,i){let r=e.get(TD);r.impl??=e.get(ry);let s=t?.phase??Bo.MixedReadWrite,o=new sy(r.impl,I2(n,s),i,e.get(Eh));return r.impl.register(o),o}var E2={destroy(){}};function K(n,e,t,i){let r=Ce(),s=oa();if(jn(r,s,e)){let o=At(),a=By();sF(a,r,n,e,t,i)}return K}function b2(n,e,t,i){return jn(n,oa(),t)?e+Hl(t)+i:yi}function Dd(n,e){return n<<17|e<<2}function Fs(n){return n>>17&32767}function C2(n){return(n&2)==2}function T2(n,e){return n&131071|e<<17}function oy(n){return n|2}function na(n){return(n&131068)>>2}function fg(n,e){return n&-131069|e<<2}function S2(n){return(n&1)===1}function ay(n){return n|1}function D2(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Fs(o),l=na(o);n[i]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||zl(p,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let m=Fs(n[a+1]);n[i+1]=Dd(m,a),m!==0&&(n[m+1]=fg(n[m+1],i)),n[a+1]=T2(n[a+1],i)}else n[i+1]=Dd(a,0),a!==0&&(n[a+1]=fg(n[a+1],i)),a=i;else n[i+1]=Dd(l,0),a===0?a=i:n[l+1]=fg(n[l+1],i),l=i;u&&(n[i+1]=oy(n[i+1])),KC(n,d,i,!0),KC(n,d,i,!1),A2(e,d,n,i,s),o=Dd(a,l),s?e.classBindings=o:e.styleBindings=o}function A2(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&zl(s,e)>=0&&(t[i+1]=ay(t[i+1]))}function KC(n,e,t,i){let r=n[t+1],s=e===null,o=i?Fs(r):na(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],u=n[o+1];x2(l,e)&&(a=!0,n[o+1]=i?ay(u):oy(u)),o=i?Fs(u):na(u)}a&&(n[t+1]=i?oy(r):ay(r))}function x2(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?zl(n,e)>=0:!1}var Bt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function SD(n){return n.substring(Bt.key,Bt.keyEnd)}function M2(n){return n.substring(Bt.value,Bt.valueEnd)}function R2(n){return xD(n),DD(n,ia(n,0,Bt.textEnd))}function DD(n,e){let t=Bt.textEnd;return t===e?-1:(e=Bt.keyEnd=N2(n,Bt.key=e,t),ia(n,e,t))}function O2(n){return xD(n),AD(n,ia(n,0,Bt.textEnd))}function AD(n,e){let t=Bt.textEnd,i=Bt.key=ia(n,e,t);return t===i?-1:(i=Bt.keyEnd=P2(n,i,t),i=QC(n,i,t,58),i=Bt.value=ia(n,i,t),i=Bt.valueEnd=k2(n,i,t),QC(n,i,t,59))}function xD(n){Bt.key=0,Bt.keyEnd=0,Bt.value=0,Bt.valueEnd=0,Bt.textEnd=n.length}function ia(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function N2(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function P2(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function QC(n,e,t,i){return e=ia(n,e,t),e<t&&e++,e}function k2(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=YC(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=YC(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function YC(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function E(n,e,t){let i=Ce(),r=oa();if(jn(i,r,e)){let s=At(),o=By();eD(s,o,i,n,e,i[wt],t,!1)}return E}function ly(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";l_(n,t,s[o],o,i)}function Li(n,e){return V2(n,e,null,!0),Li}function Oh(n){MD(ND,L2,n,!1)}function L2(n,e){for(let t=O2(e);t>=0;t=AD(e,t))ND(n,SD(e),M2(e))}function pe(n){MD(z2,F2,n,!0)}function F2(n,e){for(let t=R2(e);t>=0;t=DD(e,t))hh(n,SD(e),!0)}function V2(n,e,t,i){let r=Ce(),s=At(),o=YT(2);if(s.firstUpdatePass&&OD(s,n,o,i),e!==yi&&jn(r,o,e)){let a=s.data[Qr()];PD(s,a,r,r[wt],n,r[o+1]=G2(e,t),i,o)}}function MD(n,e,t,i){let r=At(),s=YT(2);r.firstUpdatePass&&OD(r,null,s,i);let o=Ce();if(t!==yi&&jn(o,s,t)){let a=r.data[Qr()];if(kD(a,i)&&!RD(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=_g(l,t||"")),ly(r,a,o,t,i)}else q2(r,a,o,o[wt],o[s+1],o[s+1]=H2(n,e,t),i,s)}}function RD(n,e){return e>=n.expandoStartIndex}function OD(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Qr()],o=RD(n,t);kD(s,i)&&e===null&&!o&&(e=!1),e=j2(r,s,e,i),D2(r,s,e,t,o,i)}}function j2(n,e,t,i){let r=ck(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=pg(null,n,e,t,i),t=Bl(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=pg(r,n,e,t,i),s===null){let l=U2(n,e,i);l!==void 0&&Array.isArray(l)&&(l=pg(null,n,e,l[1],i),l=Bl(l,e.attrs,i),B2(n,e,i,l))}else s=$2(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function U2(n,e,t){let i=t?e.classBindings:e.styleBindings;if(na(i)!==0)return n[Fs(i)]}function B2(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Fs(r)]=i}function $2(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Bl(i,o,t)}return Bl(i,e.attrs,t)}function pg(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Bl(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Bl(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),hh(n,o,t?!0:e[++s]))}return n===void 0?null:n}function H2(n,e,t){if(t==null||t==="")return Mn;let i=[],r=Yr(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function ND(n,e,t){hh(n,e,Yr(t))}function z2(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&hh(n,i,t)}function q2(n,e,t,i,r,s,o,a){r===yi&&(r=Mn);let l=0,u=0,d=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let m=l<r.length?r[l+1]:void 0,y=u<s.length?s[u+1]:void 0,v=null,D;d===p?(l+=2,u+=2,m!==y&&(v=p,D=y)):p===null||d!==null&&d<p?(l+=2,v=d):(u+=2,v=p,D=y),v!==null&&PD(n,e,t,i,v,D,o,a),d=l<r.length?r[l]:null,p=u<s.length?s[u]:null}}function PD(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=S2(u)?ZC(l,e,t,r,na(u),o):void 0;if(!rh(d)){rh(s)||C2(u)&&(s=ZC(l,null,t,r,a,o));let p=BT(Qr(),t);LL(i,o,p,r,s)}}function ZC(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,p=d===null,m=t[r+1];m===yi&&(m=p?Mn:void 0);let y=p?sg(m,i):d===i?m:void 0;if(u&&!rh(y)&&(y=sg(l,i)),rh(y)&&(a=y,o))return a;let v=n[r+1];r=o?Fs(v):na(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=sg(l,i))}return a}function rh(n){return n!==void 0}function G2(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=In(Yr(n)))),n}function kD(n,e){return(n.flags&(e?8:16))!==0}var cy=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function mg(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function W2(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let u=n.at(s),d=e[s],p=mg(s,u,s,d,t);if(p!==0){p<0&&n.updateValue(s,d),s++;continue}let m=n.at(o),y=e[l],v=mg(o,m,l,y,t);if(v!==0){v<0&&n.updateValue(o,y),o--,l--;continue}let D=t(s,u),A=t(o,m),k=t(s,d);if(Object.is(k,A)){let $=t(l,y);Object.is($,D)?(n.swap(s,o),n.updateValue(o,y),l--,o--):n.move(o,s),n.updateValue(s,d),s++;continue}if(i??=new sh,r??=XC(n,s,o,t),uy(n,i,s,k))n.updateValue(s,d),s++,o++;else if(r.has(k))i.set(D,n.detach(s)),o--;else{let $=n.create(s,e[s]);n.attach(s,$),s++,o++}}for(;s<=l;)JC(n,i,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&s<=o;){let d=n.at(s),p=u.value,m=mg(s,d,s,p,t);if(m!==0)m<0&&n.updateValue(s,p),s++,u=l.next();else{i??=new sh,r??=XC(n,s,o,t);let y=t(s,p);if(uy(n,i,s,y))n.updateValue(s,p),s++,o++,u=l.next();else if(!r.has(y))n.attach(s,n.create(s,p)),s++,o++,u=l.next();else{let v=t(s,d);i.set(v,n.detach(s)),o--}}}for(;!u.done;)JC(n,i,t,n.length,u.value),u=l.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(l=>{n.destroy(l)})}function uy(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function JC(n,e,t,i,r){if(uy(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function XC(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var sh=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function Nh(n,e){vi("NgControlFlow");let t=Ce(),i=oa(),r=t[i]!==yi?t[i]:-1,s=r!==-1?oh(t,wn+r):void 0,o=0;if(jn(t,i,n)){let a=Fe(null);try{if(s!==void 0&&cD(s,o),n!==-1){let l=wn+n,u=oh(t,l),d=py(t[ve],l),p=Jo(u,d.tView.ssrId),m=Wl(t,d,e,{dehydratedView:p});Kl(u,m,o,Zo(d,p))}}finally{Fe(a)}}else if(s!==void 0){let a=lD(s,o);a!==void 0&&(a[sn]=e)}}var dy=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-on}};function LD(n,e){return e}var hy=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function Ph(n,e,t,i,r,s,o,a,l,u,d,p,m){vi("NgControlFlow");let y=Ce(),v=At(),D=l!==void 0,A=Ce(),k=a?o.bind(A[Vn][sn]):o,$=new hy(D,k);A[wn+n]=$,ih(y,v,n+1,e,t,i,r,Hr(v.consts,s)),D&&ih(y,v,n+2,l,u,d,p,Hr(v.consts,m))}var fy=class extends cy{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-on}at(e){return this.getLView(e)[sn].$implicit}attach(e,t){let i=t[Ko];this.needsIndexUpdate||=e!==this.length,Kl(this.lContainer,t,e,Zo(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,K2(this.lContainer,e)}create(e,t){let i=Jo(this.lContainer,this.templateTNode.tView.ssrId),r=Wl(this.hostLView,this.templateTNode,new dy(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Th(e[ve],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[sn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[sn].$index=e}getLView(e){return Q2(this.lContainer,e)}};function kh(n){let e=Fe(null),t=Qr();try{let i=Ce(),r=i[ve],s=i[t],o=t+1,a=oh(i,o);if(s.liveCollection===void 0){let u=py(r,o);s.liveCollection=new fy(a,i,u)}else s.liveCollection.reset();let l=s.liveCollection;if(W2(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=oa(),d=l.length===0;if(jn(i,u,d)){let p=t+2,m=oh(i,p);if(d){let y=py(r,p),v=Jo(m,y.tView.ssrId),D=Wl(i,y,void 0,{dehydratedView:v});Kl(m,D,0,Zo(y,v))}else cD(m,0)}}}finally{Fe(e)}}function oh(n,e){return n[e]}function K2(n,e){return jl(n,e)}function Q2(n,e){return lD(n,e)}function py(n,e){return Py(n,e)}function Y2(n,e,t,i,r,s){let o=e.consts,a=Hr(o,r),l=la(e,n,2,i,a);return a_(e,t,l,Hr(o,s)),l.attrs!==null&&Jd(l,l.attrs,!1),l.mergedAttrs!==null&&Jd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function F(n,e,t,i){let r=Ce(),s=At(),o=wn+n,a=r[wt],l=s.firstCreatePass?Y2(o,s,r,e,t,i):s.data[o],u=Z2(s,r,l,a,e,n);r[o]=u;let d=gh(l);return Vs(l,!0),WS(a,u,l),!g2(l)&&vh()&&Sh(s,r,u,l),JP()===0&&zr(u,r),XP(),d&&(r_(s,r,l),i_(s,l,r)),i!==null&&s_(r,l),F}function V(){let n=Zt();Ly()?Fy():(n=n.parent,Vs(n,!1));let e=n;tk(e)&&nk(),ek();let t=At();return t.firstCreatePass&&(wh(t,n),Ny(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&gk(e)&&ly(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yk(e)&&ly(t,e,Ce(),e.stylesWithoutHost,!1),V}function Q(n,e,t,i){return F(n,e,t,i),V(),Q}var Z2=(n,e,t,i,r,s)=>(Ih(!0),FS(i,r,hk()));function J2(n,e,t,i,r){let s=e.consts,o=Hr(s,i),a=la(e,n,8,"ng-container",o);o!==null&&Jd(a,o,!0);let l=Hr(s,r);return a_(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function xe(n,e,t){let i=Ce(),r=At(),s=n+wn,o=r.firstCreatePass?J2(s,r,i,e,t):r.data[s];Vs(o,!0);let a=X2(r,i,o,n);return i[s]=a,vh()&&Sh(r,i,a,o),zr(a,i),gh(o)&&(r_(r,i,o),i_(r,o,i)),t!=null&&s_(i,o),xe}function Me(){let n=Zt(),e=At();return Ly()?Fy():(n=n.parent,Vs(n,!1)),e.firstCreatePass&&(wh(e,n),Ny(n)&&e.queries.elementEnd(n)),Me}function Ne(n,e,t){return xe(n,e,t),Me(),Ne}var X2=(n,e,t,i)=>(Ih(!0),EL(e[wt],""));function nt(){return Ce()}var ah="en-US";var eV=ah;function tV(n){typeof n=="string"&&(eV=n.toLowerCase().replace(/_/g,"-"))}var nV=(n,e,t)=>{};function me(n,e,t,i){let r=Ce(),s=At(),o=Zt();return FD(s,r,r[wt],o,n,e,i),me}function iV(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Ud],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function FD(n,e,t,i,r,s,o){let a=gh(i),u=n.firstCreatePass&&oD(n),d=e[sn],p=sD(e),m=!0;if(i.type&3||o){let D=si(i,e),A=o?o(D):D,k=p.length,$=o?J=>o(Oi(J[i.index])):i.index,W=null;if(!o&&a&&(W=iV(n,e,r,i.index)),W!==null){let J=W.__ngLastListenerFn__||W;J.__ngNextListenerFn__=s,W.__ngLastListenerFn__=s,m=!1}else{s=tT(i,e,d,s),nV(D,r,s);let J=t.listen(A,r,s);p.push(s,J),u&&u.push(r,$,k,k+1)}}else s=tT(i,e,d,s);let y=i.outputs,v;if(m&&y!==null&&(v=y[r])){let D=v.length;if(D)for(let A=0;A<D;A+=2){let k=v[A],$=v[A+1],ke=e[k][$].subscribe(s),ne=p.length;p.push(s,ke),u&&u.push(r,i.index,ne,-(ne+1))}}}function eT(n,e,t,i){let r=Fe(null);try{return Ai(6,e,t),t(i)!==!1}catch(s){return aD(n,s),!1}finally{Ai(7,e,t),Fe(r)}}function tT(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Kr(n.index,e):e;u_(o,5);let a=eT(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=eT(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function R(n=1){return dk(n)}function rV(n,e){let t=null,i=wP(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?wT(n,s,!0):CP(i,s))return r}return t}function cn(n){let e=Ce()[Vn][Rn];if(!e.projection){let t=n?n.length:1,i=e.projection=hP(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?rV(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function qt(n,e=0,t,i,r,s){let o=Ce(),a=At(),l=i?n+1:null;l!==null&&ih(o,a,l,i,r,s,null,t);let u=la(a,wn+n,16,null,t||null);u.projection===null&&(u.projection=e),Fy();let p=!o[Ko]||WT();o[Vn][Rn].projection[u.projection]===null&&l!==null?sV(o,a,l):p&&(u.flags&32)!==32&&PL(a,o,u)}function sV(n,e,t){let i=wn+t,r=e.data[i],s=n[i],o=Jo(s,r.tView.ssrId),a=Wl(n,r,void 0,{dehydratedView:o});Kl(s,a,0,Zo(r,o))}function Pt(n,e,t,i){e2(n,e,t,i)}function bt(n,e,t){XF(n,e,t)}function $e(n){let e=Ce(),t=At(),i=ZT();Vy(i+1);let r=h_(t,i);if(n.dirty&&KP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=i2(e,i);n.reset(s,Vk),n.notifyOnChanges()}return!0}return!1}function He(){return JF(Ce(),ZT())}function un(n){let e=rk();return WP(e,wn+n)}function ft(n,e=""){let t=Ce(),i=At(),r=n+wn,s=i.firstCreatePass?la(i,r,1,e,null):i.data[r],o=oV(i,t,s,e,n);t[r]=o,vh()&&Sh(i,t,o,s),Vs(s,!1)}var oV=(n,e,t,i,r)=>(Ih(!0),IL(e[wt],i));function Xt(n){return ar("",n,""),Xt}function ar(n,e,t){let i=Ce(),r=b2(i,n,e,t);return r!==yi&&cF(i,Qr(),r),ar}function Ql(n,e,t){bD(e)&&(e=e());let i=Ce(),r=oa();if(jn(i,r,e)){let s=At(),o=By();eD(s,o,i,n,e,i[wt],t,!1)}return Ql}function Lh(n,e){let t=bD(n);return t&&n.set(e),t}function Yl(n,e){let t=Ce(),i=At(),r=Zt();return FD(i,t,t[wt],r,n,e),Yl}function aV(n,e,t){let i=At();if(i.firstCreatePass){let r=$r(n);my(t,i.data,i.blueprint,r,!0),my(e,i.data,i.blueprint,r,!1)}}function my(n,e,t,i,r){if(n=vn(n),Array.isArray(n))for(let s=0;s<n.length;s++)my(n[s],e,t,i,r);else{let s=At(),o=Ce(),a=Zt(),l=Wo(n)?n:vn(n.provide),u=RT(n),d=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Wo(n)||!n.multi){let y=new Ps(u,r,P),v=yg(l,e,r?d:d+m,p);v===-1?(Og(qd(a,o),s,l),gg(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[v]=y,o[v]=y)}else{let y=yg(l,e,d+m,p),v=yg(l,e,d,d+m),D=y>=0&&t[y],A=v>=0&&t[v];if(r&&!A||!r&&!D){Og(qd(a,o),s,l);let k=uV(r?cV:lV,t.length,r,i,u);!r&&A&&(t[v].providerFactory=k),gg(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(k),o.push(k)}else{let k=VD(t[r?v:y],u,!r&&i);gg(s,n,y>-1?y:v,k)}!r&&i&&A&&t[v].componentProviders++}}}function gg(n,e,t,i){let r=Wo(e),s=kP(e);if(r||s){let l=(s?vn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,l]):u[d+1].push(i,l)}else u.push(t,l)}}}function VD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function yg(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function lV(n,e,t,i){return gy(this.multi,[])}function cV(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=ks(t,t[ve],this.providerFactory.index,i);s=a.slice(0,o),gy(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],gy(r,s);return s}function gy(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function uV(n,e,t,i,r){let s=new Ps(n,t,P);return s.multi=[],s.index=e,s.componentProviders=0,VD(s,r,i&&!t),s}function $n(n,e=[]){return t=>{t.providersResolver=(i,r)=>aV(i,r?r(n):n,e)}}var dV=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=AT(!1,i.type),s=r.length>0?Rh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Z({token:e,providedIn:"environment",factory:()=>new e(le(Fn))});let n=e;return n})();function Te(n){vi("NgStandalone"),n.getStandaloneInjector=e=>e.get(dV).getOrCreateStandaloneInjector(n)}function Hn(n,e,t){let i=sa()+n,r=Ce();return r[i]===yi?ca(r,i,t?e.call(t):e()):f2(r,i)}function Pe(n,e,t,i){return hV(Ce(),sa(),n,e,t,i)}function zn(n,e,t,i,r){return fV(Ce(),sa(),n,e,t,i,r)}function ua(n,e,t,i,r,s){return pV(Ce(),sa(),n,e,t,i,r,s)}function jD(n,e,t,i,r,s,o){return mV(Ce(),sa(),n,e,t,i,r,s,o)}function UD(n,e,t,i){return gV(Ce(),sa(),n,e,t,i)}function Zl(n,e){let t=n[e];return t===yi?void 0:t}function hV(n,e,t,i,r,s){let o=e+t;return jn(n,o,r)?ca(n,o+1,s?i.call(s,r):i(r)):Zl(n,o+1)}function fV(n,e,t,i,r,s,o){let a=e+t;return nh(n,a,r,s)?ca(n,a+2,o?i.call(o,r,s):i(r,s)):Zl(n,a+2)}function pV(n,e,t,i,r,s,o,a){let l=e+t;return p2(n,l,r,s,o)?ca(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Zl(n,l+3)}function mV(n,e,t,i,r,s,o,a,l){let u=e+t;return m2(n,u,r,s,o,a)?ca(n,u+4,l?i.call(l,r,s,o,a):i(r,s,o,a)):Zl(n,u+4)}function gV(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)jn(n,o++,r[l])&&(a=!0);return a?ca(n,o,i.apply(s,r)):Zl(n,o)}function bn(n,e){return Mh(n,e)}var ir=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},BD=new ir("18.2.2");var Fh=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var $D=new se("");function Us(n){return!!n&&typeof n.then=="function"}function HD(n){return!!n&&typeof n.subscribe=="function"}var Vh=new se(""),zD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=z(Vh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Us(o))i.push(o);else if(HD(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),jh=new se("");function yV(){jb(()=>{throw new H(600,!1)})}function _V(n){return n.isBoundToModule}var vV=10;function IV(n,e,t){try{let i=t();return Us(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Bs=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=z(Lk),this.afterRenderManager=z(TD),this.zonelessEnabled=z(d_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new dt,this.afterTick=new dt,this.componentTypes=[],this.components=[],this.isStable=z(js).hasPendingTasks.pipe(Ve(i=>!i)),this._injector=z(Fn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Zd;if(!this._injector.get(zD).done){let y=!s&&CT(i),v=!1;throw new H(405,v)}let a;s?a=i:a=this._injector.get(ea).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=_V(a)?void 0:this._injector.get(Gr),u=r||a.selector,d=a.create(ln.NULL,[],u,l),p=d.location.nativeElement,m=d.injector.get($D,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Pd(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new H(101,!1);let i=Fe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Fe(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(qr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<vV;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)wV(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>yh(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Pd(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(jh,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Pd(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new H(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Pd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function wV(n,e,t,i){if(!t&&!yh(n))return;hD(n,e,t&&!i?0:1)}var yy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Uh=(()=>{let e=class e{compileModuleSync(i){return new iy(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=TT(i),o=LS(s.declarations).reduce((a,l)=>{let u=Br(l);return u&&a.push(new ta(u)),a},[]);return new yy(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var EV=(()=>{let e=class e{constructor(){this.zone=z(Ie),this.changeDetectionScheduler=z(Xo),this.applicationRef=z(Bs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),bV=new se("",{factory:()=>!1});function qD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ie(Ee(U({},WD()),{scheduleInRootZone:t})),[{provide:Ie,useFactory:n},{provide:Go,multi:!0,useFactory:()=>{let i=z(EV,{optional:!0});return()=>i.initialize()}},{provide:Go,multi:!0,useFactory:()=>{let i=z(CV);return()=>{i.initialize()}}},e===!0?{provide:gD,useValue:!0}:[],{provide:yD,useValue:t??mS}]}function GD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=qD({ngZoneFactory:()=>{let r=WD(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&vi("NgZone_CoalesceEvent"),new Ie(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Wr([{provide:bV,useValue:!0},{provide:d_,useValue:!1},i])}function WD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var CV=(()=>{let e=class e{constructor(){this.subscription=new It,this.initialized=!1,this.zone=z(Ie),this.pendingTasks=z(js)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ie.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ie.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var TV=(()=>{let e=class e{constructor(){this.appRef=z(Bs),this.taskService=z(js),this.ngZone=z(Ie),this.zonelessEnabled=z(d_),this.disableScheduling=z(gD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new It,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Wd):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(z(yD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fg||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?RC:gS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Wd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,RC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function SV(){return typeof $localize<"u"&&$localize.locale||ah}var m_=new se("",{providedIn:"root",factory:()=>z(m_,Re.Optional|Re.SkipSelf)||SV()});var KD=new se("");function Ad(n){return!!n.platformInjector}function DV(n){let e=Ad(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ie);return t.run(()=>{Ad(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Ni,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),Ad(n)){let s=()=>e.destroy(),o=n.platformInjector.get(KD);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Pd(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return IV(i,t,()=>{let s=e.get(zD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(m_,ah);if(tV(o||ah),Ad(n)){let a=e.get(Bs);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return AV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function AV(n,e){let t=n.injector.get(Bs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new H(-403,!1);e.push(n)}var kd=null;function xV(n=[],e){return ln.create({name:e,providers:[{provide:fh,useValue:"platform"},{provide:KD,useValue:new Set([()=>kd=null])},...n]})}function MV(n=[]){if(kd)return kd;let e=xV(n);return kd=e,yV(),RV(e),e}function RV(n){n.get(Wy,null)?.forEach(t=>t())}var Ct=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=OV;let n=e;return n})();function OV(n){return NV(Zt(),Ce(),(n&16)===16)}function NV(n,e,t){if(mh(n)&&!t){let i=Kr(n.index,e);return new Ls(i,i)}else if(n.type&175){let i=e[Vn];return new Ls(i,e)}return null}var _y=class{constructor(){}supports(e){return CD(e)}create(e){return new vy(e)}},PV=(n,e)=>e,vy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||PV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<nT(i,r,s)?t:i,a=nT(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=l-r;if(u!=d){for(let m=0;m<u;m++){let y=m<s.length?s[m]:s[m]=0,v=y+m;d<=v&&v<u&&(s[m]=y+1)}let p=o.previousIndex;s[p]=d-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!CD(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,h2(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Iy(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new lh),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new lh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Iy=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},wy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},lh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new wy,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nT(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var Ey=class{constructor(){}supports(e){return e instanceof Map||f_(e)}create(){return new by}},by=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||f_(e)))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Cy(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},Cy=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function iT(){return new g_([new _y])}var g_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||iT()),deps:[[e,new dh,new Bn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new H(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:iT});let n=e;return n})();function rT(){return new y_([new Ey])}var y_=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||rT()),deps:[[e,new dh,new Bn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new H(901,!1)}};e.\u0275prov=Z({token:e,providedIn:"root",factory:rT});let n=e;return n})();function QD(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=MV(i),s=[qD({}),{provide:Xo,useExisting:TV},...t||[]],o=new th({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return DV({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var YD=new se("");function Y(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Mt(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Fi(n,e){vi("NgSignals");let t=Lb(n);return e?.equal&&(t[Si].equal=e.equal),t}function lr(n){let e=Fe(null);try{return n()}finally{Fe(e)}}var kV=new se("",{providedIn:"root",factory:()=>z(LV)}),LV=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>new Ty});let n=e;return n})(),Ty=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=z(js),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Sy=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=Hb(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Ni,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function __(n,e){vi("NgSignals"),!e?.injector&&NT(__);let t=e?.injector??z(ln),i=e?.manualCleanup!==!0?t.get(Eh):null,r=new Sy(t.get(kV),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(Ct,null,{optional:!0});return!s||!(s._lView[fe]&8)?r.watcher.notify():(s._lView[Md]??=[]).push(r.watcher.notify),r}function ZD(n){let e=Br(n);if(!e)return null;let t=new ta(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var i1=null;function ur(){return i1}function r1(n){i1??=n}var Bh=class{};var Xe=new se(""),T_=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(FV),providedIn:"platform"});let n=e;return n})(),s1=new se(""),FV=(()=>{let e=class e extends T_{constructor(){super(),this._doc=z(Xe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ur().getBaseHref(this._doc)}onPopState(i){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function S_(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function JD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function cr(n){return n&&n[0]!=="?"?"?"+n:n}var dr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(D_),providedIn:"root"});let n=e;return n})(),o1=new se(""),D_=(()=>{let e=class e extends dr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??z(Xe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return S_(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+cr(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+cr(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(le(T_),le(o1,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),a1=(()=>{let e=class e extends dr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=S_(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+cr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+cr(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(le(T_),le(o1,8))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),da=(()=>{let e=class e{constructor(i){this._subject=new re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=UV(JD(XD(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+cr(r))}normalize(i){return e.stripTrailingSlash(jV(this._basePath,XD(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+cr(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+cr(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=cr,e.joinWithSlash=S_,e.stripTrailingSlash=JD,e.\u0275fac=function(r){return new(r||e)(le(dr))},e.\u0275prov=Z({token:e,factory:()=>VV(),providedIn:"root"});let n=e;return n})();function VV(){return new da(le(dr))}function jV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function XD(n){return n.replace(/\/index.html$/,"")}function UV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function l1(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var I_=/\s+/,e1=[],dn=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=e1,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(I_):e1}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(I_):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(I_).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(P(Qe),P(ht))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var w_=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ha=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new w_(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),t1(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);t1(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(_i),P(gi),P(g_))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function t1(n,e){n.context.$implicit=e.item}var Cn=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new E_,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){n1("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){n1("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(P(_i),P(gi))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),E_=class{constructor(){this.$implicit=null,this.ngIf=null}};function n1(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${In(e)}'.`)}var Tn=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Pi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(P(Qe),P(y_),P(ht))},e.\u0275dir=Ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),Sn=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(P(_i))},e.\u0275dir=Ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[En]});let n=e;return n})();var $t=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=Ue({});let n=e;return n})(),A_="browser",BV="server";function qn(n){return n===A_}function x_(n){return n===BV}var c1=(()=>{let e=class e{};e.\u0275prov=Z({token:e,providedIn:"root",factory:()=>qn(z(Nt))?new b_(z(Xe),window):new C_});let n=e;return n})(),b_=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=$V(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function $V(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var C_=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},$h=class{};var O_=class extends Bh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},N_=class n extends O_{static makeCurrent(){r1(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=HV();return t==null?null:zV(t)}resetBaseElement(){Jl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return l1(document.cookie,e)}},Jl=null;function HV(){return Jl=Jl||document.querySelector("base"),Jl?Jl.getAttribute("href"):null}function zV(n){return new URL(n,document.baseURI).pathname}var qV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Hh=new se(""),h1=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(le(Hh),le(Ie))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),Xl=class{constructor(e){this._doc=e}},M_="ng-app-id",f1=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=x_(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${M_}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(M_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(M_,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(le(Xe),le(Gy),le(Qy,8),le(Nt))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),R_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},k_=/%COMP%/g,p1="%COMP%",GV=`_nghost-${p1}`,WV=`_ngcontent-${p1}`,KV=!0,QV=new se("",{providedIn:"root",factory:()=>KV});function YV(n){return WV.replace(k_,n)}function ZV(n){return GV.replace(k_,n)}function m1(n,e){return e.map(t=>t.replace(k_,n))}var zh=(()=>{let e=class e{constructor(i,r,s,o,a,l,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=x_(l),this.defaultRenderer=new ec(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Mi.ShadowDom&&(r=Ee(U({},r),{encapsulation:Mi.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof qh?s.applyToHost(i):s instanceof tc&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Mi.Emulated:o=new qh(u,d,r,this.appId,p,a,l,m);break;case Mi.ShadowDom:return new P_(u,d,i,r,a,l,this.nonce,m);default:o=new tc(u,d,r,p,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(le(h1),le(f1),le(Gy),le(QV),le(Xe),le(Nt),le(Ie),le(Qy))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),ec=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(R_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(u1(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(u1(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new H(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=R_[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=R_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Pi.DashCase|Pi.Important)?e.style.setProperty(t,i,r&Pi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Pi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function u1(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var P_=class extends ec{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=m1(r.id,r.styles);for(let d of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tc=class extends ec{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?m1(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},qh=class extends tc{constructor(e,t,i,r,s,o,a,l){let u=r+"-"+i.id;super(e,t,i,s,o,a,l,u),this.contentAttr=YV(u),this.hostAttr=ZV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},JV=(()=>{let e=class e extends Xl{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(le(Xe))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),XV=(()=>{let e=class e extends Xl{constructor(i){super(i),this.delegate=z(YD,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(le(Xe))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),d1=["alt","control","meta","shift"],e3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},t3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},n3=(()=>{let e=class e extends Xl{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ur().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),d1.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=e3[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),d1.forEach(a=>{if(a!==s){let l=t3[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(le(Xe))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function g1(n,e){return QD(U({rootComponent:n},i3(e)))}function i3(n){return{appProviders:[...l3,...n?.providers??[]],platformProviders:a3}}function r3(){N_.makeCurrent()}function s3(){return new Ni}function o3(){return bS(document),document}var a3=[{provide:Nt,useValue:A_},{provide:Wy,useValue:r3,multi:!0},{provide:Xe,useFactory:o3,deps:[]}];var l3=[{provide:fh,useValue:"root"},{provide:Ni,useFactory:s3,deps:[]},{provide:Hh,useClass:JV,multi:!0,deps:[Xe,Ie,Nt]},{provide:Hh,useClass:n3,multi:!0,deps:[Xe]},{provide:Hh,useClass:XV,multi:!0},zh,f1,h1,{provide:qr,useExisting:zh},{provide:$h,useClass:qV,deps:[]},[]];var y1=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(le(Xe))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var v1=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},u3=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,d=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),i.push(t[d],t[p],t[m],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(v1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):u3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new F_;let m=s<<2|a>>4;if(i.push(m),u!==64){let y=a<<4&240|u>>2;if(i.push(y),p!==64){let v=u<<6&192|p;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},F_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},d3=function(n){let e=v1(n);return I1.encodeByteArray(e,!0)},nc=function(n){return d3(n).replace(/\./g,"")},j_=function(n){try{return I1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function h3(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var f3=()=>h3().__FIREBASE_DEFAULTS__,p3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},m3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&j_(n[1]);return e&&JSON.parse(e)},Wh=()=>{try{return f3()||p3()||m3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},w1=n=>{var e,t;return(t=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},E1=n=>{let e=w1(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U_=()=>{var n;return(n=Wh())===null||n===void 0?void 0:n.config},b1=n=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${n}`]};var Gh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function C1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nc(JSON.stringify(t)),nc(JSON.stringify(o)),""].join(".")}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function T1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function g3(){var n;let e=(n=Wh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function S1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function A1(){return!g3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B_(){try{return typeof indexedDB=="object"}catch{return!1}}function x1(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var y3="FirebaseError",oi=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=y3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}},hr=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?_3(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new oi(r,a,i)}};function _3(n,e){return n.replace(v3,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var v3=/\{\$([^}]+)}/g;function fa(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(_1(s)&&_1(o)){if(!fa(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function _1(n){return n!==null&&typeof n=="object"}function $_(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function M1(n,e){let t=new V_(n,e);return t.subscribe.bind(t)}var V_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");I3(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=L_),r.error===void 0&&(r.error=L_),r.complete===void 0&&(r.complete=L_);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function I3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function L_(){}var jJ=4*60*60*1e3;function ai(n){return n&&n._delegate?n._delegate:n}var li=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Hs="[DEFAULT]";var H_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Gh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E3(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return O(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:w3(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function w3(n){return n===Hs?void 0:n}function E3(n){return n.instantiationMode==="EAGER"}var Kh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new H_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var b3=[],ze=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ze||{}),C3={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},T3=ze.INFO,S3={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},D3=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=S3[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Zr=class{constructor(e){this.name=e,this._logLevel=T3,this._logHandler=D3,this._userLogHandler=null,b3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?C3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}};var A3=(n,e)=>e.some(t=>n instanceof t),R1,O1;function x3(){return R1||(R1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M3(){return O1||(O1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var N1=new WeakMap,q_=new WeakMap,P1=new WeakMap,z_=new WeakMap,W_=new WeakMap;function R3(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Vi(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&N1.set(t,n)}).catch(()=>{}),W_.set(e,n),e}function O3(n){if(q_.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});q_.set(n,e)}var G_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return q_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||P1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function k1(n){G_=n(G_)}function N3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Qh(this),e,...t);return P1.set(i,e.sort?e.sort():[e]),Vi(i)}:M3().includes(n)?function(...e){return n.apply(Qh(this),e),Vi(N1.get(this))}:function(...e){return Vi(n.apply(Qh(this),e))}}function P3(n){return typeof n=="function"?N3(n):(n instanceof IDBTransaction&&O3(n),A3(n,x3())?new Proxy(n,G_):n)}function Vi(n){if(n instanceof IDBRequest)return R3(n);if(z_.has(n))return z_.get(n);let e=P3(n);return e!==n&&(z_.set(n,e),W_.set(e,n)),e}var Qh=n=>W_.get(n);function F1(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=Vi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Vi(o.result),l.oldVersion,l.newVersion,Vi(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var k3=["get","getKey","getAll","getAllKeys","count"],L3=["put","add","delete","clear"],K_=new Map;function L1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(K_.get(e))return K_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=L3.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||k3.includes(t)))return;let s=function(o,...a){return O(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&l.done]))[0]})};return K_.set(e,s),s}k1(n=>Ee(U({},n),{get:(e,t,i)=>L1(e,t)||n.get(e,t,i),has:(e,t)=>!!L1(e,t)||n.has(e,t)}));var Y_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(F3(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function F3(n){let e=n.getComponent();return e?.type==="VERSION"}var Z_="@firebase/app",V1="0.10.10";var fr=new Zr("@firebase/app"),V3="@firebase/app-compat",j3="@firebase/analytics-compat",U3="@firebase/analytics",B3="@firebase/app-check-compat",$3="@firebase/app-check",H3="@firebase/auth",z3="@firebase/auth-compat",q3="@firebase/database",G3="@firebase/database-compat",W3="@firebase/functions",K3="@firebase/functions-compat",Q3="@firebase/installations",Y3="@firebase/installations-compat",Z3="@firebase/messaging",J3="@firebase/messaging-compat",X3="@firebase/performance",e4="@firebase/performance-compat",t4="@firebase/remote-config",n4="@firebase/remote-config-compat",i4="@firebase/storage",r4="@firebase/storage-compat",s4="@firebase/firestore",o4="@firebase/vertexai-preview",a4="@firebase/firestore-compat",l4="firebase",c4="10.13.1";var J_="[DEFAULT]",u4={[Z_]:"fire-core",[V3]:"fire-core-compat",[U3]:"fire-analytics",[j3]:"fire-analytics-compat",[$3]:"fire-app-check",[B3]:"fire-app-check-compat",[H3]:"fire-auth",[z3]:"fire-auth-compat",[q3]:"fire-rtdb",[G3]:"fire-rtdb-compat",[W3]:"fire-fn",[K3]:"fire-fn-compat",[Q3]:"fire-iid",[Y3]:"fire-iid-compat",[Z3]:"fire-fcm",[J3]:"fire-fcm-compat",[X3]:"fire-perf",[e4]:"fire-perf-compat",[t4]:"fire-rc",[n4]:"fire-rc-compat",[i4]:"fire-gcs",[r4]:"fire-gcs-compat",[s4]:"fire-fst",[a4]:"fire-fst-compat",[o4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};var ic=new Map,d4=new Map,X_=new Map;function j1(n,e){try{n.container.addComponent(e)}catch(t){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Xr(n){let e=n.name;if(X_.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;X_.set(e,n);for(let t of ic.values())j1(t,n);for(let t of d4.values())j1(t,n);return!0}function iv(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pa(n){return n.settings!==void 0}var h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new hr("app","Firebase",h4);var ev=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}};var ma=c4;function rv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:J_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Jr.create("bad-app-name",{appName:String(r)});if(t||(t=U_()),!t)throw Jr.create("no-options");let s=ic.get(r);if(s){if(fa(t,s.options)&&fa(i,s.config))return s;throw Jr.create("duplicate-app",{appName:r})}let o=new Kh(r);for(let l of X_.values())o.addComponent(l);let a=new ev(t,i,o);return ic.set(r,a),a}function sc(n=J_){let e=ic.get(n);if(!e&&n===J_&&U_())return rv();if(!e)throw Jr.create("no-app",{appName:n});return e}function Yh(){return Array.from(ic.values())}function Gt(n,e,t){var i;let r=(i=u4[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(a.join(" "));return}Xr(new li(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var f4="firebase-heartbeat-database",p4=1,rc="firebase-heartbeat-store",Q_=null;function H1(){return Q_||(Q_=F1(f4,p4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Jr.create("idb-open",{originalErrorMessage:n.message})})),Q_}function m4(n){return O(this,null,function*(){try{let t=(yield H1()).transaction(rc),i=yield t.objectStore(rc).get(z1(n));return yield t.done,i}catch(e){if(e instanceof oi)fr.warn(e.message);else{let t=Jr.create("idb-get",{originalErrorMessage:e?.message});fr.warn(t.message)}}})}function U1(n,e){return O(this,null,function*(){try{let i=(yield H1()).transaction(rc,"readwrite");yield i.objectStore(rc).put(e,z1(n)),yield i.done}catch(t){if(t instanceof oi)fr.warn(t.message);else{let i=Jr.create("idb-set",{originalErrorMessage:t?.message});fr.warn(i.message)}}})}function z1(n){return`${n.name}!${n.options.appId}`}var g4=1024,y4=30*24*60*60*1e3,tv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new nv(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return O(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B1();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=y4}),this._storage.overwrite(this._heartbeatsCache))}catch(i){fr.warn(i)}})}getHeartbeatsHeader(){return O(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=B1(),{heartbeatsToSend:i,unsentEntries:r}=_4(this._heartbeatsCache.heartbeats),s=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return fr.warn(t),""}})}};function B1(){return new Date().toISOString().substring(0,10)}function _4(n,e=g4){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),$1(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),$1(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var nv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(this,null,function*(){return B_()?x1().then(()=>!0).catch(()=>!1):!1})}read(){return O(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield m4(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return U1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return O(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return U1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function $1(n){return nc(JSON.stringify({version:2,heartbeats:n})).length}function v4(n){Xr(new li("platform-logger",e=>new Y_(e),"PRIVATE")),Xr(new li("heartbeat",e=>new tv(e),"PRIVATE")),Gt(Z_,V1,n),Gt(Z_,V1,"esm2017"),Gt("fire-js","")}v4("");var I4="firebase",w4="10.13.1";Gt(I4,w4,"app");var ya=new ir("ANGULARFIRE2_VERSION");function ov(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ac=(n,e)=>{let t=e?[e]:Yh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},oc=class{constructor(){return ac(E4)}},E4="app-check";function ga(){}var Zh=class{zone;delegate;constructor(e,t=Ym){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},sv=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga)),t.pipe(Ut({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},lc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Zh(Zone.current)),this.insideAngular=t.run(()=>new Zh(Zone.current,Qm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(le(Ie))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Jh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function b4(n){return Jh().ngZone.runOutsideAngular(()=>n())}function zs(n){return Jh().ngZone.run(()=>n())}function C4(n){return T4(Jh())(n)}function T4(n){return function(t){return t=t.lift(new sv(n.ngZone)),t.pipe(Nr(n.outsideAngular),Or(n.insideAngular))}}var S4=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zs(()=>n.apply(void 0,i))},cc=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=zs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ga,{},ga,ga))),i[s]=S4(i[s],t));let r=b4(()=>n.apply(this,i));if(!e)if(r instanceof We){let s=Jh();return r.pipe(Nr(s.outsideAngular),Or(s.insideAngular))}else return zs(()=>r);return r instanceof We?r.pipe(C4):r instanceof Promise?zs(()=>new Promise((s,o)=>r.then(a=>zs(()=>s(a)),a=>zs(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:zs(()=>r)};var qs=class{constructor(e){return e}},uc=class{constructor(){return Yh()}};function D4(n){return n&&n.length===1?n[0]:new qs(sc())}var av=new se("angularfire2._apps"),A4={provide:qs,useFactory:D4,deps:[[new Bn,av]]},x4={provide:uc,deps:[[new Bn,av]]};function M4(n){return(e,t)=>{let i=t.get(Nt);Gt("angularfire",ya.full,"core"),Gt("angularfire",ya.full,"app"),Gt("angular",BD.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new qs(r)}}function q1(n,...e){return Wr([A4,x4,{provide:av,useFactory:M4(n),multi:!0,deps:[Ie,ln,lc,...e]}])}var G1=cc(rv,!0);function eA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var tA=eA,nA=new hr("auth","Firebase",eA());var nf=new Zr("@firebase/auth");function O4(n,...e){nf.logLevel<=ze.WARN&&nf.warn(`Auth (${ma}): ${n}`,...e)}function ef(n,...e){nf.logLevel<=ze.ERROR&&nf.error(`Auth (${ma}): ${n}`,...e)}function W1(n,...e){throw vv(n,...e)}function _v(n,...e){return vv(n,...e)}function iA(n,e,t){let i=Object.assign(Object.assign({},tA()),{[e]:t});return new hr("auth","Firebase",i).create(e,{appName:n.name})}function tf(n){return iA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vv(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return nA.create(n,...e)}function tt(n,e,...t){if(!n)throw vv(e,...t)}function dc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ef(e),new Error(e)}function rf(n,e){n||dc(e)}function N4(){return K1()==="http:"||K1()==="https:"}function K1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function P4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(N4()||S1()||"connection"in navigator)?navigator.onLine:!0}function k4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ws=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,rf(t>e,"Short delay should be less than long delay!"),this.isMobile=T1()||D1()}get(){return P4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function L4(n,e){rf(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var sf=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;dc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;dc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;dc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var F4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var V4=new Ws(3e4,6e4);function rA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function cf(s,o,a,l){return O(this,arguments,function*(n,e,t,i,r={}){return sA(n,r,()=>O(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let p=$_(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),sf.fetch()(oA(n,n.config.apiHost,t,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function sA(n,e,t){return O(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},F4),e);try{let r=new uv(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Xh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xh(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Xh(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Xh(n,"user-disabled",o);let d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw iA(n,d,u);W1(n,d)}}catch(r){if(r instanceof oi)throw r;W1(n,"network-request-failed",{message:String(r)})}})}function oA(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?L4(n.config,r):`${n.config.apiScheme}://${r}`}var uv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(_v(this.auth,"network-request-failed")),V4.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Xh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=_v(n,e,i);return r.customData._tokenResponse=t,r}function j4(n,e){return O(this,null,function*(){return cf(n,"POST","/v1/accounts:delete",e)})}function aA(n,e){return O(this,null,function*(){return cf(n,"POST","/v1/accounts:lookup",e)})}function hc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iv(n,e=!1){return O(this,null,function*(){let t=ai(n),i=yield t.getIdToken(e),r=lA(i);tt(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:hc(lv(r.auth_time)),issuedAtTime:hc(lv(r.iat)),expirationTime:hc(lv(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function lv(n){return Number(n)*1e3}function lA(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return ef("JWT malformed, contained fewer than 3 sections"),null;try{let r=j_(t);return r?JSON.parse(r):(ef("Failed to decode base64 JWT payload"),null)}catch(r){return ef("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Q1(n){let e=lA(n);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function dv(n,e,t=!1){return O(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof oi&&U4(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function U4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var hv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>O(this,null,function*(){yield this.iteration()}),t)}iteration(){return O(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var pc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function of(n){return O(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield dv(n,aA(t,{idToken:i}));tt(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?cA(s.providerUserInfo):[],a=B4(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new pc(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function wv(n){return O(this,null,function*(){let e=ai(n);yield of(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function B4(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function cA(n){return n.map(e=>{var{providerId:t}=e,i=Zm(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function $4(n,e){return O(this,null,function*(){let t=yield sA(n,{},()=>O(this,null,function*(){let i=$_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=oA(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",sf.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function H4(n,e){return O(this,null,function*(){return cf(n,"POST","/v2/accounts:revokeToken",rA(n,e))})}var fc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){tt(e.length!==0,"internal-error");let t=Q1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return O(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return O(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield $4(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(tt(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(tt(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(tt(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return dc("not implemented")}};function es(n,e){tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var mc=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Zm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new pc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return O(this,null,function*(){let t=yield dv(this,this.stsTokenManager.getToken(this.auth,e));return tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Iv(this,e)}reload(){return wv(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return O(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield of(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return O(this,null,function*(){if(pa(this.auth.app))return Promise.reject(tf(this.auth));let e=yield this.getIdToken();return yield dv(this,j4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,u,d;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,D=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,$=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:W,emailVerified:J,isAnonymous:ke,providerData:ne,stsTokenManager:b}=t;tt(W&&b,e,"internal-error");let _=fc.fromJSON(this.name,b);tt(typeof W=="string",e,"internal-error"),es(p,e.name),es(m,e.name),tt(typeof J=="boolean",e,"internal-error"),tt(typeof ke=="boolean",e,"internal-error"),es(y,e.name),es(v,e.name),es(D,e.name),es(A,e.name),es(k,e.name),es($,e.name);let I=new n({uid:W,auth:e,email:m,emailVerified:J,displayName:p,isAnonymous:ke,photoURL:v,phoneNumber:y,tenantId:D,stsTokenManager:_,createdAt:k,lastLoginAt:$});return ne&&Array.isArray(ne)&&(I.providerData=ne.map(C=>Object.assign({},C))),A&&(I._redirectEventId=A),I}static _fromIdTokenResponse(e,t,i=!1){return O(this,null,function*(){let r=new fc;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield of(s),s})}static _fromGetAccountInfoResponse(e,t,i){return O(this,null,function*(){let r=t.users[0];tt(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?cA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new fc;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new pc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var Y1=new Map;function Gs(n){rf(n instanceof Function,"Expected a class definition");let e=Y1.get(n);return e?(rf(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y1.set(n,e),e)}var z4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(this,null,function*(){return!0})}_set(t,i){return O(this,null,function*(){this.storage[t]=i})}_get(t){return O(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return O(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),fv=z4;function cv(n,e,t){return`firebase:${n}:${e}:${t}`}var af=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=cv(this.userKey,r.apiKey,s),this.fullPersistenceKey=cv("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return O(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?mc._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return O(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return O(this,null,function*(){if(!t.length)return new n(Gs(fv),e,i);let r=(yield Promise.all(t.map(u=>O(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Gs(fv),o=cv(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let p=mc._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>O(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function Z1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(K4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(q4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Y4(e))return"Blackberry";if(Z4(e))return"Webos";if(G4(e))return"Safari";if((e.includes("chrome/")||W4(e))&&!e.includes("edge/"))return"Chrome";if(Q4(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function q4(n=Gn()){return/firefox\//i.test(n)}function G4(n=Gn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function W4(n=Gn()){return/crios\//i.test(n)}function K4(n=Gn()){return/iemobile/i.test(n)}function Q4(n=Gn()){return/android/i.test(n)}function Y4(n=Gn()){return/blackberry/i.test(n)}function Z4(n=Gn()){return/webos/i.test(n)}function uA(n,e=[]){let t;switch(n){case"Browser":t=Z1(Gn());break;case"Worker":t=`${Z1(Gn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ma}/${i}`}var pv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return O(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function J4(t){return O(this,arguments,function*(n,e={}){return cf(n,"GET","/v2/passwordPolicy",rA(n,e))})}var X4=6,mv=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:X4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var gv=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lf(this),this.idTokenSubscription=new lf(this),this.beforeStateQueue=new pv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gs(t)),this._initializationPromise=this.queue(()=>O(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield af.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return O(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return O(this,null,function*(){try{let t=yield aA(this,{idToken:e}),i=yield mc._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return O(this,null,function*(){var t;if(pa(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return O(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return O(this,null,function*(){try{yield of(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=k4()}_delete(){return O(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return O(this,null,function*(){if(pa(this.app))return Promise.reject(tf(this));let t=e?ai(e):null;return t&&tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return O(this,null,function*(){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>O(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return O(this,null,function*(){return pa(this.app)?Promise.reject(tf(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pa(this.app)?Promise.reject(tf(this)):this.queue(()=>O(this,null,function*(){yield this.assertedPersistence.setPersistence(Gs(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return O(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return O(this,null,function*(){let e=yield J4(this),t=new mv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hr("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return O(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield H4(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return O(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return O(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Gs(e)||this._popupRedirectResolver;tt(t,this,"argument-error"),this.redirectPersistenceManager=yield af.create(this,[Gs(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return O(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>O(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return O(this,null,function*(){if(e===this.currentUser)return this.queue(()=>O(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return O(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return O(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return O(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&O4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function ej(n){return ai(n)}var lf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=M1(t=>this.observer=t)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tj={loadJS(){return O(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nj(n){tj=n}function ij(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function rj(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Gs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var LX=ij("rcb"),FX=new Ws(3e4,6e4);var VX=new Ws(2e3,1e4);var jX=10*60*1e3;var UX=new Ws(3e4,6e4);var BX=new Ws(5e3,15e3);var $X=encodeURIComponent("fac");var J1="@firebase/auth",X1="1.7.8";var yv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return O(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function sj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oj(n){Xr(new li("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;tt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(n)},u=new gv(i,r,s,l);return rj(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Xr(new li("auth-internal",e=>{let t=ej(e.getProvider("auth").getImmediate());return(i=>new yv(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gt(J1,X1,sj(n)),Gt(J1,X1,"esm2017")}var aj=5*60,HX=b1("authIdTokenMaxAge")||aj;function lj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}nj({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=_v("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",lj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oj("Browser");var aU="auth";var uf=class{constructor(){return ac(aU)}};var dA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hA={};var ts,Ev;(function(){var n;function e(b,_){function I(){}I.prototype=_.prototype,b.D=_.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(C,S,M){for(var w=Array(arguments.length-2),Xn=2;Xn<arguments.length;Xn++)w[Xn-2]=arguments[Xn];return _.prototype[S].apply(C,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(b,_,I){I||(I=0);var C=Array(16);if(typeof _=="string")for(var S=0;16>S;++S)C[S]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(S=0;16>S;++S)C[S]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=b.g[0],I=b.g[1],S=b.g[2];var M=b.g[3],w=_+(M^I&(S^M))+C[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=M+(S^_&(I^S))+C[1]+3905402710&4294967295,M=_+(w<<12&4294967295|w>>>20),w=S+(I^M&(_^I))+C[2]+606105819&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(_^S&(M^_))+C[3]+3250441966&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(M^I&(S^M))+C[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=M+(S^_&(I^S))+C[5]+1200080426&4294967295,M=_+(w<<12&4294967295|w>>>20),w=S+(I^M&(_^I))+C[6]+2821735955&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(_^S&(M^_))+C[7]+4249261313&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(M^I&(S^M))+C[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=M+(S^_&(I^S))+C[9]+2336552879&4294967295,M=_+(w<<12&4294967295|w>>>20),w=S+(I^M&(_^I))+C[10]+4294925233&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(_^S&(M^_))+C[11]+2304563134&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(M^I&(S^M))+C[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=M+(S^_&(I^S))+C[13]+4254626195&4294967295,M=_+(w<<12&4294967295|w>>>20),w=S+(I^M&(_^I))+C[14]+2792965006&4294967295,S=M+(w<<17&4294967295|w>>>15),w=I+(_^S&(M^_))+C[15]+1236535329&4294967295,I=S+(w<<22&4294967295|w>>>10),w=_+(S^M&(I^S))+C[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(_^I))+C[6]+3225465664&4294967295,M=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(M^_))+C[11]+643717713&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^_&(S^M))+C[0]+3921069994&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^M&(I^S))+C[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(_^I))+C[10]+38016083&4294967295,M=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(M^_))+C[15]+3634488961&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^_&(S^M))+C[4]+3889429448&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^M&(I^S))+C[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(_^I))+C[14]+3275163606&4294967295,M=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(M^_))+C[3]+4107603335&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^_&(S^M))+C[8]+1163531501&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(S^M&(I^S))+C[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=M+(I^S&(_^I))+C[2]+4243563512&4294967295,M=_+(w<<9&4294967295|w>>>23),w=S+(_^I&(M^_))+C[7]+1735328473&4294967295,S=M+(w<<14&4294967295|w>>>18),w=I+(M^_&(S^M))+C[12]+2368359562&4294967295,I=S+(w<<20&4294967295|w>>>12),w=_+(I^S^M)+C[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=M+(_^I^S)+C[8]+2272392833&4294967295,M=_+(w<<11&4294967295|w>>>21),w=S+(M^_^I)+C[11]+1839030562&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^_)+C[14]+4259657740&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^M)+C[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=M+(_^I^S)+C[4]+1272893353&4294967295,M=_+(w<<11&4294967295|w>>>21),w=S+(M^_^I)+C[7]+4139469664&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^_)+C[10]+3200236656&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^M)+C[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=M+(_^I^S)+C[0]+3936430074&4294967295,M=_+(w<<11&4294967295|w>>>21),w=S+(M^_^I)+C[3]+3572445317&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^_)+C[6]+76029189&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(I^S^M)+C[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=M+(_^I^S)+C[12]+3873151461&4294967295,M=_+(w<<11&4294967295|w>>>21),w=S+(M^_^I)+C[15]+530742520&4294967295,S=M+(w<<16&4294967295|w>>>16),w=I+(S^M^_)+C[2]+3299628645&4294967295,I=S+(w<<23&4294967295|w>>>9),w=_+(S^(I|~M))+C[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=M+(I^(_|~S))+C[7]+1126891415&4294967295,M=_+(w<<10&4294967295|w>>>22),w=S+(_^(M|~I))+C[14]+2878612391&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~_))+C[5]+4237533241&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~M))+C[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=M+(I^(_|~S))+C[3]+2399980690&4294967295,M=_+(w<<10&4294967295|w>>>22),w=S+(_^(M|~I))+C[10]+4293915773&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~_))+C[1]+2240044497&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~M))+C[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=M+(I^(_|~S))+C[15]+4264355552&4294967295,M=_+(w<<10&4294967295|w>>>22),w=S+(_^(M|~I))+C[6]+2734768916&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~_))+C[13]+1309151649&4294967295,I=S+(w<<21&4294967295|w>>>11),w=_+(S^(I|~M))+C[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=M+(I^(_|~S))+C[11]+3174756917&4294967295,M=_+(w<<10&4294967295|w>>>22),w=S+(_^(M|~I))+C[2]+718787259&4294967295,S=M+(w<<15&4294967295|w>>>17),w=I+(M^(S|~_))+C[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(S+(w<<21&4294967295|w>>>11))&4294967295,b.g[2]=b.g[2]+S&4294967295,b.g[3]=b.g[3]+M&4294967295}i.prototype.u=function(b,_){_===void 0&&(_=b.length);for(var I=_-this.blockSize,C=this.B,S=this.h,M=0;M<_;){if(S==0)for(;M<=I;)r(this,b,M),M+=this.blockSize;if(typeof b=="string"){for(;M<_;)if(C[S++]=b.charCodeAt(M++),S==this.blockSize){r(this,C),S=0;break}}else for(;M<_;)if(C[S++]=b[M++],S==this.blockSize){r(this,C),S=0;break}}this.h=S,this.o+=_},i.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;var I=8*this.o;for(_=b.length-8;_<b.length;++_)b[_]=I&255,I/=256;for(this.u(b),b=Array(16),_=I=0;4>_;++_)for(var C=0;32>C;C+=8)b[I++]=this.g[_]>>>C&255;return b};function s(b,_){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=_(b)}function o(b,_){this.h=_;for(var I=[],C=!0,S=b.length-1;0<=S;S--){var M=b[S]|0;C&&M==_||(I[S]=M,C=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?s(b,function(_){return new o([_|0],0>_?-1:0)}):new o([b|0],0>b?-1:0)}function u(b){if(isNaN(b)||!isFinite(b))return p;if(0>b)return A(u(-b));for(var _=[],I=1,C=0;b>=I;C++)_[C]=b/I|0,I*=4294967296;return new o(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return A(d(b.substring(1),_));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),C=p,S=0;S<b.length;S+=8){var M=Math.min(8,b.length-S),w=parseInt(b.substring(S,S+M),_);8>M?(M=u(Math.pow(_,M)),C=C.j(M).add(u(w))):(C=C.j(I),C=C.add(u(w)))}return C}var p=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(D(this))return-A(this).m();for(var b=0,_=1,I=0;I<this.g.length;I++){var C=this.i(I);b+=(0<=C?C:4294967296+C)*_,_*=4294967296}return b},n.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(v(this))return"0";if(D(this))return"-"+A(this).toString(b);for(var _=u(Math.pow(b,6)),I=this,C="";;){var S=J(I,_).g;I=k(I,S.j(_));var M=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=S,v(I))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},n.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function v(b){if(b.h!=0)return!1;for(var _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function D(b){return b.h==-1}n.l=function(b){return b=k(this,b),D(b)?-1:v(b)?0:1};function A(b){for(var _=b.g.length,I=[],C=0;C<_;C++)I[C]=~b.g[C];return new o(I,~b.h).add(m)}n.abs=function(){return D(this)?A(this):this},n.add=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],C=0,S=0;S<=_;S++){var M=C+(this.i(S)&65535)+(b.i(S)&65535),w=(M>>>16)+(this.i(S)>>>16)+(b.i(S)>>>16);C=w>>>16,M&=65535,w&=65535,I[S]=w<<16|M}return new o(I,I[I.length-1]&-2147483648?-1:0)};function k(b,_){return b.add(A(_))}n.j=function(b){if(v(this)||v(b))return p;if(D(this))return D(b)?A(this).j(A(b)):A(A(this).j(b));if(D(b))return A(this.j(A(b)));if(0>this.l(y)&&0>b.l(y))return u(this.m()*b.m());for(var _=this.g.length+b.g.length,I=[],C=0;C<2*_;C++)I[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<b.g.length;S++){var M=this.i(C)>>>16,w=this.i(C)&65535,Xn=b.i(S)>>>16,Tr=b.i(S)&65535;I[2*C+2*S]+=w*Tr,$(I,2*C+2*S),I[2*C+2*S+1]+=M*Tr,$(I,2*C+2*S+1),I[2*C+2*S+1]+=w*Xn,$(I,2*C+2*S+1),I[2*C+2*S+2]+=M*Xn,$(I,2*C+2*S+2)}for(C=0;C<_;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=_;C<2*_;C++)I[C]=0;return new o(I,0)};function $(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function W(b,_){this.g=b,this.h=_}function J(b,_){if(v(_))throw Error("division by zero");if(v(b))return new W(p,p);if(D(b))return _=J(A(b),_),new W(A(_.g),A(_.h));if(D(_))return _=J(b,A(_)),new W(A(_.g),_.h);if(30<b.g.length){if(D(b)||D(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,C=_;0>=C.l(b);)I=ke(I),C=ke(C);var S=ne(I,1),M=ne(C,1);for(C=ne(C,2),I=ne(I,2);!v(C);){var w=M.add(C);0>=w.l(b)&&(S=S.add(I),M=w),C=ne(C,1),I=ne(I,1)}return _=k(b,S.j(_)),new W(S,_)}for(S=p;0<=b.l(_);){for(I=Math.max(1,Math.floor(b.m()/_.m())),C=Math.ceil(Math.log(I)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(I),w=M.j(_);D(w)||0<w.l(b);)I-=C,M=u(I),w=M.j(_);v(M)&&(M=m),S=S.add(M),b=k(b,w)}return new W(S,b)}n.A=function(b){return J(this,b).h},n.and=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)&b.i(C);return new o(I,this.h&b.h)},n.or=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)|b.i(C);return new o(I,this.h|b.h)},n.xor=function(b){for(var _=Math.max(this.g.length,b.g.length),I=[],C=0;C<_;C++)I[C]=this.i(C)^b.i(C);return new o(I,this.h^b.h)};function ke(b){for(var _=b.g.length+1,I=[],C=0;C<_;C++)I[C]=b.i(C)<<1|b.i(C-1)>>>31;return new o(I,b.h)}function ne(b,_){var I=_>>5;_%=32;for(var C=b.g.length-I,S=[],M=0;M<C;M++)S[M]=0<_?b.i(M+I)>>>_|b.i(M+I+1)<<32-_:b.i(M+I);return new o(S,b.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Ev=hA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ts=hA.Integer=o}).apply(typeof dA<"u"?dA:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var bv,Cv,_a,Tv,gc,hf,Sv,Dv,Av;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,f){return c==Array.prototype||c==Object.prototype||(c[h]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var h=0;h<c.length;++h){var f=c[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(c,h){if(h)e:{var f=i;c=c.split(".");for(var g=0;g<c.length-1;g++){var x=c[g];if(!(x in f))break e;f=f[x]}c=c[c.length-1],g=f[c],h=h(g),h!=g&&h!=null&&e(f,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var f=0,g=!1,x={next:function(){if(!g&&f<c.length){var N=f++;return{value:h(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}r("Array.prototype.values",function(c){return c||function(){return s(this,function(h,f){return f})}});var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,f){return c.call.apply(c.bind,arguments)}function p(c,h,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),c.apply(h,x)}}return function(){return c.apply(h,arguments)}}function m(c,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(c,h){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function v(c,h){function f(){}f.prototype=h.prototype,c.aa=h.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,x,N){for(var G=Array(arguments.length-2),st=2;st<arguments.length;st++)G[st-2]=arguments[st];return h.prototype[x].apply(g,G)}}function D(c){let h=c.length;if(0<h){let f=Array(h);for(let g=0;g<h;g++)f[g]=c[g];return f}return[]}function A(c,h){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(l(g)){let x=c.length||0,N=g.length||0;c.length=x+N;for(let G=0;G<N;G++)c[x+G]=g[G]}else c.push(g)}}class k{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function $(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var ke=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ne(c,h,f){for(let g in c)h.call(f,c[g],g,c)}function b(c,h){for(let f in c)h.call(void 0,c[f],f,c)}function _(c){let h={};for(let f in c)h[f]=c[f];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,h){let f,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(f in g)c[f]=g[f];for(let N=0;N<I.length;N++)f=I[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function S(c){var h=1;c=c.split(":");let f=[];for(;0<h&&c.length;)f.push(c.shift()),h--;return c.length&&f.push(c.join(":")),f}function M(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Le;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Xn{constructor(){this.h=this.g=null}add(h,f){let g=Tr.get();g.set(h,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Tr=new k(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ae=!1,Le=new Xn,Dt=()=>{let c=a.Promise.resolve(void 0);ie=()=>{c.then(ei)}};var ei=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){M(f)}var h=Tr;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}ae=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return c}();function Sr(c,h){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(ke){e:{try{J(h.nodeName);var x=!0;break e}catch{}x=!1}x||(h=null)}}else f=="mouseover"?h=c.fromElement:f=="mouseout"&&(h=c.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:cm[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Sr.aa.h.call(this)}}v(Sr,lt);var cm={2:"touch",3:"pen",4:"mouse"};Sr.prototype.h=function(){Sr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Yi=0;function An(c,h,f,g,x){this.listener=c,this.proxy=null,this.src=h,this.type=f,this.capture=!!g,this.ha=x,this.key=++Yi,this.da=this.fa=!1}function Zi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Dr(c){this.src=c,this.g={},this.h=0}Dr.prototype.add=function(c,h,f,g,x){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var G=dm(c,h,g,x);return-1<G?(h=c[G],f||(h.fa=!1)):(h=new An(h,this.src,N,!!g,x),h.fa=f,c.push(h)),h};function um(c,h){var f=h.type;if(f in c.g){var g=c.g[f],x=Array.prototype.indexOf.call(g,h,void 0),N;(N=0<=x)&&Array.prototype.splice.call(g,x,1),N&&(Zi(h),c.g[f].length==0&&(delete c.g[f],c.h--))}}function dm(c,h,f,g){for(var x=0;x<c.length;++x){var N=c[x];if(!N.da&&N.listener==h&&N.capture==!!f&&N.ha==g)return x}return-1}var hm="closure_lm_"+(1e6*Math.random()|0),fm={};function bE(c,h,f,g,x){if(g&&g.once)return TE(c,h,f,g,x);if(Array.isArray(h)){for(var N=0;N<h.length;N++)bE(c,h[N],f,g,x);return null}return f=ym(f),c&&c[_t]?c.K(h,f,u(g)?!!g.capture:!!g,x):CE(c,h,f,!1,g,x)}function CE(c,h,f,g,x,N){if(!h)throw Error("Invalid event type");var G=u(x)?!!x.capture:!!x,st=mm(c);if(st||(c[hm]=st=new Dr(c)),f=st.add(h,f,g,G,N),f.proxy)return f;if(g=jO(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)ct||(x=G),x===void 0&&(x=!1),c.addEventListener(h.toString(),g,x);else if(c.attachEvent)c.attachEvent(DE(h.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function jO(){function c(f){return h.call(c.src,c.listener,f)}let h=UO;return c}function TE(c,h,f,g,x){if(Array.isArray(h)){for(var N=0;N<h.length;N++)TE(c,h[N],f,g,x);return null}return f=ym(f),c&&c[_t]?c.L(h,f,u(g)?!!g.capture:!!g,x):CE(c,h,f,!0,g,x)}function SE(c,h,f,g,x){if(Array.isArray(h))for(var N=0;N<h.length;N++)SE(c,h[N],f,g,x);else g=u(g)?!!g.capture:!!g,f=ym(f),c&&c[_t]?(c=c.i,h=String(h).toString(),h in c.g&&(N=c.g[h],f=dm(N,f,g,x),-1<f&&(Zi(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[h],c.h--)))):c&&(c=mm(c))&&(h=c.g[h.toString()],c=-1,h&&(c=dm(h,f,g,x)),(f=-1<c?h[c]:null)&&pm(f))}function pm(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[_t])um(h.i,c);else{var f=c.type,g=c.proxy;h.removeEventListener?h.removeEventListener(f,g,c.capture):h.detachEvent?h.detachEvent(DE(f),g):h.addListener&&h.removeListener&&h.removeListener(g),(f=mm(h))?(um(f,c),f.h==0&&(f.src=null,h[hm]=null)):Zi(c)}}}function DE(c){return c in fm?fm[c]:fm[c]="on"+c}function UO(c,h){if(c.da)c=!0;else{h=new Sr(h,this);var f=c.listener,g=c.ha||c.src;c.fa&&pm(c),c=f.call(g,h)}return c}function mm(c){return c=c[hm],c instanceof Dr?c:null}var gm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ym(c){return typeof c=="function"?c:(c[gm]||(c[gm]=function(h){return c.handleEvent(h)}),c[gm])}function tn(){yt.call(this),this.i=new Dr(this),this.M=this,this.F=null}v(tn,yt),tn.prototype[_t]=!0,tn.prototype.removeEventListener=function(c,h,f,g){SE(this,c,h,f,g)};function yn(c,h){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=h.type||h,typeof h=="string")h=new lt(h,c);else if(h instanceof lt)h.target=h.target||c;else{var x=h;h=new lt(g,c),C(h,x)}if(x=!0,f)for(var N=f.length-1;0<=N;N--){var G=h.g=f[N];x=xu(G,g,!0,h)&&x}if(G=h.g=c,x=xu(G,g,!0,h)&&x,x=xu(G,g,!1,h)&&x,f)for(N=0;N<f.length;N++)G=h.g=f[N],x=xu(G,g,!1,h)&&x}tn.prototype.N=function(){if(tn.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var f=c.g[h],g=0;g<f.length;g++)Zi(f[g]);delete c.g[h],c.h--}}this.F=null},tn.prototype.K=function(c,h,f,g){return this.i.add(String(c),h,!1,f,g)},tn.prototype.L=function(c,h,f,g){return this.i.add(String(c),h,!0,f,g)};function xu(c,h,f,g){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var x=!0,N=0;N<h.length;++N){var G=h[N];if(G&&!G.da&&G.capture==f){var st=G.listener,Qt=G.ha||G.src;G.fa&&um(c.i,G),x=st.call(Qt,g)!==!1&&x}}return x&&!g.defaultPrevented}function AE(c,h,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function xE(c){c.g=AE(()=>{c.g=null,c.i&&(c.i=!1,xE(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class BO extends yt{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:xE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dl(c){yt.call(this),this.h=c,this.g={}}v(dl,yt);var ME=[];function RE(c){ne(c.g,function(h,f){this.g.hasOwnProperty(f)&&pm(h)},c),c.g={}}dl.prototype.N=function(){dl.aa.N.call(this),RE(this)},dl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _m=a.JSON.stringify,$O=a.JSON.parse,HO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vm(){}vm.prototype.h=null;function OE(c){return c.h||(c.h=c.i())}function NE(){}var hl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Im(){lt.call(this,"d")}v(Im,lt);function wm(){lt.call(this,"c")}v(wm,lt);var _s={},PE=null;function Mu(){return PE=PE||new tn}_s.La="serverreachability";function kE(c){lt.call(this,_s.La,c)}v(kE,lt);function fl(c){let h=Mu();yn(h,new kE(h))}_s.STAT_EVENT="statevent";function LE(c,h){lt.call(this,_s.STAT_EVENT,c),this.stat=h}v(LE,lt);function _n(c){let h=Mu();yn(h,new LE(h,c))}_s.Ma="timingevent";function FE(c,h){lt.call(this,_s.Ma,c),this.size=h}v(FE,lt);function pl(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function ml(){this.g=!0}ml.prototype.xa=function(){this.g=!1};function zO(c,h,f,g,x,N){c.info(function(){if(c.g)if(N)for(var G="",st=N.split("&"),Qt=0;Qt<st.length;Qt++){var Je=st[Qt].split("=");if(1<Je.length){var nn=Je[0];Je=Je[1];var rn=nn.split("_");G=2<=rn.length&&rn[1]=="type"?G+(nn+"="+Je+"&"):G+(nn+"=redacted&")}}else G=null;else G=N;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+h+`
`+f+`
`+G})}function qO(c,h,f,g,x,N,G){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+h+`
`+f+`
`+N+" "+G})}function Io(c,h,f,g){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+WO(c,f)+(g?" "+g:"")})}function GO(c,h){c.info(function(){return"TIMEOUT: "+h})}ml.prototype.info=function(){};function WO(c,h){if(!c.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var N=x[0];if(N!="noop"&&N!="stop"&&N!="close")for(var G=1;G<x.length;G++)x[G]=""}}}}return _m(f)}catch{return h}}var Ru={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},VE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Em;function Ou(){}v(Ou,vm),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},Em=new Ou;function Ar(c,h,f,g){this.j=c,this.i=h,this.l=f,this.R=g||1,this.U=new dl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jE}function jE(){this.i=null,this.g="",this.h=!1}var UE={},bm={};function Cm(c,h,f){c.L=1,c.v=Lu(Ji(h)),c.m=f,c.P=!0,BE(c,null)}function BE(c,h){c.F=Date.now(),Nu(c),c.A=Ji(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),tb(f.i,"t",g),c.C=0,f=c.j.J,c.h=new jE,c.g=vb(c.j,f?h:null,!c.m),0<c.O&&(c.M=new BO(m(c.Y,c,c.g),c.O)),h=c.U,f=c.g,g=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(ME[0]=x.toString()),x=ME);for(var N=0;N<x.length;N++){var G=bE(f,x[N],g||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),fl(),zO(c.i,c.u,c.A,c.l,c.R,c.m)}Ar.prototype.ca=function(c){c=c.target;let h=this.M;h&&Xi(c)==3?h.j():this.Y(c)},Ar.prototype.Y=function(c){try{if(c==this.g)e:{let rn=Xi(this.g);var h=this.g.Ba();let bo=this.g.Z();if(!(3>rn)&&(rn!=3||this.g&&(this.h.h||this.g.oa()||lb(this.g)))){this.J||rn!=4||h==7||(h==8||0>=bo?fl(3):fl(2)),Tm(this);var f=this.g.Z();this.X=f;t:if($E(this)){var g=lb(this.g);c="";var x=g.length,N=Xi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vs(this),gl(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<x;h++)this.h.h=!0,c+=this.h.i.decode(g[h],{stream:!(N&&h==x-1)});g.length=0,this.h.g+=c,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=f==200,qO(this.i,this.u,this.A,this.l,this.R,rn,f),this.o){if(this.T&&!this.K){t:{if(this.g){var st,Qt=this.g;if((st=Qt.g?Qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(st)){var Je=st;break t}}Je=null}if(f=Je)Io(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sm(this,f);else{this.o=!1,this.s=3,_n(12),vs(this),gl(this);break e}}if(this.P){f=!0;let hi;for(;!this.J&&this.C<G.length;)if(hi=KO(this,G),hi==bm){rn==4&&(this.s=4,_n(14),f=!1),Io(this.i,this.l,null,"[Incomplete Response]");break}else if(hi==UE){this.s=4,_n(15),Io(this.i,this.l,G,"[Invalid Chunk]"),f=!1;break}else Io(this.i,this.l,hi,null),Sm(this,hi);if($E(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rn!=4||G.length!=0||this.h.h||(this.s=1,_n(16),f=!1),this.o=this.o&&f,!f)Io(this.i,this.l,G,"[Invalid Chunked Response]"),vs(this),gl(this);else if(0<G.length&&!this.W){this.W=!0;var nn=this.j;nn.g==this&&nn.ba&&!nn.M&&(nn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Om(nn),nn.M=!0,_n(11))}}else Io(this.i,this.l,G,null),Sm(this,G);rn==4&&vs(this),this.o&&!this.J&&(rn==4?mb(this.j,this):(this.o=!1,Nu(this)))}else dN(this.g),f==400&&0<G.indexOf("Unknown SID")?(this.s=3,_n(12)):(this.s=0,_n(13)),vs(this),gl(this)}}}catch{}finally{}};function $E(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function KO(c,h){var f=c.C,g=h.indexOf(`
`,f);return g==-1?bm:(f=Number(h.substring(f,g)),isNaN(f)?UE:(g+=1,g+f>h.length?bm:(h=h.slice(g,g+f),c.C=g+f,h)))}Ar.prototype.cancel=function(){this.J=!0,vs(this)};function Nu(c){c.S=Date.now()+c.I,HE(c,c.I)}function HE(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pl(m(c.ba,c),h)}function Tm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(GO(this.i,this.A),this.L!=2&&(fl(),_n(17)),vs(this),this.s=2,gl(this)):HE(this,this.S-c)};function gl(c){c.j.G==0||c.J||mb(c.j,c)}function vs(c){Tm(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,RE(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function Sm(c,h){try{var f=c.j;if(f.G!=0&&(f.g==c||Dm(f.h,c))){if(!c.K&&Dm(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Bu(f),ju(f);else break e;Rm(f),_n(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=pl(m(f.Za,f),6e3));if(1>=GE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ws(f,11)}else if((c.K||f.g==c)&&Bu(f),!$(h))for(x=f.Da.g.parse(h),h=0;h<x.length;h++){let Je=x[h];if(f.T=Je[0],Je=Je[1],f.G==2)if(Je[0]=="c"){f.K=Je[1],f.ia=Je[2];let nn=Je[3];nn!=null&&(f.la=nn,f.j.info("VER="+f.la));let rn=Je[4];rn!=null&&(f.Aa=rn,f.j.info("SVER="+f.Aa));let bo=Je[5];bo!=null&&typeof bo=="number"&&0<bo&&(g=1.5*bo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let hi=c.g;if(hi){let Hu=hi.g?hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hu){var N=g.h;N.g||Hu.indexOf("spdy")==-1&&Hu.indexOf("quic")==-1&&Hu.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Am(N,N.h),N.h=null))}if(g.D){let Nm=hi.g?hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Nm&&(g.ya=Nm,ut(g.I,g.D,Nm))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var G=c;if(g.qa=_b(g,g.J?g.ia:null,g.W),G.K){WE(g.h,G);var st=G,Qt=g.L;Qt&&(st.I=Qt),st.B&&(Tm(st),Nu(st)),g.g=G}else fb(g);0<f.i.length&&Uu(f)}else Je[0]!="stop"&&Je[0]!="close"||ws(f,7);else f.G==3&&(Je[0]=="stop"||Je[0]=="close"?Je[0]=="stop"?ws(f,7):Mm(f):Je[0]!="noop"&&f.l&&f.l.ta(Je),f.v=0)}}fl(4)}catch{}}var QO=class{constructor(c,h){this.g=c,this.map=h}};function zE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function GE(c){return c.h?1:c.g?c.g.size:0}function Dm(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function Am(c,h){c.g?c.g.add(h):c.h=h}function WE(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}zE.prototype.cancel=function(){if(this.i=KE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function KE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let f of c.g.values())h=h.concat(f.D);return h}return D(c.i)}function YO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],f=c.length,g=0;g<f;g++)h.push(c[g]);return h}h=[],f=0;for(g in c)h[f++]=c[g];return h}function ZO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var f=0;f<c;f++)h.push(f);return h}h=[],f=0;for(let g in c)h[f++]=g;return h}}}function QE(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var f=ZO(c),g=YO(c),x=g.length,N=0;N<x;N++)h.call(void 0,g[N],f&&f[N],c)}var YE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JO(c,h){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),x=null;if(0<=g){var N=c[f].substring(0,g);x=c[f].substring(g+1)}else N=c[f];h(N,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Is(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Is){this.h=c.h,Pu(this,c.j),this.o=c.o,this.g=c.g,ku(this,c.s),this.l=c.l;var h=c.i,f=new vl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),ZE(this,f),this.m=c.m}else c&&(h=String(c).match(YE))?(this.h=!1,Pu(this,h[1]||"",!0),this.o=yl(h[2]||""),this.g=yl(h[3]||"",!0),ku(this,h[4]),this.l=yl(h[5]||"",!0),ZE(this,h[6]||"",!0),this.m=yl(h[7]||"")):(this.h=!1,this.i=new vl(null,this.h))}Is.prototype.toString=function(){var c=[],h=this.j;h&&c.push(_l(h,JE,!0),":");var f=this.g;return(f||h=="file")&&(c.push("//"),(h=this.o)&&c.push(_l(h,JE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(_l(f,f.charAt(0)=="/"?tN:eN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",_l(f,iN)),c.join("")};function Ji(c){return new Is(c)}function Pu(c,h,f){c.j=f?yl(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function ku(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function ZE(c,h,f){h instanceof vl?(c.i=h,rN(c.i,c.h)):(f||(h=_l(h,nN)),c.i=new vl(h,c.h))}function ut(c,h,f){c.i.set(h,f)}function Lu(c){return ut(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function yl(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _l(c,h,f){return typeof c=="string"?(c=encodeURI(c).replace(h,XO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function XO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var JE=/[#\/\?@]/g,eN=/[#\?:]/g,tN=/[#\?]/g,nN=/[#\?@]/g,iN=/#/g;function vl(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&JO(c.i,function(h,f){c.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=vl.prototype,n.add=function(c,h){xr(this),this.i=null,c=wo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(h),this.h+=1,this};function XE(c,h){xr(c),h=wo(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function eb(c,h){return xr(c),h=wo(c,h),c.g.has(h)}n.forEach=function(c,h){xr(this),this.g.forEach(function(f,g){f.forEach(function(x){c.call(h,x,g,this)},this)},this)},n.na=function(){xr(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let g=0;g<h.length;g++){let x=c[g];for(let N=0;N<x.length;N++)f.push(h[g])}return f},n.V=function(c){xr(this);let h=[];if(typeof c=="string")eb(this,c)&&(h=h.concat(this.g.get(wo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)h=h.concat(c[f])}return h},n.set=function(c,h){return xr(this),this.i=null,c=wo(this,c),eb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function tb(c,h,f){XE(c,h),0<f.length&&(c.i=null,c.g.set(wo(c,h),D(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var g=h[f];let N=encodeURIComponent(String(g)),G=this.V(g);for(g=0;g<G.length;g++){var x=N;G[g]!==""&&(x+="="+encodeURIComponent(String(G[g]))),c.push(x)}}return this.i=c.join("&")};function wo(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function rN(c,h){h&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,g){var x=g.toLowerCase();g!=x&&(XE(this,g),tb(this,x,f))},c)),c.j=h}function sN(c,h){let f=new ml;if(a.Image){let g=new Image;g.onload=y(Mr,f,"TestLoadImage: loaded",!0,h,g),g.onerror=y(Mr,f,"TestLoadImage: error",!1,h,g),g.onabort=y(Mr,f,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(Mr,f,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else h(!1)}function oN(c,h){let f=new ml,g=new AbortController,x=setTimeout(()=>{g.abort(),Mr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(x),N.ok?Mr(f,"TestPingServer: ok",!0,h):Mr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(x),Mr(f,"TestPingServer: error",!1,h)})}function Mr(c,h,f,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(f)}catch{}}function aN(){this.g=new HO}function lN(c,h,f){let g=f||"";try{QE(c,function(x,N){let G=x;u(x)&&(G=_m(x)),h.push(g+N+"="+encodeURIComponent(G))})}catch(x){throw h.push(g+"type="+encodeURIComponent("_badmap")),x}}function Il(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Il,vm),Il.prototype.g=function(){return new Fu(this.l,this.j)},Il.prototype.i=function(c){return function(){return c}}({});function Fu(c,h){tn.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Fu,tn),n=Fu.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,El(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wl(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,El(this)),this.g&&(this.readyState=3,El(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nb(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nb(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?wl(this):El(this),this.readyState==3&&nb(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,wl(this))},n.Qa=function(c){this.g&&(this.response=c,wl(this))},n.ga=function(){this.g&&wl(this)};function wl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,El(c)}n.setRequestHeader=function(c,h){this.u.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=h.next();return c.join(`\r
`)};function El(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Fu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ib(c){let h="";return ne(c,function(f,g){h+=g,h+=":",h+=f,h+=`\r
`}),h}function xm(c,h,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ib(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):ut(c,h,f))}function vt(c){tn.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(vt,tn);var cN=/^https?$/i,uN=["POST","PUT"];n=vt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,h,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Em.g(),this.v=this.o?OE(this.o):OE(Em),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(N){rb(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)f.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uN,h,void 0))||g||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,G]of f)this.g.setRequestHeader(N,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ab(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){rb(this,N)}};function rb(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,sb(c),Vu(c)}function sb(c){c.A||(c.A=!0,yn(c,"complete"),yn(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yn(this,"complete"),yn(this,"abort"),Vu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vu(this,!0)),vt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ob(this):this.bb())},n.bb=function(){ob(this)};function ob(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Xi(c)!=4||c.Z()!=2)){if(c.u&&Xi(c)==4)AE(c.Ea,0,c);else if(yn(c,"readystatechange"),Xi(c)==4){c.h=!1;try{let G=c.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var g;if(g=G===0){var x=String(c.D).match(YE)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),g=!cN.test(x?x.toLowerCase():"")}f=g}if(f)yn(c,"complete"),yn(c,"success");else{c.m=6;try{var N=2<Xi(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",sb(c)}}finally{Vu(c)}}}}function Vu(c,h){if(c.g){ab(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||yn(c,"ready");try{f.onreadystatechange=g}catch{}}}function ab(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Xi(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Xi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),$O(h)}};function lb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dN(c){let h={};c=(c.g&&2<=Xi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if($(c[g]))continue;var f=S(c[g]);let x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=h[x]||[];h[x]=N,N.push(f)}b(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function bl(c,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||h}function cb(c){this.Aa=0,this.i=[],this.j=new ml,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=bl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=bl("baseRetryDelayMs",5e3,c),this.cb=bl("retryDelaySeedMs",1e4,c),this.Wa=bl("forwardChannelMaxRetries",2,c),this.wa=bl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new zE(c&&c.concurrentRequestLimit),this.Da=new aN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=cb.prototype,n.la=8,n.G=1,n.connect=function(c,h,f,g){_n(0),this.W=c,this.H=h||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=_b(this,null,this.W),Uu(this)};function Mm(c){if(ub(c),c.G==3){var h=c.U++,f=Ji(c.I);if(ut(f,"SID",c.K),ut(f,"RID",h),ut(f,"TYPE","terminate"),Cl(c,f),h=new Ar(c,c.j,h),h.L=2,h.v=Lu(Ji(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=vb(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Nu(h)}yb(c)}function ju(c){c.g&&(Om(c),c.g.cancel(),c.g=null)}function ub(c){ju(c),c.u&&(a.clearTimeout(c.u),c.u=null),Bu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uu(c){if(!qE(c.h)&&!c.s){c.s=!0;var h=c.Ga;ie||Dt(),ae||(ie(),ae=!0),Le.add(h,c),c.B=0}}function hN(c,h){return GE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pl(m(c.Ga,c,h),gb(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new Ar(this,this.j,c),N=this.o;if(this.S&&(N?(N=_(N),C(N,this.S)):N=this.S),this.m!==null||this.O||(x.H=N,N=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=hb(this,x,h),f=Ji(this.I),ut(f,"RID",c),ut(f,"CVER",22),this.D&&ut(f,"X-HTTP-Session-Id",this.D),Cl(this,f),N&&(this.O?h="headers="+encodeURIComponent(String(ib(N)))+"&"+h:this.m&&xm(f,this.m,N)),Am(this.h,x),this.Ua&&ut(f,"TYPE","init"),this.P?(ut(f,"$req",h),ut(f,"SID","null"),x.T=!0,Cm(x,f,null)):Cm(x,f,h),this.G=2}}else this.G==3&&(c?db(this,c):this.i.length==0||qE(this.h)||db(this))};function db(c,h){var f;h?f=h.l:f=c.U++;let g=Ji(c.I);ut(g,"SID",c.K),ut(g,"RID",f),ut(g,"AID",c.T),Cl(c,g),c.m&&c.o&&xm(g,c.m,c.o),f=new Ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),h&&(c.i=h.D.concat(c.i)),h=hb(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Am(c.h,f),Cm(f,g,h)}function Cl(c,h){c.H&&ne(c.H,function(f,g){ut(h,g,f)}),c.l&&QE({},function(f,g){ut(h,g,f)})}function hb(c,h,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var x=c.i;let N=-1;for(;;){let G=["count="+f];N==-1?0<f?(N=x[0].g,G.push("ofs="+N)):N=0:G.push("ofs="+N);let st=!0;for(let Qt=0;Qt<f;Qt++){let Je=x[Qt].g,nn=x[Qt].map;if(Je-=N,0>Je)N=Math.max(0,x[Qt].g-100),st=!1;else try{lN(nn,G,"req"+Je+"_")}catch{g&&g(nn)}}if(st){g=G.join("&");break e}}}return c=c.i.splice(0,f),h.D=c,g}function fb(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ie||Dt(),ae||(ie(),ae=!0),Le.add(h,c),c.v=0}}function Rm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pl(m(c.Fa,c),gb(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,pb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pl(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_n(10),ju(this),pb(this))};function Om(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function pb(c){c.g=new Ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Ji(c.qa);ut(h,"RID","rpc"),ut(h,"SID",c.K),ut(h,"AID",c.T),ut(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&ut(h,"TO",c.ja),ut(h,"TYPE","xmlhttp"),Cl(c,h),c.m&&c.o&&xm(h,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Lu(Ji(h)),f.m=null,f.P=!0,BE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,ju(this),Rm(this),_n(19))};function Bu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function mb(c,h){var f=null;if(c.g==h){Bu(c),Om(c),c.g=null;var g=2}else if(Dm(c.h,h))f=h.D,WE(c.h,h),g=1;else return;if(c.G!=0){if(h.o)if(g==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var x=c.B;g=Mu(),yn(g,new FE(g,f)),Uu(c)}else fb(c);else if(x=h.s,x==3||x==0&&0<h.X||!(g==1&&hN(c,h)||g==2&&Rm(c)))switch(f&&0<f.length&&(h=c.h,h.i=h.i.concat(f)),x){case 1:ws(c,5);break;case 4:ws(c,10);break;case 3:ws(c,6);break;default:ws(c,2)}}}function gb(c,h){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*h}function ws(c,h){if(c.j.info("Error code "+h),h==2){var f=m(c.fb,c),g=c.Xa;let x=!g;g=new Is(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Pu(g,"https"),Lu(g),x?sN(g.toString(),f):oN(g.toString(),f)}else _n(2);c.G=0,c.l&&c.l.sa(h),yb(c),ub(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),_n(2)):(this.j.info("Failed to ping google.com"),_n(1))};function yb(c){if(c.G=0,c.ka=[],c.l){let h=KE(c.h);(h.length!=0||c.i.length!=0)&&(A(c.ka,h),A(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function _b(c,h,f){var g=f instanceof Is?Ji(f):new Is(f);if(g.g!="")h&&(g.g=h+"."+g.g),ku(g,g.s);else{var x=a.location;g=x.protocol,h=h?h+"."+x.hostname:x.hostname,x=+x.port;var N=new Is(null);g&&Pu(N,g),h&&(N.g=h),x&&ku(N,x),f&&(N.l=f),g=N}return f=c.D,h=c.ya,f&&h&&ut(g,f,h),ut(g,"VER",c.la),Cl(c,g),g}function vb(c,h,f){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new vt(new Il({eb:f})):new vt(c.pa),h.Ha(c.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ib(){}n=Ib.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function $u(){}$u.prototype.g=function(c,h){return new Pn(c,h)};function Pn(c,h){tn.call(this),this.g=new cb(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!$(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!$(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new Eo(this)}v(Pn,tn),Pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pn.prototype.close=function(){Mm(this.g)},Pn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=_m(c),c=f);h.i.push(new QO(h.Ya++,c)),h.G==3&&Uu(h)},Pn.prototype.N=function(){this.g.l=null,delete this.j,Mm(this.g),delete this.g,Pn.aa.N.call(this)};function wb(c){Im.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let f in h){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}v(wb,Im);function Eb(){wm.call(this),this.status=1}v(Eb,wm);function Eo(c){this.g=c}v(Eo,Ib),Eo.prototype.ua=function(){yn(this.g,"a")},Eo.prototype.ta=function(c){yn(this.g,new wb(c))},Eo.prototype.sa=function(c){yn(this.g,new Eb)},Eo.prototype.ra=function(){yn(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,Pn.prototype.send=Pn.prototype.o,Pn.prototype.open=Pn.prototype.m,Pn.prototype.close=Pn.prototype.close,Av=pr.createWebChannelTransport=function(){return new $u},Dv=pr.getStatEventTarget=function(){return Mu()},Sv=pr.Event=_s,hf=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ru.NO_ERROR=0,Ru.TIMEOUT=8,Ru.HTTP_ERROR=6,gc=pr.ErrorCode=Ru,VE.COMPLETE="complete",Tv=pr.EventType=VE,NE.EventType=hl,hl.OPEN="a",hl.CLOSE="b",hl.ERROR="c",hl.MESSAGE="d",tn.prototype.listen=tn.prototype.K,_a=pr.WebChannel=NE,Cv=pr.FetchXmlHttpFactory=Il,vt.prototype.listenOnce=vt.prototype.L,vt.prototype.getLastError=vt.prototype.Ka,vt.prototype.getLastErrorCode=vt.prototype.Ba,vt.prototype.getStatus=vt.prototype.Z,vt.prototype.getResponseJson=vt.prototype.Oa,vt.prototype.getResponseText=vt.prototype.oa,vt.prototype.send=vt.prototype.ea,vt.prototype.setWithCredentials=vt.prototype.Ha,bv=pr.XhrIo=vt}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});var fA="@firebase/firestore";var Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");var ja="10.13.1";var Zs=new Zr("@firebase/firestore");function yc(){return Zs.logLevel}function te(n,...e){if(Zs.logLevel<=ze.DEBUG){let t=e.map(yI);Zs.debug(`Firestore (${ja}): ${n}`,...t)}}function mr(n,...e){if(Zs.logLevel<=ze.ERROR){let t=e.map(yI);Zs.error(`Firestore (${ja}): ${n}`,...t)}}function Sa(n,...e){if(Zs.logLevel<=ze.WARN){let t=e.map(yI);Zs.warn(`Firestore (${ja}): ${n}`,...t)}}function yI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ge(n="Unexpected state"){let e=`FIRESTORE (${ja}) INTERNAL ASSERTION FAILED: `+n;throw mr(e),new Error(e)}function at(n,e){n||ge()}function we(n,e){return n}var B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},X=class extends oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var yf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Nv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Wt.UNAUTHENTICATED))}shutdown(){}},Pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},kv=class{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new Bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Bi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>O(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Bi)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new yf(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new Wt(e)}},Lv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Fv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Lv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Vv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},jv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(at(typeof t.token=="string"),this.R=t.token,new Vv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function lU(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var _f=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=lU(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function et(n,e){return n<e?-1:n>e?1:0}function Da(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Ht=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?et(this.nanoseconds,e.nanoseconds):et(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Ht(0,0))}static max(){return new n(new Ht(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vf=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ge(),i===void 0?i=e.length-t:i>e.length-t&&ge(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},gt=class n extends vf{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new X(B.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},cU=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wn=class n extends vf{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return cU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new X(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new X(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ce=class n{constructor(e){this.path=e}static fromPath(e){return new n(gt.fromString(e))}static fromName(e){return new n(gt.fromString(e).popFirst(5))}static empty(){return new n(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new gt(e.slice()))}};var Uv=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};Uv.UNKNOWN_ID=-1;function uU(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Se.fromTimestamp(i===1e9?new Ht(t+1,0):new Ht(t,i));return new Js(r,ce.empty(),e)}function dU(n){return new Js(n.readTime,n.key,-1)}var Js=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(Se.min(),ce.empty(),-1)}static max(){return new n(Se.max(),ce.empty(),-1)}};function hU(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:et(n.largestBatchId,e.largestBatchId))}var fU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Bv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Lc(n){return O(this,null,function*(){if(n.code!==B.FAILED_PRECONDITION||n.message!==fU)throw n;te("LocalStore","Unexpectedly lost primary lease")})}var q=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;t(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function pU(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fc(n){return n.name==="IndexedDbTransactionError"}var GA=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Gf(n){return n==null}function bc(n){return n===0&&1/n==-1/0}function mU(n){return typeof n=="number"&&Number.isInteger(n)&&!bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var gU=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zee=[...gU,"documentOverlays"],yU=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],_U=yU,vU=[..._U,"indexConfiguration","indexState","indexEntries"];var qee=[...vU,"globals"];function pA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ua(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Tt=class n{constructor(e,t){this.comparator=e,this.root=t||$i.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$i.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$i.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ea(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ea(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ea(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ea(this.root,e,this.comparator,!0)}},Ea=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$i=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();let e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};$i.EMPTY=null,$i.RED=!0,$i.BLACK=!1;$i.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,t,i,r,s){return this}insert(e,t,i){return new $i(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var fn=class n{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new If(this.data.getIterator())}getIteratorFrom(e){return new If(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},If=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ui=class n{constructor(e){this.fields=e,e.sort(Wn.comparator)}static empty(){return new n([])}unionWith(e){let t=new fn(Wn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Da(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var wf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wf("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return et(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pn.EMPTY_BYTE_STRING=new pn("");var IU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(at(!!n),typeof n=="string"){let e=0,t=IU.exec(n);if(at(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:mt(n.seconds),nanos:mt(n.nanos)}}function mt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function is(n){return typeof n=="string"?pn.fromBase64String(n):pn.fromUint8Array(n)}function _I(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vI(n){let e=n.mapValue.fields.__previous_value__;return _I(e)?vI(e):e}function Cc(n){let e=gr(n.mapValue.fields.__local_write_time__.timestampValue);return new Ht(e.seconds,e.nanos)}var $v=class{constructor(e,t,i,r,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Ef=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_I(n)?4:QA(n)?9007199254740991:KA(n)?10:11:ge()}function qi(n,e){if(n===e)return!0;let t=Xs(n);if(t!==Xs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cc(n).isEqual(Cc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=gr(r.timestampValue),a=gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return is(r.bytesValue).isEqual(is(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return mt(r.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(r.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return mt(r.integerValue)===mt(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=mt(r.doubleValue),a=mt(s.doubleValue);return o===a?bc(o)===bc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Da(n.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(pA(o)!==pA(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qi(o[l],a[l])))return!1;return!0}(n,e);default:return ge()}}function Tc(n,e){return(n.values||[]).find(t=>qi(t,e))!==void 0}function Aa(n,e){if(n===e)return 0;let t=Xs(n),i=Xs(e);if(t!==i)return et(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return et(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=mt(s.integerValue||s.doubleValue),l=mt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return mA(n.timestampValue,e.timestampValue);case 4:return mA(Cc(n),Cc(e));case 5:return et(n.stringValue,e.stringValue);case 6:return function(s,o){let a=is(s),l=is(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=et(a[u],l[u]);if(d!==0)return d}return et(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=et(mt(s.latitude),mt(o.latitude));return a!==0?a:et(mt(s.longitude),mt(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return gA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,v=(l=m.value)===null||l===void 0?void 0:l.arrayValue,D=et(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:gA(y,v)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ff.mapValue&&o===ff.mapValue)return 0;if(s===ff.mapValue)return 1;if(o===ff.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){let m=et(l[p],d[p]);if(m!==0)return m;let y=Aa(a[l[p]],u[d[p]]);if(y!==0)return y}return et(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ge()}}function mA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return et(n,e);let t=gr(n),i=gr(e),r=et(t.seconds,i.seconds);return r!==0?r:et(t.nanos,i.nanos)}function gA(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=Aa(t[r],i[r]);if(s)return s}return et(t.length,i.length)}function xa(n){return Hv(n)}function Hv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=gr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return is(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=Hv(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${Hv(t.fields[o])}`;return r+"}"}(n.mapValue):ge()}function yA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zv(n){return!!n&&"integerValue"in n}function II(n){return!!n&&"arrayValue"in n}function _A(n){return!!n&&"nullValue"in n}function vA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mf(n){return!!n&&"mapValue"in n}function KA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ua(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=vc(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function QA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ii=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!mf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vc(t)}setAll(e){let t=Wn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=vc(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());mf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];mf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Ua(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(vc(this.value))}};function YA(n){let e=[];return Ua(n.fields,(t,i)=>{let r=new Wn([t]);if(mf(i)){let s=YA(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Ui(e)}var wi=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,Se.min(),Se.min(),Se.min(),Ii.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,Se.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,Se.min(),Se.min(),Ii.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,Se.min(),Se.min(),Ii.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ma=class{constructor(e,t){this.position=e,this.inclusive=t}};function IA(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=ce.comparator(ce.fromName(o.referenceValue),t.key):i=Aa(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function wA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qi(n.position[t],e.position[t]))return!1;return!0}var Ra=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function wU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var bf=class{},Ft=class n extends bf{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Gv(e,t,i):t==="array-contains"?new Qv(e,i):t==="in"?new Yv(e,i):t==="not-in"?new Zv(e,i):t==="array-contains-any"?new Jv(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Wv(e,i):new Kv(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Aa(t,this.value)):t!==null&&Xs(this.value)===Xs(t)&&this.matchesComparison(Aa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Ei=class n extends bf{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return ZA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function ZA(n){return n.op==="and"}function JA(n){return EU(n)&&ZA(n)}function EU(n){for(let e of n.filters)if(e instanceof Ei)return!1;return!0}function qv(n){if(n instanceof Ft)return n.field.canonicalString()+n.op.toString()+xa(n.value);if(JA(n))return n.filters.map(e=>qv(e)).join(",");{let e=n.filters.map(t=>qv(t)).join(",");return`${n.op}(${e})`}}function XA(n,e){return n instanceof Ft?function(i,r){return r instanceof Ft&&i.op===r.op&&i.field.isEqual(r.field)&&qi(i.value,r.value)}(n,e):n instanceof Ei?function(i,r){return r instanceof Ei&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&XA(o,r.filters[a]),!0):!1}(n,e):void ge()}function ex(n){return n instanceof Ft?function(t){return`${t.field.canonicalString()} ${t.op} ${xa(t.value)}`}(n):n instanceof Ei?function(t){return t.op.toString()+" {"+t.getFilters().map(ex).join(" ,")+"}"}(n):"Filter"}var Gv=class extends Ft{constructor(e,t,i){super(e,t,i),this.key=ce.fromName(i.referenceValue)}matches(e){let t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}},Wv=class extends Ft{constructor(e,t){super(e,"in",t),this.keys=tx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Kv=class extends Ft{constructor(e,t){super(e,"not-in",t),this.keys=tx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function tx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ce.fromName(i.referenceValue))}var Qv=class extends Ft{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return II(t)&&Tc(t.arrayValue,this.value)}},Yv=class extends Ft{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Tc(this.value.arrayValue,t)}},Zv=class extends Ft{constructor(e,t){super(e,"not-in",t)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Tc(this.value.arrayValue,t)}},Jv=class extends Ft{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!II(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Tc(this.value.arrayValue,i))}};var Xv=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function EA(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Xv(n,e,t,i,r,s,o)}function wI(n){let e=we(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>qv(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Gf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>xa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>xa(i)).join(",")),e.ue=t}return e.ue}function EI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!wU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!wA(n.startAt,e.startAt)&&wA(n.endAt,e.endAt)}function e0(n){return ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var eo=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function bU(n,e,t,i,r,s,o,a){return new eo(n,e,t,i,r,s,o,a)}function nx(n){return new eo(n)}function bA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ix(n){return n.collectionGroup!==null}function Ic(n){let e=we(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new fn(Wn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ra(s,i))}),t.has(Wn.keyField().canonicalString())||e.ce.push(new Ra(Wn.keyField(),i))}return e.ce}function Hi(n){let e=we(n);return e.le||(e.le=CU(e,Ic(n))),e.le}function CU(n,e){if(n.limitType==="F")return EA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Ra(r.field,s)});let t=n.endAt?new Ma(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ma(n.startAt.position,n.startAt.inclusive):null;return EA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function t0(n,e){let t=n.filters.concat([e]);return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function n0(n,e,t){return new eo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wf(n,e){return EI(Hi(n),Hi(e))&&n.limitType===e.limitType}function rx(n){return`${wI(Hi(n))}|lt:${n.limitType}`}function va(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>ex(r)).join(", ")}]`),Gf(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>xa(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>xa(r)).join(",")),`Target(${i})`}(Hi(n))}; limitType=${n.limitType})`}function Kf(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):ce.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Ic(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let u=IA(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Ic(i),r)||i.endAt&&!function(o,a,l){let u=IA(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Ic(i),r))}(n,e)}function TU(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sx(n){return(e,t)=>{let i=!1;for(let r of Ic(n)){let s=SU(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function SU(n,e,t){let i=n.field.isKeyField()?ce.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Aa(l,u):ge()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ge()}}var rs=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Ua(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return WA(this.inner)}size(){return this.innerSize}};var DU=new Tt(ce.comparator);function yr(){return DU}var ox=new Tt(ce.comparator);function _c(...n){let e=ox;for(let t of n)e=e.insert(t.key,t);return e}function ax(n){let e=ox;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ks(){return wc()}function lx(){return wc()}function wc(){return new rs(n=>n.toString(),(n,e)=>n.isEqual(e))}var AU=new Tt(ce.comparator),xU=new fn(ce.comparator);function qe(...n){let e=xU;for(let t of n)e=e.add(t);return e}var MU=new fn(et);function RU(){return MU}function bI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bc(e)?"-0":e}}function cx(n){return{integerValue:""+n}}function OU(n,e){return mU(e)?cx(e):bI(n,e)}var Oa=class{constructor(){this._=void 0}};function NU(n,e,t){return n instanceof Na?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&_I(s)&&(s=vI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof to?dx(n,e):n instanceof no?hx(n,e):function(r,s){let o=ux(r,s),a=CA(o)+CA(r.Pe);return zv(o)&&zv(r.Pe)?cx(a):bI(r.serializer,a)}(n,e)}function PU(n,e,t){return n instanceof to?dx(n,e):n instanceof no?hx(n,e):t}function ux(n,e){return n instanceof Pa?function(i){return zv(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Na=class extends Oa{},to=class extends Oa{constructor(e){super(),this.elements=e}};function dx(n,e){let t=fx(e);for(let i of n.elements)t.some(r=>qi(r,i))||t.push(i);return{arrayValue:{values:t}}}var no=class extends Oa{constructor(e){super(),this.elements=e}};function hx(n,e){let t=fx(e);for(let i of n.elements)t=t.filter(r=>!qi(r,i));return{arrayValue:{values:t}}}var Pa=class extends Oa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function CA(n){return mt(n.integerValue||n.doubleValue)}function fx(n){return II(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function kU(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof to&&r instanceof to||i instanceof no&&r instanceof no?Da(i.elements,r.elements,qi):i instanceof Pa&&r instanceof Pa?qi(i.Pe,r.Pe):i instanceof Na&&r instanceof Na}(n.transform,e.transform)}var i0=class{constructor(e,t){this.version=e,this.transformResults=t}},Ys=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var ka=class{};function px(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cf(n.key,Ys.none()):new io(n.key,n.data,Ys.none());{let t=n.data,i=Ii.empty(),r=new fn(Wn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new _r(n.key,i,new Ui(r.toArray()),Ys.none())}}function LU(n,e,t){n instanceof io?function(r,s,o){let a=r.value.clone(),l=SA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof _r?function(r,s,o){if(!gf(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=SA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mx(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ec(n,e,t,i){return n instanceof io?function(s,o,a,l){if(!gf(s.precondition,o))return a;let u=s.value.clone(),d=DA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof _r?function(s,o,a,l){if(!gf(s.precondition,o))return a;let u=DA(s.fieldTransforms,l,o),d=o.data;return d.setAll(mx(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,o,a){return gf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function FU(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=ux(i.transform,r||null);s!=null&&(t===null&&(t=Ii.empty()),t.set(i.field,s))}return t||null}function TA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Da(i,r,(s,o)=>kU(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var io=class extends ka{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},_r=class extends ka{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function mx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function SA(n,e,t){let i=new Map;at(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,PU(o,a,t[r]))}return i}function DA(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,NU(s,o,e))}return i}var Cf=class extends ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},r0=class extends ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var s0=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&LU(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=Ec(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=lx();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=px(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),qe())}isEqual(e){return this.batchId===e.batchId&&Da(this.mutations,e.mutations,(t,i)=>TA(t,i))&&Da(this.baseMutations,e.baseMutations,(t,i)=>TA(t,i))}},o0=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){at(e.mutations.length===i.length);let r=function(){return AU}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var a0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var l0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var kt,Ze;function VU(n){switch(n){default:return ge();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function gx(n){if(n===void 0)return mr("GRPC error has no .code"),B.UNKNOWN;switch(n){case kt.OK:return B.OK;case kt.CANCELLED:return B.CANCELLED;case kt.UNKNOWN:return B.UNKNOWN;case kt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case kt.INTERNAL:return B.INTERNAL;case kt.UNAVAILABLE:return B.UNAVAILABLE;case kt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case kt.NOT_FOUND:return B.NOT_FOUND;case kt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case kt.ABORTED:return B.ABORTED;case kt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case kt.DATA_LOSS:return B.DATA_LOSS;default:return ge()}}(Ze=kt||(kt={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";var AA=null;function jU(){return new TextEncoder}var UU=new ts([4294967295,4294967295],0);function xA(n){let e=jU().encode(n),t=new Ev;return t.update(e),new Uint8Array(t.digest())}function MA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ts([t,i],0),new ts([r,s],0)]}var c0=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Qs(`Invalid padding: ${t}`);if(i<0)throw new Qs(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Qs(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Qs(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ts.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(ts.fromNumber(i)));return r.compare(UU)===1&&(r=new ts([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=xA(e),[i,r]=MA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=xA(e),[i,r]=MA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Qs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Tf=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(Se.min(),r,new Tt(et),yr(),qe())}},Sc=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,qe(),qe(),qe())}};var Ca=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Sf=class{constructor(e,t){this.targetId=e,this.me=t}},Df=class{constructor(e,t,i=pn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Af=class{constructor(){this.fe=0,this.ge=OA(),this.pe=pn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=qe(),t=qe(),i=qe();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ge()}}),new Sc(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=OA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,at(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},u0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=RA(),this.Qe=new Tt(et)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(e0(s))if(i===0){let o=new ce(s.path);this.Ue(t,o,wi.newNoDocument(o,Se.min()))}else at(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}AA?.et(function(d,p,m,y,v){var D,A,k,$,W,J;let ke={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ne=p.unchangedNames;return ne&&(ke.bloomFilter={applied:v===0,hashCount:(D=ne?.hashCount)!==null&&D!==void 0?D:0,bitmapLength:($=(k=(A=ne?.bits)===null||A===void 0?void 0:A.bitmap)===null||k===void 0?void 0:k.length)!==null&&$!==void 0?$:0,padding:(J=(W=ne?.bits)===null||W===void 0?void 0:W.padding)!==null&&J!==void 0?J:0,mightContain:b=>{var _;return(_=y?.mightContain(b))!==null&&_!==void 0&&_}}),ke}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=is(i).toUint8Array()}catch(l){if(l instanceof wf)return Sa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new c0(o,r,s)}catch(l){return Sa(l instanceof Qs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&e0(a.target)){let l=new ce(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,wi.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=qe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new Tf(e,t,this.Qe,this.ke,i);return this.ke=yr(),this.qe=RA(),this.Qe=new Tt(et),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Af,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new fn(et),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||te("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Af),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function RA(){return new Tt(ce.comparator)}function OA(){return new Tt(ce.comparator)}var BU={asc:"ASCENDING",desc:"DESCENDING"},$U={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HU={and:"AND",or:"OR"},d0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function h0(n,e){return n.useProto3Json||Gf(e)?e:{value:e}}function xf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zU(n,e){return xf(n,e.toTimestamp())}function zi(n){return at(!!n),Se.fromTimestamp(function(t){let i=gr(t);return new Ht(i.seconds,i.nanos)}(n))}function CI(n,e){return f0(n,e).canonicalString()}function f0(n,e){let t=function(r){return new gt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function _x(n){let e=gt.fromString(n);return at(bx(e)),e}function p0(n,e){return CI(n.databaseId,e.path)}function xv(n,e){let t=_x(e);if(t.get(1)!==n.databaseId.projectId)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new X(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ce(Ix(t))}function vx(n,e){return CI(n.databaseId,e)}function qU(n){let e=_x(n);return e.length===4?gt.emptyPath():Ix(e)}function m0(n){return new gt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ix(n){return at(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function NA(n,e,t){return{name:p0(n,e),fields:t.value.mapValue.fields}}function GU(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(at(d===void 0||typeof d=="string"),pn.fromBase64String(d||"")):(at(d===void 0||d instanceof Buffer||d instanceof Uint8Array),pn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?B.UNKNOWN:gx(u.code);return new X(d,u.message||"")}(o);t=new Df(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=xv(n,i.document.name),s=zi(i.document.updateTime),o=i.document.createTime?zi(i.document.createTime):Se.min(),a=new Ii({mapValue:{fields:i.document.fields}}),l=wi.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];t=new Ca(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=xv(n,i.document),s=i.readTime?zi(i.readTime):Se.min(),o=wi.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Ca([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=xv(n,i.document),s=i.removedTargetIds||[];t=new Ca([],s,r,null)}else{if(!("filter"in e))return ge();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new l0(r,s),a=i.targetId;t=new Sf(a,o)}}return t}function WU(n,e){let t;if(e instanceof io)t={update:NA(n,e.key,e.value)};else if(e instanceof Cf)t={delete:p0(n,e.key)};else if(e instanceof _r)t={update:NA(n,e.key,e.data),updateMask:nB(e.fieldMask)};else{if(!(e instanceof r0))return ge();t={verify:p0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof Na)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof to)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof no)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ge()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:zU(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(n,e.precondition)),t}function KU(n,e){return n&&n.length>0?(at(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?zi(r.updateTime):zi(s);return o.isEqual(Se.min())&&(o=zi(s)),new i0(o,r.transformResults||[])}(t,e))):[]}function QU(n,e){return{documents:[vx(n,e.path)]}}function YU(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=vx(n,r);let s=function(u){if(u.length!==0)return Ex(Ei.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ia(m.field),direction:XU(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=h0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function ZU(n){let e=qU(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){at(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(p){let m=wx(p);return m instanceof Ei&&JA(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(v){return new Ra(wa(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Gf(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(p){let m=!!p.before,y=p.values||[];return new Ma(y,m)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new Ma(y,m)}(t.endAt)),bU(e,r,o,s,a,"F",l,u)}function JU(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function wx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=wa(t.unaryFilter.field);return Ft.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=wa(t.unaryFilter.field);return Ft.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=wa(t.unaryFilter.field);return Ft.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=wa(t.unaryFilter.field);return Ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(n):n.fieldFilter!==void 0?function(t){return Ft.create(wa(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ei.create(t.compositeFilter.filters.map(i=>wx(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ge()}}(t.compositeFilter.op))}(n):ge()}function XU(n){return BU[n]}function eB(n){return $U[n]}function tB(n){return HU[n]}function Ia(n){return{fieldPath:n.canonicalString()}}function wa(n){return Wn.fromServerFormat(n.fieldPath)}function Ex(n){return n instanceof Ft?function(t){if(t.op==="=="){if(vA(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NAN"}};if(_A(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vA(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NOT_NAN"}};if(_A(t.value))return{unaryFilter:{field:Ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ia(t.field),op:eB(t.op),value:t.value}}}(n):n instanceof Ei?function(t){let i=t.getFilters().map(r=>Ex(r));return i.length===1?i[0]:{compositeFilter:{op:tB(t.op),filters:i}}}(n):ge()}function nB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dc=class n{constructor(e,t,i,r,s=Se.min(),o=Se.min(),a=pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var g0=class{constructor(e){this.ct=e}};function iB(n){let e=ZU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?n0(e,e.limit,"L"):e}var Mf=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(mt(e.integerValue));else if("doubleValue"in e){let i=mt(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),bc(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=gr(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(is(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?QA(e)?this.dt(t,Number.MAX_SAFE_INTEGER):KA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ge()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(mt(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),ce.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Mf.vt=new Mf;var y0=class{constructor(){this.un=new _0}addToCollectionParentIndex(e,t){return this.un.add(t),q.resolve()}getCollectionParents(e,t){return q.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return q.resolve()}deleteFieldIndex(e,t){return q.resolve()}deleteAllFieldIndexes(e){return q.resolve()}createTargetIndexes(e,t){return q.resolve()}getDocumentsMatchingTarget(e,t){return q.resolve(null)}getIndexType(e,t){return q.resolve(0)}getFieldIndexes(e,t){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,t){return q.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return q.resolve(Js.min())}updateCollectionGroup(e,t,i){return q.resolve()}updateIndexEntries(e,t){return q.resolve()}},_0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new fn(gt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new fn(gt.comparator)).toArray()}};var Wee=new Uint8Array(0);var ji=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ji.DEFAULT_COLLECTION_PERCENTILE=10,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ji.DEFAULT=new ji(41943040,ji.DEFAULT_COLLECTION_PERCENTILE,ji.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ji.DISABLED=new ji(-1,0,0);var Ac=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var v0=class{constructor(){this.changes=new rs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?q.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var I0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var w0=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&Ec(i.mutation,r,Ui.empty(),Ht.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,qe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=qe()){let r=Ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=_c();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,qe()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=yr(),o=wc(),a=function(){return wc()}();return t.forEach((l,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof _r)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ec(d.mutation,u,d.mutation.getFieldMask(),Ht.now())):o.set(u.key,Ui.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new I0(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=wc(),r=new Tt((o,a)=>o-a),s=qe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=i.get(l)||Ui.empty();d=a.applyToLocalView(u,d),i.set(l,d);let p=(r.get(a.batchId)||qe()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,p=lx();d.forEach(m=>{if(!s.has(m)){let y=px(t.get(m),i.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return q.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ix(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):q.resolve(Ks()),a=-1,l=s;return o.next(u=>q.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?q.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,qe())).next(d=>({batchId:a,changes:ax(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(i=>{let r=_c();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=_c();return this.indexManager.getCollectionParents(e,s).next(a=>q.forEach(a,l=>{let u=function(p,m){return new eo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,wi.newInvalidDocument(d)))});let a=_c();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&Ec(d.mutation,u,Ui.empty(),Ht.now()),Kf(t,u)&&(a=a.insert(l,u))}),a})}};var E0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return q.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:zi(r.createTime)}}(t)),q.resolve()}getNamedQuery(e,t){return q.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:iB(r.bundledQuery),readTime:zi(r.readTime)}}(t)),q.resolve()}};var b0=class{constructor(){this.overlays=new Tt(ce.comparator),this.Ir=new Map}getOverlay(e,t){return q.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Ks();return q.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),q.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),q.resolve()}getOverlaysForCollection(e,t,i){let r=Ks(),s=t.length+1,o=new ce(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return q.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new Tt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=Ks(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ks(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return q.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new a0(t,i));let s=this.Ir.get(t);s===void 0&&(s=qe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var C0=class{constructor(){this.sessionToken=pn.EMPTY_BYTE_STRING}getSessionToken(e){return q.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,q.resolve()}};var xc=class{constructor(){this.Tr=new fn(Lt.Er),this.dr=new fn(Lt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new Lt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new Lt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new ce(new gt([])),i=new Lt(t,e),r=new Lt(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ce(new gt([])),i=new Lt(t,e),r=new Lt(t,e+1),s=qe();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Lt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},Lt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ce.comparator(e.key,t.key)||et(e.wr,t.wr)}static Ar(e,t){return et(e.wr,t.wr)||ce.comparator(e.key,t.key)}};var T0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new fn(Lt.Er)}checkEmpty(e){return q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new s0(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new Lt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return q.resolve(o)}lookupMutationBatch(e,t){return q.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return q.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new Lt(t,0),r=new Lt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),q.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new fn(et);return t.forEach(r=>{let s=new Lt(r,0),o=new Lt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),q.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;ce.isDocumentKey(s)||(s=s.child(""));let o=new Lt(new ce(s),0),a=new fn(et);return this.br.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),q.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){at(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return q.forEach(t.mutations,r=>{let s=new Lt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new Lt(t,0),r=this.br.firstAfterOrEqual(i);return q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,q.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var S0=class{constructor(e){this.Mr=e,this.docs=function(){return new Tt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return q.resolve(i?i.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let i=yr();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():wi.newInvalidDocument(r))}),q.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=yr(),o=t.path,a=new ce(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||hU(dU(d),i)<=0||(r.has(d.key)||Kf(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return q.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ge()}Or(e,t){return q.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new D0(this)}getSize(e){return q.resolve(this.size)}},D0=class extends v0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),q.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var A0=class{constructor(e){this.persistence=e,this.Nr=new rs(t=>wI(t),EI),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new xc,this.targetCount=0,this.kr=Ac.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),q.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Ac(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,q.resolve()}updateTargetData(e,t){return this.Kn(t),q.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),q.waitFor(s).next(()=>r)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return q.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),q.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),q.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),q.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return q.resolve(i)}containsKey(e,t){return q.resolve(this.Br.containsKey(t))}};var x0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new GA(0),this.Kr=!1,this.Kr=!0,this.$r=new C0,this.referenceDelegate=e(this),this.Ur=new A0(this),this.indexManager=new y0,this.remoteDocumentCache=function(r){return new S0(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new g0(t),this.Gr=new E0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new T0(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){te("MemoryPersistence","Starting transaction:",e);let r=new M0(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return q.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},M0=class extends Bv{constructor(e){super(),this.currentSequenceNumber=e}},R0=class n{constructor(e){this.persistence=e,this.Jr=new xc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ge()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),q.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),q.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),q.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Xr,i=>{let r=ce.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,Se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return q.or([()=>q.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var O0=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=qe(),r=qe();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var N0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var P0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return A1()?8:pU(Gn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new N0;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(yc()<=ze.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",va(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),q.resolve()):(yc()<=ze.DEBUG&&te("QueryEngine","Query:",va(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(yc()<=ze.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",va(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hi(t))):q.resolve())}Yi(e,t){if(bA(t))return q.resolve(null);let i=Hi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=n0(t,null,"F"),i=Hi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=qe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,n0(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,i,r){return bA(t)||r.isEqual(Se.min())?q.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?q.resolve(null):(yc()<=ze.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),va(t)),this.rs(e,o,t,uU(r,-1)).next(a=>a))})}ts(e,t){let i=new fn(sx(e));return t.forEach((r,s)=>{Kf(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return yc()<=ze.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",va(t)),this.Ji.getDocumentsMatchingQuery(e,t,Js.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var k0=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new Tt(et),this._s=new rs(s=>wI(s),EI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function rB(n,e,t,i){return new k0(n,e,t,i)}function Cx(n,e){return O(this,null,function*(){let t=we(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=qe();for(let u of r){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function sB(n,e){let t=we(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let p=u.batch,m=p.keys(),y=q.resolve();return m.forEach(v=>{y=y.next(()=>d.getEntry(l,v)).next(D=>{let A=u.docVersions.get(v);at(A!==null),D.version.compareTo(A)<0&&(p.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),d.addEntry(D)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=qe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function Tx(n){let e=we(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function oB(n,e){let t=we(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,p)=>{let m=r.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(pn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(p,y),function(D,A,k){return D.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(m,y,d)&&a.push(t.Ur.updateTargetData(s,y))});let l=yr(),u=qe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(aB(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(Se.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return q.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.os=r,s))}function aB(n,e,t){let i=qe(),r=qe();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=yr();return t.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(Se.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function lB(n,e){let t=we(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function cB(n,e){let t=we(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,q.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Dc(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function L0(n,e,t){return O(this,null,function*(){let i=we(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Fc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function PA(n,e,t){let i=we(n),r=Se.min(),s=qe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let p=we(l),m=p._s.get(d);return m!==void 0?q.resolve(p.os.get(m)):p.Ur.getTargetData(u,d)}(i,o,Hi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:Se.min(),t?s:qe())).next(a=>(uB(i,TU(e),a),{documents:a,Ts:s})))}function uB(n,e,t){let i=n.us.get(e)||Se.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var Rf=class{constructor(){this.activeTargetIds=RU()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var F0=class{constructor(){this.so=new Rf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Rf,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var V0=class{_o(e){}shutdown(){}};var Of=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var pf=null;function Mv(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}var dB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var j0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var hn="WebChannelConnection",U0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=Mv(),l=this.xo(t,i.toUriEncodedString());te("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,l,u,r).then(d=>(te("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Sa("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ja}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=dB[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=Mv();return new Promise((o,a)=>{let l=new bv;l.setWithCredentials(!0),l.listenOnce(Tv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gc.NO_ERROR:let d=l.getResponseJson();te(hn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case gc.TIMEOUT:te(hn,`RPC '${e}' ${s} timed out`),a(new X(B.DEADLINE_EXCEEDED,"Request time out"));break;case gc.HTTP_ERROR:let p=l.getStatus();if(te(hn,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let v=function(A){let k=A.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(k)>=0?k:B.UNKNOWN}(y.status);a(new X(v,y.message))}else a(new X(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(B.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{te(hn,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);te(hn,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=Mv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Av(),a=Dv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Cv({})),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");te(hn,`Creating RPC '${e}' stream ${r}: ${d}`,l);let p=o.createWebChannel(d,l),m=!1,y=!1,v=new j0({Io:A=>{y?te(hn,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(m||(te(hn,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),te(hn,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},To:()=>p.close()}),D=(A,k,$)=>{A.listen(k,W=>{try{$(W)}catch(J){setTimeout(()=>{throw J},0)}})};return D(p,_a.EventType.OPEN,()=>{y||(te(hn,`RPC '${e}' stream ${r} transport opened.`),v.yo())}),D(p,_a.EventType.CLOSE,()=>{y||(y=!0,te(hn,`RPC '${e}' stream ${r} transport closed`),v.So())}),D(p,_a.EventType.ERROR,A=>{y||(y=!0,Sa(hn,`RPC '${e}' stream ${r} transport errored:`,A),v.So(new X(B.UNAVAILABLE,"The operation could not be completed")))}),D(p,_a.EventType.MESSAGE,A=>{var k;if(!y){let $=A.data[0];at(!!$);let W=$,J=W.error||((k=W[0])===null||k===void 0?void 0:k.error);if(J){te(hn,`RPC '${e}' stream ${r} received error:`,J);let ke=J.status,ne=function(I){let C=kt[I];if(C!==void 0)return gx(C)}(ke),b=J.message;ne===void 0&&(ne=B.INTERNAL,b="Unknown error status: "+ke+" with message "+J.message),y=!0,v.So(new X(ne,b)),p.close()}else te(hn,`RPC '${e}' stream ${r} received:`,$),v.bo($)}}),D(a,Sv.STAT_EVENT,A=>{A.stat===hf.PROXY?te(hn,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===hf.NOPROXY&&te(hn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function Rv(){return typeof document<"u"?document:null}function Qf(n){return new d0(n,!0)}var Nf=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&te("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Pf=class{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Nf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return O(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return O(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return O(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===B.RESOURCE_EXHAUSTED?(mr(t.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new X(B.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>O(this,null,function*(){this.state=0,this.start()}))}I_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},B0=class extends Pf{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=GU(this.serializer,e),i=function(s){if(!("targetChange"in s))return Se.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?Se.min():o.readTime?zi(o.readTime):Se.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=m0(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=e0(l)?{documents:QU(s,l)}:{query:YU(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=yx(s,o.resumeToken);let u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Se.min())>0){a.readTime=xf(s,o.snapshotVersion.toTimestamp());let u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=JU(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=m0(this.serializer),t.removeTarget=e,this.a_(t)}},$0=class extends Pf{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=KU(e.writeResults,e.commitTime),i=zi(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=m0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>WU(this.serializer,i))};this.a_(t)}};var H0=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,f0(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(B.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,f0(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(B.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},z0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mr(t),this.D_=!1):te("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var q0=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>O(this,null,function*(){ro(this)&&(te("RemoteStore","Restarting streams for network reachability change."),yield function(l){return O(this,null,function*(){let u=we(l);u.L_.add(4),yield Vc(u),u.q_.set("Unknown"),u.L_.delete(4),yield Yf(u)})}(this))}))}),this.q_=new z0(i,r)}};function Yf(n){return O(this,null,function*(){if(ro(n))for(let e of n.B_)yield e(!0)})}function Vc(n){return O(this,null,function*(){for(let e of n.B_)yield e(!1)})}function Sx(n,e){let t=we(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),AI(t)?DI(t):Ba(t).r_()&&SI(t,e))}function TI(n,e){let t=we(n),i=Ba(t);t.N_.delete(e),i.r_()&&Dx(t,e),t.N_.size===0&&(i.r_()?i.o_():ro(t)&&t.q_.set("Unknown"))}function SI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ba(n).A_(e)}function Dx(n,e){n.Q_.xe(e),Ba(n).R_(e)}function DI(n){n.Q_=new u0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ba(n).start(),n.q_.v_()}function AI(n){return ro(n)&&!Ba(n).n_()&&n.N_.size>0}function ro(n){return we(n).L_.size===0}function Ax(n){n.Q_=void 0}function hB(n){return O(this,null,function*(){n.q_.set("Online")})}function fB(n){return O(this,null,function*(){n.N_.forEach((e,t)=>{SI(n,e)})})}function pB(n,e){return O(this,null,function*(){Ax(n),AI(n)?(n.q_.M_(e),DI(n)):n.q_.set("Unknown")})}function mB(n,e,t){return O(this,null,function*(){if(n.q_.set("Online"),e instanceof Df&&e.state===2&&e.cause)try{yield function(r,s){return O(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield kf(n,i)}else if(e instanceof Ca?n.Q_.Ke(e):e instanceof Sf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Se.min()))try{let i=yield Tx(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(pn.EMPTY_BYTE_STRING,d.snapshotVersion)),Dx(s,l);let p=new Dc(d.target,l,u,d.sequenceNumber);SI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){te("RemoteStore","Failed to raise snapshot:",i),yield kf(n,i)}})}function kf(n,e,t){return O(this,null,function*(){if(!Fc(e))throw e;n.L_.add(1),yield Vc(n),n.q_.set("Offline"),t||(t=()=>Tx(n.localStore)),n.asyncQueue.enqueueRetryable(()=>O(this,null,function*(){te("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Yf(n)}))})}function xx(n,e){return e().catch(t=>kf(n,t,e))}function Zf(n){return O(this,null,function*(){let e=we(n),t=ss(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gB(e);)try{let r=yield lB(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,yB(e,r)}catch(r){yield kf(e,r)}Mx(e)&&Rx(e)})}function gB(n){return ro(n)&&n.O_.length<10}function yB(n,e){n.O_.push(e);let t=ss(n);t.r_()&&t.V_&&t.m_(e.mutations)}function Mx(n){return ro(n)&&!ss(n).n_()&&n.O_.length>0}function Rx(n){ss(n).start()}function _B(n){return O(this,null,function*(){ss(n).p_()})}function vB(n){return O(this,null,function*(){let e=ss(n);for(let t of n.O_)e.m_(t.mutations)})}function IB(n,e,t){return O(this,null,function*(){let i=n.O_.shift(),r=o0.from(i,e,t);yield xx(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Zf(n)})}function wB(n,e){return O(this,null,function*(){e&&ss(n).V_&&(yield function(i,r){return O(this,null,function*(){if(function(o){return VU(o)&&o!==B.ABORTED}(r.code)){let s=i.O_.shift();ss(i).s_(),yield xx(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Zf(i)}})}(n,e)),Mx(n)&&Rx(n)})}function kA(n,e){return O(this,null,function*(){let t=we(n);t.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");let i=ro(t);t.L_.add(3),yield Vc(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Yf(t)})}function EB(n,e){return O(this,null,function*(){let t=we(n);e?(t.L_.delete(2),yield Yf(t)):e||(t.L_.add(2),yield Vc(t),t.q_.set("Unknown"))})}function Ba(n){return n.K_||(n.K_=function(t,i,r){let s=we(t);return s.w_(),new B0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:hB.bind(null,n),Ro:fB.bind(null,n),mo:pB.bind(null,n),d_:mB.bind(null,n)}),n.B_.push(e=>O(this,null,function*(){e?(n.K_.s_(),AI(n)?DI(n):n.q_.set("Unknown")):(yield n.K_.stop(),Ax(n))}))),n.K_}function ss(n){return n.U_||(n.U_=function(t,i,r){let s=we(t);return s.w_(),new $0(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:_B.bind(null,n),mo:wB.bind(null,n),f_:vB.bind(null,n),g_:IB.bind(null,n)}),n.B_.push(e=>O(this,null,function*(){e?(n.U_.s_(),yield Zf(n)):(yield n.U_.stop(),n.O_.length>0&&(te("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var G0=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function xI(n,e){if(mr("AsyncQueue",`${e}: ${n}`),Fc(n))return new X(B.UNAVAILABLE,`${e}: ${n}`);throw n}var Lf=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||ce.comparator(t.key,i.key):(t,i)=>ce.comparator(t.key,i.key),this.keyedMap=_c(),this.sortedSet=new Tt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Ff=class{constructor(){this.W_=new Tt(ce.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ge():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},La=class n{constructor(e,t,i,r,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Lf.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var W0=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},K0=class{constructor(){this.queries=LA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=we(t),s=r.queries;r.queries=LA(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(i)})})(this,new X(B.ABORTED,"Firestore shutting down"))}};function LA(){return new rs(n=>rx(n),Wf)}function bB(n,e){return O(this,null,function*(){let t=we(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new W0,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=xI(o,`Initialization of query '${va(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&MI(t)})}function CB(n,e){return O(this,null,function*(){let t=we(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function TB(n,e){let t=we(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&MI(t)}function SB(n,e,t){let i=we(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function MI(n){n.Y_.forEach(e=>{e.next()})}var Q0,FA;(FA=Q0||(Q0={})).ea="default",FA.Cache="cache";var Y0=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new La(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Q0.Cache}};var Vf=class{constructor(e){this.key=e}},jf=class{constructor(e){this.key=e}},Z0=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=qe(),this.mutatedKeys=qe(),this.Aa=sx(e),this.Ra=new Lf(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Ff,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{let m=r.get(d),y=Kf(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),D=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?v!==D&&(i.track({type:3,doc:y}),A=!0):this.ga(m,y)||(i.track({type:2,doc:y}),A=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(i.track({type:0,doc:y}),A=!0):m&&!y&&(i.track({type:1,doc:m}),A=!0,(l||u)&&(a=!0)),A&&(y?(o=o.add(y),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,p)=>function(y,v){let D=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return D(y)-D(v)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new La(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ff,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=qe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new jf(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Vf(i))}),t}ba(e){this.Ta=e.Ts,this.da=qe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return La.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},J0=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},X0=class{constructor(e){this.key=e,this.va=!1}},eI=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new rs(a=>rx(a),Wf),this.Ma=new Map,this.xa=new Set,this.Oa=new Tt(ce.comparator),this.Na=new Map,this.La=new xc,this.Ba={},this.ka=new Map,this.qa=Ac.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function DB(n,e,t=!0){return O(this,null,function*(){let i=Fx(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Ox(i,e,t,!0),r})}function AB(n,e){return O(this,null,function*(){let t=Fx(n);yield Ox(t,e,!0,!1)})}function Ox(n,e,t,i){return O(this,null,function*(){let r=yield cB(n.localStore,Hi(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield xB(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&Sx(n.remoteStore,r),a})}function xB(n,e,t,i,r){return O(this,null,function*(){n.Ka=(p,m,y)=>function(D,A,k,$){return O(this,null,function*(){let W=A.view.ma(k);W.ns&&(W=yield PA(D.localStore,A.query,!1).then(({documents:b})=>A.view.ma(b,W)));let J=$&&$.targetChanges.get(A.targetId),ke=$&&$.targetMismatches.get(A.targetId)!=null,ne=A.view.applyChanges(W,D.isPrimaryClient,J,ke);return jA(D,A.targetId,ne.wa),ne.snapshot})}(n,p,m,y);let s=yield PA(n.localStore,e,!0),o=new Z0(e,s.Ts),a=o.ma(s.documents),l=Sc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,l);jA(n,t,u.wa);let d=new J0(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function MB(n,e,t){return O(this,null,function*(){let i=we(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Wf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield L0(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&TI(i.remoteStore,r.targetId),tI(i,r.targetId)}).catch(Lc))):(tI(i,r.targetId),yield L0(i.localStore,r.targetId,!0))})}function RB(n,e){return O(this,null,function*(){let t=we(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),TI(t.remoteStore,i.targetId))})}function OB(n,e,t){return O(this,null,function*(){let i=jB(n);try{let r=yield function(o,a){let l=we(o),u=Ht.now(),d=a.reduce((y,v)=>y.add(v.key),qe()),p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=yr(),D=qe();return l.cs.getEntries(y,d).next(A=>{v=A,v.forEach((k,$)=>{$.isValidDocument()||(D=D.add(k))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(A=>{p=A;let k=[];for(let $ of a){let W=FU($,p.get($.key).overlayedDocument);W!=null&&k.push(new _r($.key,W,YA(W.value.mapValue),Ys.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,k,a)}).next(A=>{m=A;let k=A.applyToLocalDocumentSet(p,D);return l.documentOverlayCache.saveOverlays(y,A.batchId,k)})}).then(()=>({batchId:m.batchId,changes:ax(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new Tt(et)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,t),yield jc(i,r.changes),yield Zf(i.remoteStore)}catch(r){let s=xI(r,"Failed to persist write");t.reject(s)}})}function Nx(n,e){return O(this,null,function*(){let t=we(n);try{let i=yield oB(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(at(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?at(o.va):r.removedDocuments.size>0&&(at(o.va),o.va=!1))}),yield jc(t,i,e)}catch(i){yield Lc(i)}})}function VA(n,e,t){let i=we(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=we(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(let m of p.j_)m.Z_(a)&&(u=!0)}),u&&MI(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function NB(n,e,t){return O(this,null,function*(){let i=we(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new Tt(ce.comparator);o=o.insert(s,wi.newNoDocument(s,Se.min()));let a=qe().add(s),l=new Tf(Se.min(),new Map,new Tt(et),o,a);yield Nx(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),RI(i)}else yield L0(i.localStore,e,!1).then(()=>tI(i,e,t)).catch(Lc)})}function PB(n,e){return O(this,null,function*(){let t=we(n),i=e.batch.batchId;try{let r=yield sB(t.localStore,e);kx(t,i,null),Px(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield jc(t,r)}catch(r){yield Lc(r)}})}function kB(n,e,t){return O(this,null,function*(){let i=we(n);try{let r=yield function(o,a){let l=we(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(at(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);kx(i,e,t),Px(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield jc(i,r)}catch(r){yield Lc(r)}})}function Px(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function kx(n,e,t){let i=we(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function tI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||Lx(n,i)})}function Lx(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(TI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),RI(n))}function jA(n,e,t){for(let i of t)i instanceof Vf?(n.La.addReference(i.key,e),LB(n,i)):i instanceof jf?(te("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||Lx(n,i.key)):ge()}function LB(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(te("SyncEngine","New document in limbo: "+t),n.xa.add(i),RI(n))}function RI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ce(gt.fromString(e)),i=n.qa.next();n.Na.set(i,new X0(t)),n.Oa=n.Oa.insert(t,i),Sx(n.remoteStore,new Dc(Hi(nx(t.path)),i,"TargetPurposeLimboResolution",GA.oe))}}function jc(n,e,t){return O(this,null,function*(){let i=we(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=O0.Wi(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,u){return O(this,null,function*(){let d=we(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>q.forEach(u,m=>q.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>q.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Fc(p))throw p;te("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=d.os.get(m),v=y.snapshotVersion,D=y.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(m,D)}}})}(i.localStore,s))})}function FB(n,e){return O(this,null,function*(){let t=we(n);if(!t.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());let i=yield Cx(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new X(B.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield jc(t,i.hs)}})}function VB(n,e){let t=we(n),i=t.Na.get(e);if(i&&i.va)return qe().add(i.key);{let r=qe(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function Fx(n){let e=we(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=VB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NB.bind(null,e),e.Ca.d_=TB.bind(null,e.eventManager),e.Ca.$a=SB.bind(null,e.eventManager),e}function jB(n){let e=we(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kB.bind(null,e),e}var Uf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return O(this,null,function*(){this.serializer=Qf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rB(this.persistence,new P0,e.initialUser,this.serializer)}createPersistence(e){return new x0(R0.Zr,this.serializer)}createSharedClientState(e){return new F0}terminate(){return O(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var nI=class{initialize(e,t){return O(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>VA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FB.bind(null,this.syncEngine),yield EB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new K0}()}createDatastore(e){let t=Qf(e.databaseInfo.databaseId),i=function(s){return new U0(s)}(e.databaseInfo);return function(s,o,a,l){return new H0(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new q0(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>VA(this.syncEngine,t,0),function(){return Of.D()?new Of:new V0}())}createSyncEngine(e,t){return function(r,s,o,a,l,u,d){let p=new eI(r,s,o,a,l,u);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return O(this,null,function*(){var e,t;yield function(r){return O(this,null,function*(){let s=we(r);te("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Vc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var iI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var rI=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Wt.UNAUTHENTICATED,this.clientId=_f.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>O(this,null,function*(){te("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>O(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=xI(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function Ov(n,e){return O(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>O(this,null,function*(){i.isEqual(r)||(yield Cx(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function UA(n,e){return O(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield BB(n);te("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>kA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>kA(e.remoteStore,r)),n._onlineComponents=e})}function UB(n){return n.name==="FirebaseError"?n.code===B.FAILED_PRECONDITION||n.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function BB(n){return O(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Ov(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!UB(t))throw t;Sa("Error using user provided cache. Falling back to memory cache: "+t),yield Ov(n,new Uf)}}else te("FirestoreClient","Using default OfflineComponentProvider"),yield Ov(n,new Uf);return n._offlineComponents})}function Vx(n){return O(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),yield UA(n,n._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),yield UA(n,new nI))),n._onlineComponents})}function $B(n){return Vx(n).then(e=>e.syncEngine)}function HB(n){return O(this,null,function*(){let e=yield Vx(n),t=e.eventManager;return t.onListen=DB.bind(null,e.syncEngine),t.onUnlisten=MB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=AB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=RB.bind(null,e.syncEngine),t})}function zB(n,e,t={}){let i=new Bi;return n.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return function(s,o,a,l,u){let d=new iI({next:m=>{o.enqueueAndForget(()=>CB(s,p)),m.fromCache&&l.source==="server"?u.reject(new X(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new Y0(a,d,{includeMetadataChanges:!0,_a:!0});return bB(s,p)}(yield HB(n),n.asyncQueue,e,t,i)})),i.promise}function jx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var BA=new Map;function Ux(n,e,t){if(!t)throw new X(B.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function qB(n,e,t,i){if(e===!0&&i===!0)throw new X(B.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $A(n){if(!ce.isDocumentKey(n))throw new X(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HA(n){if(ce.isDocumentKey(n))throw new X(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ge()}function Bf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new X(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Jf(n);throw new X(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var $f=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new X(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fa=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $f({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $f(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Nv;switch(i.type){case"firstParty":return new Fv(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=BA.get(t);i&&(te("ComponentProvider","Removing Datastore"),BA.delete(t),i.terminate())}(this),Promise.resolve()}};function Bx(n,e,t,i={}){var r;let s=(n=Bf(n,Fa))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Wt.MOCK_USER;else{a=C1(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new X(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Wt(u)}n._authCredentials=new Pv(new yf(a,l))}}var Va=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},ci=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ns=class n extends Va{constructor(e,t,i){super(e,t,nx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new ci(this.firestore,null,new ce(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function OI(n,e,...t){if(n=ai(n),Ux("collection","path",e),n instanceof Fa){let i=gt.fromString(e,...t);return HA(i),new ns(n,null,i)}{if(!(n instanceof ci||n instanceof ns))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(gt.fromString(e,...t));return HA(i),new ns(n.firestore,null,i)}}function $x(n,e,...t){if(n=ai(n),arguments.length===1&&(e=_f.newId()),Ux("doc","path",e),n instanceof Fa){let i=gt.fromString(e,...t);return $A(i),new ci(n,null,new ce(i))}{if(!(n instanceof ci||n instanceof ns))throw new X(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(gt.fromString(e,...t));return $A(i),new ci(n.firestore,n instanceof ns?n.converter:null,new ce(i))}}var sI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Nf(this,"async_queue_retry"),this.Eu=()=>{let t=Rv();t&&te("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=Rv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=Rv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Bi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return O(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Fc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=G0.createAndSchedule(this,e,t,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&ge()}verifyOperationInProgress(){}mu(){return O(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};var Mc=class extends Fa{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new sI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||qx(this),this._firestoreClient.terminate()}};function Hx(n,e){let t=typeof n=="object"?n:sc(),i=typeof n=="string"?n:e||"(default)",r=iv(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=E1("firestore");s&&Bx(r,...s)}return r}function zx(n){return n._firestoreClient||qx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function qx(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,u,d){return new $v(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jx(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new rI(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var Rc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(pn.fromBase64String(e))}catch(t){throw new X(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Oc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new X(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Hf=class{constructor(e){this._methodName=e}};var Nc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return et(this._lat,e._lat)||et(this._long,e._long)}};var Pc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var GB=/^__.*__$/,oI=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new _r(e,this.data,this.fieldMask,t,this.fieldTransforms):new io(e,this.data,t,this.fieldTransforms)}};function Gx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}var aI=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return zf(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(Gx(this.wu)&&GB.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},lI=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qf(e)}Nu(e,t,i,r=!1){return new aI({wu:e,methodName:t,Ou:i,path:Wn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Wx(n){let e=n._freezeSettings(),t=Qf(n._databaseId);return new lI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WB(n,e,t,i,r,s={}){let o=n.Nu(s.merge||s.mergeFields?2:0,e,t,r);Yx("Data must be an object, but it was:",o,i);let a=Kx(i,o),l,u;if(s.merge)l=new Ui(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let m=QB(e,p,t);if(!o.contains(m))throw new X(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZB(d,m)||d.push(m)}l=new Ui(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new oI(new Ii(a),l,u)}function KB(n,e,t,i=!1){return NI(t,n.Nu(i?4:3,e))}function NI(n,e){if(Qx(n=ai(n)))return Yx("Unsupported field value:",e,n),Kx(n,e);if(n instanceof Hf)return function(i,r){if(!Gx(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=NI(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=ai(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return OU(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Ht.fromDate(i);return{timestampValue:xf(r.serializer,s)}}if(i instanceof Ht){let s=new Ht(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:xf(r.serializer,s)}}if(i instanceof Nc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rc)return{bytesValue:yx(r.serializer,i._byteString)};if(i instanceof ci){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:CI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Pc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return bI(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Jf(i)}`)}(n,e)}function Kx(n,e){let t={};return WA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ua(n,(i,r)=>{let s=NI(r,e.bu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function Qx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Nc||n instanceof Rc||n instanceof ci||n instanceof Hf||n instanceof Pc)}function Yx(n,e,t){if(!Qx(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Jf(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}function QB(n,e,t){if((e=ai(e))instanceof Oc)return e._internalPath;if(typeof e=="string")return Zx(n,e);throw zf("Field path arguments must be of type string or ",n,!1,void 0,t)}var YB=new RegExp("[~\\*/\\[\\]]");function Zx(n,e,t){if(e.search(YB)>=0)throw zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oc(...e.split("."))._internalPath}catch{throw zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function zf(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new X(B.INVALID_ARGUMENT,a+n+l)}function ZB(n,e){return n.some(t=>t.isEqual(e))}var qf=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new cI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Jx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},cI=class extends qf{data(){return super.data()}};function Jx(n,e){return typeof e=="string"?Zx(n,e):e instanceof Oc?e._internalPath:e._delegate._internalPath}function JB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new X(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var kc=class{},uI=class extends kc{};function PI(n,e,...t){let i=[];e instanceof kc&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof hI).length,a=s.filter(l=>l instanceof dI).length;if(o>1||o>0&&a>0)throw new X(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var dI=class n extends uI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return Xx(e._query,t),new Va(e.firestore,e.converter,t0(e._query,t))}_parse(e){let t=Wx(e.firestore);return function(s,o,a,l,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new X(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){qA(p,d);let y=[];for(let v of p)y.push(zA(l,s,v));m={arrayValue:{values:y}}}else m=zA(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||qA(p,d),m=KB(a,o,p,d==="in"||d==="not-in");return Ft.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var hI=class n extends kc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Ei.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)Xx(o,l),o=t0(o,l)}(e._query,t),new Va(e.firestore,e.converter,t0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function zA(n,e,t){if(typeof(t=ai(t))=="string"){if(t==="")throw new X(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ix(e)&&t.indexOf("/")!==-1)throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(gt.fromString(t));if(!ce.isDocumentKey(i))throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yA(n,new ce(i))}if(t instanceof ci)return yA(n,t._key);throw new X(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(t)}.`)}function qA(n,e){if(!Array.isArray(n)||n.length===0)throw new X(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xx(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var fI=class{convertValue(e,t="none"){switch(Xs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return Ua(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>mt(o.doubleValue));return new Pc(s)}convertGeoPoint(e){return new Nc(mt(e.latitude),mt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=vI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){let t=gr(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=gt.fromString(e);at(bx(i));let r=new Ef(i.get(1),i.get(3)),s=new ce(i.popFirst(5));return r.isEqual(t)||mr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function XB(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var ba=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},pI=class extends qf{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ta(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(Jx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Ta=class extends pI{data(e={}){return super.data(e)}},mI=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ba(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Ta(this._firestore,this._userDataWriter,i.key,i,new ba(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Ta(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ba(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Ta(r._firestore,r._userDataWriter,a.doc.key,a.doc,new ba(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:e9(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function e9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}var gI=class extends fI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new ci(this.firestore,null,t)}};function kI(n){n=Bf(n,Va);let e=Bf(n.firestore,Mc),t=zx(e),i=new gI(e);return JB(n._query),zB(t,n._query).then(r=>new mI(e,i,n,r))}function LI(n,e){let t=Bf(n.firestore,Mc),i=$x(n),r=XB(n.converter,e);return t9(t,[WB(Wx(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Ys.exists(!1))]).then(()=>i)}function t9(n,e){return function(i,r){let s=new Bi;return i.asyncQueue.enqueueAndForget(()=>O(this,null,function*(){return OB(yield $B(i),r,s)})),s.promise}(zx(n),e)}(function(e,t=!0){(function(r){ja=r})(ma),Xr(new li("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Mc(new kv(i.getProvider("auth-internal")),new jv(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ef(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Gt(fA,"4.7.1",e),Gt(fA,"4.7.1","esm2017")})();var so=class{constructor(e){return e}},eM="firestore",FI=class{constructor(){return ac(eM)}};var VI=new se("angularfire2.firestore-instances");function n9(n,e){let t=ov(eM,n,e);return t&&new so(t)}function i9(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new so(i)}}var r9={provide:FI,deps:[[new Bn,VI]]},s9={provide:so,useFactory:n9,deps:[[new Bn,VI],qs]};function tM(n,...e){return Gt("angularfire",ya.full,"fst"),Wr([s9,r9,{provide:VI,useFactory:i9(n),multi:!0,deps:[Ie,ln,lc,uc,[new Bn,uf],[new Bn,oc],...e]}])}var nM=cc(Hx,!0);var _e=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(_e||{}),Gi="*";function oo(n,e){return{type:_e.Trigger,name:n,definitions:e,options:{}}}function vr(n,e=null){return{type:_e.Animate,styles:e,timings:n}}function iM(n,e=null){return{type:_e.Sequence,steps:n,options:e}}function On(n){return{type:_e.Style,styles:n,offset:null}}function rM(n,e,t){return{type:_e.State,name:n,styles:e,options:t}}function Wi(n,e,t=null){return{type:_e.Transition,expr:n,animation:e,options:t}}function $a(n,e=null){return{type:_e.Reference,animation:n,options:e}}function sM(n=null){return{type:_e.AnimateChild,options:n}}function Ha(n,e=null){return{type:_e.AnimateRef,animation:n,options:e}}function oM(n,e,t=null){return{type:_e.Query,selector:n,animation:e,options:t}}var os=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Uc=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Xf="!";function aM(n){return new H(3e3,!1)}function a9(){return new H(3100,!1)}function l9(){return new H(3101,!1)}function c9(n){return new H(3001,!1)}function u9(n){return new H(3003,!1)}function d9(n){return new H(3004,!1)}function h9(n,e){return new H(3005,!1)}function f9(){return new H(3006,!1)}function p9(){return new H(3007,!1)}function m9(n,e){return new H(3008,!1)}function g9(n){return new H(3002,!1)}function y9(n,e,t,i,r){return new H(3010,!1)}function _9(){return new H(3011,!1)}function v9(){return new H(3012,!1)}function I9(){return new H(3200,!1)}function w9(){return new H(3202,!1)}function E9(){return new H(3013,!1)}function b9(n){return new H(3014,!1)}function C9(n){return new H(3015,!1)}function T9(n){return new H(3016,!1)}function S9(n,e){return new H(3404,!1)}function D9(n){return new H(3502,!1)}function A9(n){return new H(3503,!1)}function x9(){return new H(3300,!1)}function M9(n){return new H(3504,!1)}function R9(n){return new H(3301,!1)}function O9(n,e){return new H(3302,!1)}function N9(n){return new H(3303,!1)}function P9(n,e){return new H(3400,!1)}function k9(n){return new H(3401,!1)}function L9(n){return new H(3402,!1)}function F9(n,e){return new H(3505,!1)}function as(n){switch(n.length){case 0:return new os;case 1:return n[0];default:return new Uc(n)}}function wM(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==o,p=d&&a||new Map;l.forEach((m,y)=>{let v=y,D=m;if(y!=="offset")switch(v=n.normalizePropertyName(v,r),D){case Xf:D=t.get(y);break;case Gi:D=i.get(y);break;default:D=n.normalizeStyleValue(y,v,D,r);break}p.set(v,D)}),d||s.push(p),a=p,o=u}),r.length)throw D9(r);return s}function aw(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&jI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&jI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&jI(t,"destroy",n)));break}}function jI(n,e,t){let i=t.totalTime,r=!!t.disabled,s=lw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function lw(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Qn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function lM(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var V9=typeof document>"u"?null:document.documentElement;function cw(n){let e=n.parentNode||n.host||null;return e===V9?null:e}function j9(n){return n.substring(1,6)=="ebkit"}var ao=null,cM=!1;function U9(n){ao||(ao=B9()||{},cM=ao.style?"WebkitAppearance"in ao.style:!1);let e=!0;return ao.style&&!j9(n)&&(e=n in ao.style,!e&&cM&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ao.style)),e}function B9(){return typeof document<"u"?document.body:null}function EM(n,e){for(;e;){if(e===n)return!0;e=cw(e)}return!1}function bM(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var uw=(()=>{let e=class e{validateStyleProperty(i){return U9(i)}containsElement(i,r){return EM(i,r)}getParentElement(i){return cw(i)}query(i,r,s){return bM(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],u){return new os(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})(),pw=class pw{};pw.NOOP=new uw;var uo=pw,ho=class{};var $9=1e3,CM="{{",H9="}}",TM="ng-enter",qI="ng-leave",ep="ng-trigger",sp=".ng-trigger",uM="ng-animating",GI=".ng-animating";function Ir(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:WI(parseFloat(e[1]),e[2])}function WI(n,e){switch(e){case"s":return n*$9;default:return n}}function op(n,e,t){return n.hasOwnProperty("duration")?n:z9(n,e,t)}function z9(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(aM(n)),{duration:0,delay:0,easing:""};r=WI(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=WI(parseFloat(l),a[4]));let u=a[5];u&&(o=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(a9()),a=!0),s<0&&(e.push(l9()),a=!0),a&&e.splice(l,0,aM(n))}return{duration:r,delay:s,easing:o}}function q9(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Ki(n,e,t){e.forEach((i,r)=>{let s=dw(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function co(n,e){e.forEach((t,i)=>{let r=dw(i);n.style[r]=""})}function Bc(n){return Array.isArray(n)?n.length==1?n[0]:iM(n):n}function G9(n,e,t){let i=e.params||{},r=SM(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(c9(s))})}var KI=new RegExp(`${CM}\\s*(.+?)\\s*${H9}`,"g");function SM(n){let e=[];if(typeof n=="string"){let t;for(;t=KI.exec(n);)e.push(t[1]);KI.lastIndex=0}return e}function Hc(n,e,t){let i=`${n}`,r=i.replace(KI,(s,o)=>{let a=e[o];return a==null&&(t.push(u9(o)),a=""),a.toString()});return r==i?n:r}var W9=/-+([a-z0-9])/g;function dw(n){return n.replace(W9,(...e)=>e[1].toUpperCase())}function K9(n,e){return n===0||e===0}function Q9(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,hw(n,a)))}}return e}function Kn(n,e,t){switch(e.type){case _e.Trigger:return n.visitTrigger(e,t);case _e.State:return n.visitState(e,t);case _e.Transition:return n.visitTransition(e,t);case _e.Sequence:return n.visitSequence(e,t);case _e.Group:return n.visitGroup(e,t);case _e.Animate:return n.visitAnimate(e,t);case _e.Keyframes:return n.visitKeyframes(e,t);case _e.Style:return n.visitStyle(e,t);case _e.Reference:return n.visitReference(e,t);case _e.AnimateChild:return n.visitAnimateChild(e,t);case _e.AnimateRef:return n.visitAnimateRef(e,t);case _e.Query:return n.visitQuery(e,t);case _e.Stagger:return n.visitStagger(e,t);default:throw d9(e.type)}}function hw(n,e){return window.getComputedStyle(n)[e]}var Y9=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),ap=class extends ho{normalizePropertyName(e,t){return dw(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(Y9.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(h9(e,i))}return o+s}};var lp="*";function Z9(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>J9(i,t,e)):t.push(n),t}function J9(n,e,t){if(n[0]==":"){let l=X9(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(C9(n)),e;let r=i[1],s=i[2],o=i[3];e.push(dM(r,o));let a=r==lp&&o==lp;s[0]=="<"&&!a&&e.push(dM(o,r))}function X9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(T9(n)),"* => *"}}var tp=new Set(["true","1"]),np=new Set(["false","0"]);function dM(n,e){let t=tp.has(n)||np.has(n),i=tp.has(e)||np.has(e);return(r,s)=>{let o=n==lp||n==r,a=e==lp||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?tp.has(n):np.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?tp.has(e):np.has(e)),o&&a}}var DM=":self",e6=new RegExp(`s*${DM}s*,?`,"g");function AM(n,e,t,i){return new QI(n).build(e,t,i)}var hM="",QI=class{constructor(e){this._driver=e}build(e,t,i){let r=new YI(t);return this._resetContextStyleTimingState(r),Kn(this,Bc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=hM,e.collectedStyles=new Map,e.collectedStyles.set(hM,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(f9()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==_e.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=u}else if(a.type==_e.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(p9())}),{type:_e.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{SM(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(m9(e.name,[...s.values()]))}return{type:_e.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Kn(this,Bc(e.animation),t),r=Z9(e.expr,t.errors);return{type:_e.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:lo(e.options)}}visitSequence(e,t){return{type:_e.Sequence,steps:e.steps.map(i=>Kn(this,i,t)),options:lo(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Kn(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:_e.Group,steps:s,options:lo(e.options)}}visitAnimate(e,t){let i=r6(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:On({});if(s.type==_e.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=On(u)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:_e.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Gi?i.push(a):t.errors.push(g9(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(CM)>=0){s=!0;break}}}),{type:_e.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l),p=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(y9(l,d.startTime,d.endTime,s,r)),p=!1),s=d.startTime),p&&u.set(l,{startTime:s,endTime:r}),t.options&&G9(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:_e.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(_9()),i;let r=1,s=0,o=[],a=!1,l=!1,u=0,d=e.steps.map(k=>{let $=this._makeStyleAst(k,t),W=$.offset!=null?$.offset:i6($.styles),J=0;return W!=null&&(s++,J=$.offset=W),l=l||J<0||J>1,a=a||J<u,u=J,o.push(J),$});l&&t.errors.push(v9()),a&&t.errors.push(I9());let p=e.steps.length,m=0;s>0&&s<p?t.errors.push(w9()):s==0&&(m=r/(p-1));let y=p-1,v=t.currentTime,D=t.currentAnimateTimings,A=D.duration;return d.forEach((k,$)=>{let W=m>0?$==y?1:m*$:o[$],J=W*A;t.currentTime=v+D.delay+J,D.duration=J,this._validateStyleAst(k,t),k.offset=W,i.styles.push(k)}),i}visitReference(e,t){return{type:_e.Reference,animation:Kn(this,Bc(e.animation),t),options:lo(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:_e.AnimateChild,options:lo(e.options)}}visitAnimateRef(e,t){return{type:_e.AnimateRef,animation:this.visitReference(e.animation,t),options:lo(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=t6(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Qn(t.collectedStyles,t.currentQuerySelector,new Map);let a=Kn(this,Bc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:_e.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:lo(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(E9());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:op(e.timings,t.errors,!0);return{type:_e.Stagger,animation:Kn(this,Bc(e.animation),t),timings:i,options:null}}};function t6(n){let e=!!n.split(/\s*,\s*/).find(t=>t==DM);return e&&(n=n.replace(e6,"")),n=n.replace(/@\*/g,sp).replace(/@\w+/g,t=>sp+"-"+t.slice(1)).replace(/:animating/g,GI),[n,e]}function n6(n){return n?U({},n):null}var YI=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function i6(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function r6(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=op(n,e).duration;return UI(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=UI(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=op(t,e);return UI(r.duration,r.delay,r.easing)}function lo(n){return n?(n=U({},n),n.params&&(n.params=n6(n.params))):n={},n}function UI(n,e,t){return{duration:n,delay:e,easing:t}}function fw(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var zc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},s6=1,o6=":enter",a6=new RegExp(o6,"g"),l6=":leave",c6=new RegExp(l6,"g");function xM(n,e,t,i,r,s=new Map,o=new Map,a,l,u=[]){return new ZI().buildKeyframes(n,e,t,i,r,s,o,a,l,u)}var ZI=class{buildKeyframes(e,t,i,r,s,o,a,l,u,d=[]){u=u||new zc;let p=new JI(e,t,u,r,s,d,[]);p.options=l;let m=l.delay?Ir(l.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([o],null,p.errors,l),Kn(this,i,p);let y=p.timelines.filter(v=>v.containsAnimation());if(y.length&&a.size){let v;for(let D=y.length-1;D>=0;D--){let A=y[D];if(A.element===t){v=A;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,p.errors,l)}return y.length?y.map(v=>v.buildKeyframes()):[fw(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:Ir(Hc(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?Ir(i.duration):null,a=i.delay!=null?Ir(i.delay):null;return o!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Kn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==_e.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=cp);let o=Ir(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Kn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?Ir(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Kn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Hc(i,t.params,t.errors):i;return op(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==_e.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Ir(r.delay):0;s&&(t.previousNode.type===_e.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=cp);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let p=t.createSubContext(e.options,u);s&&p.delayNextStep(s),u===t.element&&(l=p.currentTimeline),Kn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let p=d.currentTime;Kn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},cp={},JI=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new up(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=Ir(i.duration)),i.delay!=null&&(r.delay=Ir(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Hc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=cp,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new XI(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(a6,"."+this._enterClassName),e=e.replace(c6,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,e,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&a.length==0&&o.push(b9(t)),a}},up=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=s6,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Gi),this._currentKeyframe.set(t,Gi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=u6(e,this._globalTimelineStyles);for(let[a,l]of o){let u=Hc(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,p)=>{d===Xf?e.add(p):d===Gi&&t.add(p)}),i||u.set("offset",l/this.duration),r.push(u)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return fw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},XI=class extends up{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let u=new Map(e[0]);u.set("offset",fM(a)),s.push(u);let d=e.length-1;for(let p=1;p<=d;p++){let m=new Map(e[p]),y=m.get("offset"),v=t+y*i;m.set("offset",fM(v/o)),s.push(m)}i=o,t=0,r="",e=s}return fw(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function fM(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function u6(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Gi)}else for(let[s,o]of r)t.set(s,o)}),t}function pM(n,e,t,i,r,s,o,a,l,u,d,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:p,errors:m}}var BI={},dp=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return d6(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,u,d){let p=[],m=this.ast.options&&this.ast.options.params||BI,y=a&&a.params||BI,v=this.buildStyles(i,y,p),D=l&&l.params||BI,A=this.buildStyles(r,D,p),k=new Set,$=new Map,W=new Map,J=r==="void",ke={params:MM(D,m),delay:this.ast.options?.delay},ne=d?[]:xM(e,t,this.ast.animation,s,o,v,A,ke,u,p),b=0;return ne.forEach(_=>{b=Math.max(_.duration+_.delay,b)}),p.length?pM(t,this._triggerName,i,r,J,v,A,[],[],$,W,b,p):(ne.forEach(_=>{let I=_.element,C=Qn($,I,new Set);_.preStyleProps.forEach(M=>C.add(M));let S=Qn(W,I,new Set);_.postStyleProps.forEach(M=>S.add(M)),I!==t&&k.add(I)}),pM(t,this._triggerName,i,r,J,v,A,ne,[...k.values()],$,W,b))}};function d6(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function MM(n,e){let t=U({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var ew=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=MM(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Hc(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function h6(n,e,t){return new tw(n,e,t)}var tw=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new ew(r.style,s,i))}),mM(this.states,"true","1"),mM(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dp(e,r,this.states))}),this.fallbackTransition=f6(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function f6(n,e,t){let i=[(o,a)=>!0],r={type:_e.Sequence,steps:[],options:null},s={type:_e.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new dp(n,s,e)}function mM(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var p6=new zc,nw=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=AM(this._driver,t,i,r);if(i.length)throw A9(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=wM(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=xM(this._driver,t,s,TM,qI,new Map,new Map,i,p6,r),o.forEach(d=>{let p=Qn(a,d.element,new Map);d.postStyleProps.forEach(m=>p.set(m,null))})):(r.push(x9()),o=[]),r.length)throw M9(r);a.forEach((d,p)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(p,y,Gi))})});let l=o.map(d=>{let p=a.get(d.element);return this._buildPlayer(d,new Map,p)}),u=as(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw R9(e);return t}listen(e,t,i,r){let s=lw(t,"","","");return aw(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},gM="ng-animate-queued",m6=".ng-animate-queued",$I="ng-animate-disabled",g6=".ng-animate-disabled",y6="ng-star-inserted",_6=".ng-star-inserted",v6=[],RM={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},I6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bi="__ng_removed",qc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=E6(r),i){let s=e,{value:o}=s,a=Sb(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},$c="void",HI=new qc($c),iw=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ui(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw O9(i,t);if(i==null||i.length==0)throw N9(t);if(!b6(i))throw P9(i,t);let s=Qn(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Qn(this._engine.statesByElement,e,new Map);return a.has(t)||(ui(e,ep),ui(e,ep+"-"+t),a.set(t,HI)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw k9(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Gc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ui(e,ep),ui(e,ep+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new qc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=HI),!(u.value===$c)&&l.value===u.value){if(!S6(l.params,u.params)){let D=[],A=s.matchStyles(l.value,l.params,D),k=s.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{co(e,A),Ki(e,k)})}return}let m=Qn(this._engine.playersByElement,e,[]);m.forEach(D=>{D.namespaceId==this.id&&D.triggerName==t&&D.queued&&D.destroy()});let y=s.matchTransition(l.value,u.value,e,u.params),v=!1;if(!y){if(!r)return;y=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:o,isFallbackTransition:v}),v||(ui(e,gM),o.onStart(()=>{za(e,gM)})),o.onDone(()=>{let D=this.players.indexOf(o);D>=0&&this.players.splice(D,1);let A=this._engine.playersByElement.get(e);if(A){let k=A.indexOf(o);k>=0&&A.splice(k,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,sp,!0);i.forEach(r=>{if(r[bi])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,$c,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&as(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,u=i.get(o)||HI,d=new qc($c),p=new Gc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[bi];(!s||s===RM)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){ui(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=lw(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,aw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},rw=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new iw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(ip(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!ip(t))return;let s=t[bi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ui(e,$I)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),za(e,$I))}removeNode(e,t,i){if(ip(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[bi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return ip(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,sp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,GI,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return as(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[bi];if(t&&t.setForRemoval){if(e[bi]=RM,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($I)&&this.markElementAsDisabled(e,!1),this.driver.query(e,g6,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];ui(r,y6)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?as(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw L9(e)}_flushAnimations(e,t){let i=new zc,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(ee=>{d.add(ee);let ie=this.driver.query(ee,m6,!0);for(let ae=0;ae<ie.length;ae++)d.add(ie[ae])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=vM(m,this.collectedEnterElements),v=new Map,D=0;y.forEach((ee,ie)=>{let ae=TM+D++;v.set(ie,ae),ee.forEach(Le=>ui(Le,ae))});let A=[],k=new Set,$=new Set;for(let ee=0;ee<this.collectedLeaveElements.length;ee++){let ie=this.collectedLeaveElements[ee],ae=ie[bi];ae&&ae.setForRemoval&&(A.push(ie),k.add(ie),ae.hasAnimation?this.driver.query(ie,_6,!0).forEach(Le=>k.add(Le)):$.add(ie))}let W=new Map,J=vM(m,Array.from(k));J.forEach((ee,ie)=>{let ae=qI+D++;W.set(ie,ae),ee.forEach(Le=>ui(Le,ae))}),e.push(()=>{y.forEach((ee,ie)=>{let ae=v.get(ie);ee.forEach(Le=>za(Le,ae))}),J.forEach((ee,ie)=>{let ae=W.get(ie);ee.forEach(Le=>za(Le,ae))}),A.forEach(ee=>{this.processLeaveNode(ee)})});let ke=[],ne=[];for(let ee=this._namespaceList.length-1;ee>=0;ee--)this._namespaceList[ee].drainQueuedTransitions(t).forEach(ae=>{let Le=ae.player,Dt=ae.element;if(ke.push(Le),this.collectedEnterElements.length){let _t=Dt[bi];if(_t&&_t.setForMove){if(_t.previousTriggersValues&&_t.previousTriggersValues.has(ae.triggerName)){let Yi=_t.previousTriggersValues.get(ae.triggerName),An=this.statesByElement.get(ae.element);if(An&&An.has(ae.triggerName)){let Zi=An.get(ae.triggerName);Zi.value=Yi,An.set(ae.triggerName,Zi)}}Le.destroy();return}}let ei=!p||!this.driver.containsElement(p,Dt),yt=W.get(Dt),lt=v.get(Dt),ct=this._buildInstruction(ae,i,lt,yt,ei);if(ct.errors&&ct.errors.length){ne.push(ct);return}if(ei){Le.onStart(()=>co(Dt,ct.fromStyles)),Le.onDestroy(()=>Ki(Dt,ct.toStyles)),r.push(Le);return}if(ae.isFallbackTransition){Le.onStart(()=>co(Dt,ct.fromStyles)),Le.onDestroy(()=>Ki(Dt,ct.toStyles)),r.push(Le);return}let Sr=[];ct.timelines.forEach(_t=>{_t.stretchStartingKeyframe=!0,this.disabledNodes.has(_t.element)||Sr.push(_t)}),ct.timelines=Sr,i.append(Dt,ct.timelines);let cm={instruction:ct,player:Le,element:Dt};o.push(cm),ct.queriedElements.forEach(_t=>Qn(a,_t,[]).push(Le)),ct.preStyleProps.forEach((_t,Yi)=>{if(_t.size){let An=l.get(Yi);An||l.set(Yi,An=new Set),_t.forEach((Zi,Dr)=>An.add(Dr))}}),ct.postStyleProps.forEach((_t,Yi)=>{let An=u.get(Yi);An||u.set(Yi,An=new Set),_t.forEach((Zi,Dr)=>An.add(Dr))})});if(ne.length){let ee=[];ne.forEach(ie=>{ee.push(F9(ie.triggerName,ie.errors))}),ke.forEach(ie=>ie.destroy()),this.reportError(ee)}let b=new Map,_=new Map;o.forEach(ee=>{let ie=ee.element;i.has(ie)&&(_.set(ie,ie),this._beforeAnimationBuild(ee.player.namespaceId,ee.instruction,b))}),r.forEach(ee=>{let ie=ee.element;this._getPreviousPlayers(ie,!1,ee.namespaceId,ee.triggerName,null).forEach(Le=>{Qn(b,ie,[]).push(Le),Le.destroy()})});let I=A.filter(ee=>IM(ee,l,u)),C=new Map;_M(C,this.driver,$,u,Gi).forEach(ee=>{IM(ee,l,u)&&I.push(ee)});let M=new Map;y.forEach((ee,ie)=>{_M(M,this.driver,new Set(ee),l,Xf)}),I.forEach(ee=>{let ie=C.get(ee),ae=M.get(ee);C.set(ee,new Map([...ie?.entries()??[],...ae?.entries()??[]]))});let w=[],Xn=[],Tr={};o.forEach(ee=>{let{element:ie,player:ae,instruction:Le}=ee;if(i.has(ie)){if(d.has(ie)){ae.onDestroy(()=>Ki(ie,Le.toStyles)),ae.disabled=!0,ae.overrideTotalTime(Le.totalTime),r.push(ae);return}let Dt=Tr;if(_.size>1){let yt=ie,lt=[];for(;yt=yt.parentNode;){let ct=_.get(yt);if(ct){Dt=ct;break}lt.push(yt)}lt.forEach(ct=>_.set(ct,Dt))}let ei=this._buildAnimation(ae.namespaceId,Le,b,s,M,C);if(ae.setRealPlayer(ei),Dt===Tr)w.push(ae);else{let yt=this.playersByElement.get(Dt);yt&&yt.length&&(ae.parentPlayer=as(yt)),r.push(ae)}}else co(ie,Le.fromStyles),ae.onDestroy(()=>Ki(ie,Le.toStyles)),Xn.push(ae),d.has(ie)&&r.push(ae)}),Xn.forEach(ee=>{let ie=s.get(ee.element);if(ie&&ie.length){let ae=as(ie);ee.setRealPlayer(ae)}}),r.forEach(ee=>{ee.parentPlayer?ee.syncPlayerEvents(ee.parentPlayer):ee.destroy()});for(let ee=0;ee<A.length;ee++){let ie=A[ee],ae=ie[bi];if(za(ie,qI),ae&&ae.hasAnimation)continue;let Le=[];if(a.size){let ei=a.get(ie);ei&&ei.length&&Le.push(...ei);let yt=this.driver.query(ie,GI,!0);for(let lt=0;lt<yt.length;lt++){let ct=a.get(yt[lt]);ct&&ct.length&&Le.push(...ct)}}let Dt=Le.filter(ei=>!ei.destroyed);Dt.length?C6(this,ie,Dt):this.processLeaveNode(ie)}return A.length=0,w.forEach(ee=>{this.players.push(ee),ee.onDone(()=>{ee.destroy();let ie=this.players.indexOf(ee);this.players.splice(ie,1)}),ee.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==$c;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,d=u!==s,p=Qn(i,u,[]);this._getPreviousPlayers(u,d,o,a,t.toState).forEach(y=>{let v=y.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),y.destroy(),p.push(y)})}co(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,u=[],d=new Set,p=new Set,m=t.timelines.map(v=>{let D=v.element;d.add(D);let A=D[bi];if(A&&A.removedBeforeQueried)return new os(v.duration,v.delay);let k=D!==l,$=T6((i.get(D)||v6).map(b=>b.getRealPlayer())).filter(b=>{let _=b;return _.element?_.element===D:!1}),W=s.get(D),J=o.get(D),ke=wM(this._normalizer,v.keyframes,W,J),ne=this._buildPlayer(v,ke,$);if(v.subTimeline&&r&&p.add(D),k){let b=new Gc(e,a,D);b.setRealPlayer(ne),u.push(b)}return ne});u.forEach(v=>{Qn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>w6(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>ui(v,uM));let y=as(m);return y.onDestroy(()=>{d.forEach(v=>za(v,uM)),Ki(l,t.toStyles)}),p.forEach(v=>{Qn(r,v,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new os(e.duration,e.delay)}},Gc=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new os,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>aw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Qn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function w6(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function E6(n){return n??null}function ip(n){return n&&n.nodeType===1}function b6(n){return n=="start"||n=="done"}function yM(n,e){let t=n.style.display;return n.style.display=e??"none",t}function _M(n,e,t,i,r){let s=[];t.forEach(l=>s.push(yM(l)));let o=[];i.forEach((l,u)=>{let d=new Map;l.forEach(p=>{let m=e.computeStyle(u,p,r);d.set(p,m),(!m||m.length==0)&&(u[bi]=I6,o.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>yM(l,s[a++])),o}function vM(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=i:l=o(u),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function ui(n,e){n.classList?.add(e)}function za(n,e){n.classList?.remove(e)}function C6(n,e,t){as(t).onDone(()=>n.processLeaveNode(e))}function T6(n){let e=[];return OM(n,e),e}function OM(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Uc?OM(i.players,e):e.push(i)}}function S6(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function IM(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var Ga=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new rw(e.body,t,i),this._timelineEngine=new nw(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],u=[],d=AM(this._driver,s,l,u);if(l.length)throw S9(r,l);u.length&&void 0,a=h6(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=lM(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=lM(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function D6(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=zI(e[0]),e.length>1&&(i=zI(e[e.length-1]))):e instanceof Map&&(t=zI(e)),t||i?new sw(n,t,i):null}var qa=class qa{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=qa.initialStylesByElement.get(e);r||qa.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ki(this._element,this._initialStyles),this._endStyles&&(Ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(qa.initialStylesByElement.delete(this._element),this._startStyles&&(co(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(co(this._element,this._endStyles),this._endStyles=null),Ki(this._element,this._initialStyles),this._state=3)}};qa.initialStylesByElement=new WeakMap;var sw=qa;function zI(n){let e=null;return n.forEach((t,i)=>{A6(i)&&(e=e||new Map,e.set(i,t))}),e}function A6(n){return n==="display"||n==="position"}var hp=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:hw(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},fp=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return EM(e,t)}getParentElement(e){return cw(e)}query(e,t,i){return bM(e,t,i)}computeStyle(e,t,i){return hw(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let u=new Map,d=o.filter(y=>y instanceof hp);K9(i,r)&&d.forEach(y=>{y.currentSnapshot.forEach((v,D)=>u.set(D,v))});let p=q9(t).map(y=>new Map(y));p=Q9(e,p,u);let m=D6(e,p);return new hp(e,p,l,m)}};var rp="@",NM="@.disabled",pp=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==rp&&t==NM?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},ow=class extends pp{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==rp?t.charAt(1)=="."&&t==NM?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==rp){let r=x6(e),s=t.slice(1),o="";return s.charAt(0)!=rp&&([s,o]=M6(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function x6(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function M6(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var mp=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let p=()=>u.delete(r);d=new pp(i,r,this.engine,p),u.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(a),new ow(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var O6=(()=>{let e=class e extends Ga{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(le(Xe),le(uo),le(ho))},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function N6(){return new ap}function P6(n,e,t){return new mp(n,e,t)}var PM=[{provide:ho,useFactory:N6},{provide:Ga,useClass:O6},{provide:qr,useFactory:P6,deps:[zh,Ga,Ie]}],k6=[{provide:uo,useFactory:()=>new fp},{provide:Ky,useValue:"BrowserAnimations"},...PM],Ane=[{provide:uo,useClass:uw},{provide:Ky,useValue:"NoopAnimations"},...PM];function kM(){return vi("NgEagerAnimations"),[...k6]}var De="primary",au=Symbol("RouteTitle"),vw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ja(n){return new vw(n)}function L6(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function F6(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Qi(n[t],e[t]))return!1;return!0}function Qi(n,e){let t=n?Iw(n):void 0,i=e?Iw(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!GM(n[r],e[r]))return!1;return!0}function Iw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function GM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function WM(n){return n.length>0?n[n.length-1]:null}function us(n){return Jm(n)?n:Us(n)?pt(Promise.resolve(n)):he(n)}var V6={exact:QM,subset:YM},KM={exact:j6,subset:U6,ignored:()=>!0};function LM(n,e,t){return V6[t.paths](n.root,e.root,t.matrixParams)&&KM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function j6(n,e){return Qi(n,e)}function QM(n,e,t){if(!po(n.segments,e.segments)||!_p(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!QM(n.children[i],e.children[i],t))return!1;return!0}function U6(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>GM(n[t],e[t]))}function YM(n,e,t){return ZM(n,e,e.segments,t)}function ZM(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!po(r,t)||e.hasChildren()||!_p(r,t,i))}else if(n.segments.length===t.length){if(!po(n.segments,t)||!_p(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!YM(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!po(n.segments,r)||!_p(n.segments,r,i)||!n.children[De]?!1:ZM(n.children[De],e,s,i)}}function _p(n,e,t){return e.every((i,r)=>KM[t](n[r].parameters,i.parameters))}var Er=class{constructor(e=new it([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ja(this.queryParams),this._queryParamMap}toString(){return H6.serialize(this)}},it=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vp(this)}},fo=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ja(this.parameters),this._parameterMap}toString(){return XM(this)}};function B6(n,e){return po(n,e)&&n.every((t,i)=>Qi(t.parameters,e[i].parameters))}function po(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function $6(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===De&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==De&&(t=t.concat(e(r,i)))}),t}var lu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>new Xa,providedIn:"root"});let n=e;return n})(),Xa=class{parse(e){let t=new Ew(e);return new Er(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Wc(e.root,!0)}`,i=G6(e.queryParams),r=typeof e.fragment=="string"?`#${z6(e.fragment)}`:"";return`${t}${i}${r}`}},H6=new Xa;function vp(n){return n.segments.map(e=>XM(e)).join("/")}function Wc(n,e){if(!n.hasChildren())return vp(n);if(e){let t=n.children[De]?Wc(n.children[De],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==De&&i.push(`${r}:${Wc(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=$6(n,(i,r)=>r===De?[Wc(n.children[De],!1)]:[`${r}:${Wc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[De]!=null?`${vp(n)}/${t[0]}`:`${vp(n)}/(${t.join("//")})`}}function JM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gp(n){return JM(n).replace(/%3B/gi,";")}function z6(n){return encodeURI(n)}function ww(n){return JM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ip(n){return decodeURIComponent(n)}function FM(n){return Ip(n.replace(/\+/g,"%20"))}function XM(n){return`${ww(n.path)}${q6(n.parameters)}`}function q6(n){return Object.entries(n).map(([e,t])=>`;${ww(e)}=${ww(t)}`).join("")}function G6(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${gp(t)}=${gp(r)}`).join("&"):`${gp(t)}=${gp(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var W6=/^[^\/()?;#]+/;function mw(n){let e=n.match(W6);return e?e[0]:""}var K6=/^[^\/()?;=#]+/;function Q6(n){let e=n.match(K6);return e?e[0]:""}var Y6=/^[^=?&#]+/;function Z6(n){let e=n.match(Y6);return e?e[0]:""}var J6=/^[^&#]+/;function X6(n){let e=n.match(J6);return e?e[0]:""}var Ew=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[De]=new it(e,t)),i}parseSegment(){let e=mw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new fo(Ip(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Q6(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=mw(this.remaining);r&&(i=r,this.capture(i))}e[Ip(t)]=Ip(i)}parseQueryParam(e){let t=Z6(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=X6(this.remaining);o&&(i=o,this.capture(i))}let r=FM(t),s=FM(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=mw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new H(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=De);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[De]:new it([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function eR(n){return n.segments.length>0?new it([],{[De]:n}):n}function tR(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=tR(r);if(i===De&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new it(n.segments,e);return e5(t)}function e5(n){if(n.numberOfChildren===1&&n.children[De]){let e=n.children[De];return new it(n.segments.concat(e.segments),e.children)}return n}function mo(n){return n instanceof Er}function t5(n,e,t=null,i=null){let r=nR(n);return iR(r,e,t,i)}function nR(n){let e;function t(s){let o={};for(let l of s.children){let u=t(l);o[l.outlet]=u}let a=new it(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=eR(i);return e??r}function iR(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return gw(r,r,r,t,i);let s=n5(e);if(s.toRoot())return gw(r,r,new it([],{}),t,i);let o=i5(s,r,n),a=o.processChildren?Yc(o.segmentGroup,o.index,s.commands):sR(o.segmentGroup,o.index,s.commands);return gw(r,o.segmentGroup,a,t,i)}function wp(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Xc(n){return typeof n=="object"&&n!=null&&n.outlets}function gw(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=rR(n,e,t);let a=eR(tR(o));return new Er(a,s,r)}function rR(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=rR(s,e,t)}),new it(n.segments,i)}var Ep=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&wp(i[0]))throw new H(4003,!1);let r=i.find(Xc);if(r&&r!==WM(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function n5(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ep(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Ep(t,e,i)}var Qa=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function i5(n,e,t){if(n.isAbsolute)return new Qa(e,!0,0);if(!t)return new Qa(e,!1,NaN);if(t.parent===null)return new Qa(t,!0,0);let i=wp(n.commands[0])?0:1,r=t.segments.length-1+i;return r5(t,r,n.numberOfDoubleDots)}function r5(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new Qa(i,!1,r-s)}function s5(n){return Xc(n[0])?n[0].outlets:{[De]:n}}function sR(n,e,t){if(n??=new it([],{}),n.segments.length===0&&n.hasChildren())return Yc(n,e,t);let i=o5(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new it(n.segments.slice(0,i.pathIndex),{});return s.children[De]=new it(n.segments.slice(i.pathIndex),n.children),Yc(s,0,r)}else return i.match&&r.length===0?new it(n.segments,{}):i.match&&!n.hasChildren()?bw(n,e,t):i.match?Yc(n,0,r):bw(n,e,t)}function Yc(n,e,t){if(t.length===0)return new it(n.segments,{});{let i=s5(t),r={};if(Object.keys(i).some(s=>s!==De)&&n.children[De]&&n.numberOfChildren===1&&n.children[De].segments.length===0){let s=Yc(n.children[De],e,t);return new it(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=sR(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new it(n.segments,r)}}function o5(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Xc(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!jM(l,u,o))return s;i+=2}else{if(!jM(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function bw(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Xc(s)){let l=a5(s.outlets);return new it(i,l)}if(r===0&&wp(t[0])){let l=n.segments[e];i.push(new fo(l.path,VM(t[0]))),r++;continue}let o=Xc(s)?s.outlets[De]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&wp(a)?(i.push(new fo(o,VM(a))),r+=2):(i.push(new fo(o,{})),r++)}return new it(i,{})}function a5(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=bw(new it([],{}),0,i))}),e}function VM(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function jM(n,e,t){return n==t.path&&Qi(e,t.parameters)}var Zc="imperative",Kt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Kt||{}),di=class{constructor(e,t){this.id=e,this.url=t}},el=class extends di{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Kt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ti=class extends di{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Kt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Zn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Zn||{}),bp=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(bp||{}),wr=class extends di{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Kt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ls=class extends di{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Kt.NavigationSkipped}},eu=class extends di{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Kt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Cp=class extends di{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cw=class extends di{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tw=class extends di{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Kt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sw=class extends di{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dw=class extends di{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Kt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Aw=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xw=class{constructor(e){this.route=e,this.type=Kt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Mw=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rw=class{constructor(e){this.snapshot=e,this.type=Kt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ow=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nw=class{constructor(e){this.snapshot=e,this.type=Kt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tp=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Kt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tu=class{},tl=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function l5(n,e){return n.providers&&!n._injector&&(n._injector=Rh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ci(n){return n.outlet||De}function c5(n,e){let t=n.filter(i=>Ci(i)===e);return t.push(...n.filter(i=>Ci(i)!==e)),t}function cu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pw=class{get injector(){return cu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new uu(this.rootInjector),this.attachRef=null}},uu=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Pw(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(le(Fn))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Sp=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=kw(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=kw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Lw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Lw(e,this._root).map(t=>t.value)}};function kw(n,e){if(n===e.value)return e;for(let t of e.children){let i=kw(n,t);if(i)return i}return null}function Lw(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Lw(n,t);if(i.length)return i.unshift(e),i}return[]}var Yn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ka(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Dp=class extends Sp{constructor(e,t){super(e),this.snapshot=t,qw(this,e)}toString(){return this.snapshot.toString()}};function oR(n){let e=u5(n),t=new Yt([new fo("",{})]),i=new Yt({}),r=new Yt({}),s=new Yt({}),o=new Yt(""),a=new cs(t,i,s,o,r,De,n,e.root);return a.snapshot=e.root,new Dp(new Yn(a,[]),e)}function u5(n){let e={},t={},i={},r="",s=new Ya([],e,i,r,t,De,n,null,{});return new xp("",new Yn(s,[]))}var cs=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ve(u=>u[au]))??he(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ve(e=>Ja(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ve(e=>Ja(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ap(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:U(U({},e.params),n.params),data:U(U({},e.data),n.data),resolve:U(U(U(U({},n.data),e.data),r?.data),n._resolvedData)}:i={params:U({},n.params),data:U({},n.data),resolve:U(U({},n.data),n._resolvedData??{})},r&&lR(r)&&(i.resolve[au]=r.title),i}var Ya=class{get title(){return this.data?.[au]}constructor(e,t,i,r,s,o,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ja(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ja(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xp=class extends Sp{constructor(e,t){super(t),this.url=e,qw(this,t)}toString(){return aR(this._root)}};function qw(n,e){e.value._routerState=n,e.children.forEach(t=>qw(n,t))}function aR(n){let e=n.children.length>0?` { ${n.children.map(aR).join(", ")} } `:"";return`${n.value}${e}`}function yw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Qi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Qi(e.params,t.params)||n.paramsSubject.next(t.params),F6(e.url,t.url)||n.urlSubject.next(t.url),Qi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fw(n,e){let t=Qi(n.params,e.params)&&B6(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Fw(n.parent,e.parent))}function lR(n){return typeof n.title=="string"||n.title===null}var Gw=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=De,this.activateEvents=new re,this.deactivateEvents=new re,this.attachEvents=new re,this.detachEvents=new re,this.parentContexts=z(uu),this.location=z(_i),this.changeDetector=z(Ct),this.inputBinder=z(Pp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new Vw(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[En]});let n=e;return n})(),Vw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===cs?this.route:e===uu?this.childContexts:this.parent.get(e,t)}},Pp=new se(""),UM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Ml([r.queryParams,r.params,r.data]).pipe(ni(([o,a,l],u)=>(l=U(U(U({},o),a),l),u===0?he(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=ZD(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function d5(n,e,t){let i=nu(n,e._root,t?t._root:void 0);return new Dp(i,e)}function nu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=h5(n,e,t);return new Yn(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>nu(n,a)),o}}let i=f5(e.value),r=e.children.map(s=>nu(n,s));return new Yn(i,r)}}function h5(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return nu(n,i,r);return nu(n,i)})}function f5(n){return new cs(new Yt(n.url),new Yt(n.params),new Yt(n.queryParams),new Yt(n.fragment),new Yt(n.data),n.outlet,n.component,n)}var iu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},cR="ngNavigationCancelingError";function Mp(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=uR(!1,Zn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function uR(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[cR]=!0,t.cancellationCode=e,t}function p5(n){return dR(n)&&mo(n.url)}function dR(n){return!!n&&n[cR]}var m5=(n,e,t,i)=>Ve(r=>(new jw(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),jw=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),yw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Ka(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ka(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ka(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Ka(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Nw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Rw(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(yw(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),yw(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Rp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Za=class{constructor(e,t){this.component=e,this.route=t}};function g5(n,e,t){let i=n._root,r=e?e._root:null;return Kc(i,r,t,[i.value])}function y5(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function il(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!lT(n)?n:e.get(n):i}function Kc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ka(e);return n.children.forEach(o=>{_5(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Jc(a,t.getContext(o),r)),r}function _5(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=v5(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Rp(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Kc(n,e,a?a.children:null,i,r):Kc(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Za(a.outlet.component,o))}else o&&Jc(e,a,r),r.canActivateChecks.push(new Rp(i)),s.component?Kc(n,null,a?a.children:null,i,r):Kc(n,null,t,i,r);return r}function v5(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!po(n.url,e.url);case"pathParamsOrQueryParamsChange":return!po(n.url,e.url)||!Qi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fw(n,e)||!Qi(n.queryParams,e.queryParams);case"paramsChange":default:return!Fw(n,e)}}function Jc(n,e,t){let i=Ka(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Jc(o,e.children.getContext(s),t):Jc(o,null,t):Jc(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Za(e.outlet.component,r)):t.canDeactivateChecks.push(new Za(null,r)):t.canDeactivateChecks.push(new Za(null,r))}function du(n){return typeof n=="function"}function I5(n){return typeof n=="boolean"}function w5(n){return n&&du(n.canLoad)}function E5(n){return n&&du(n.canActivate)}function b5(n){return n&&du(n.canActivateChild)}function C5(n){return n&&du(n.canDeactivate)}function T5(n){return n&&du(n.canMatch)}function hR(n){return n instanceof er||n?.name==="EmptyError"}var yp=Symbol("INITIAL_VALUE");function nl(){return ni(n=>Ml(n.map(e=>e.pipe(tr(1),ig(yp)))).pipe(Ve(e=>{for(let t of e)if(t!==!0){if(t===yp)return yp;if(t===!1||S5(t))return t}return!0}),ti(e=>e!==yp),tr(1)))}function S5(n){return mo(n)||n instanceof iu}function D5(n,e){return Ot(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?he(Ee(U({},t),{guardsResult:!0})):A5(o,i,r,n).pipe(Ot(a=>a&&I5(a)?x5(i,s,n,e):he(a)),Ve(a=>Ee(U({},t),{guardsResult:a})))})}function A5(n,e,t,i){return pt(n).pipe(Ot(r=>P5(r.component,r.route,t,e,i)),Di(r=>r!==!0,!0))}function x5(n,e,t,i){return pt(e).pipe(Ss(r=>Lo(R5(r.route.parent,i),M5(r.route,i),N5(n,r.path,t),O5(n,r.route,t))),Di(r=>r!==!0,!0))}function M5(n,e){return n!==null&&e&&e(new Ow(n)),he(!0)}function R5(n,e){return n!==null&&e&&e(new Mw(n)),he(!0)}function O5(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return he(!0);let r=i.map(s=>Id(()=>{let o=cu(e)??t,a=il(s,o),l=E5(a)?a.canActivate(e,n):ki(o,()=>a(e,n));return us(l).pipe(Di())}));return he(r).pipe(nl())}function N5(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>y5(o)).filter(o=>o!==null).map(o=>Id(()=>{let a=o.guards.map(l=>{let u=cu(o.node)??t,d=il(l,u),p=b5(d)?d.canActivateChild(i,n):ki(u,()=>d(i,n));return us(p).pipe(Di())});return he(a).pipe(nl())}));return he(s).pipe(nl())}function P5(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return he(!0);let o=s.map(a=>{let l=cu(e)??r,u=il(a,l),d=C5(u)?u.canDeactivate(n,e,t,i):ki(l,()=>u(n,e,t,i));return us(d).pipe(Di())});return he(o).pipe(nl())}function k5(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return he(!0);let s=r.map(o=>{let a=il(o,n),l=w5(a)?a.canLoad(e,t):ki(n,()=>a(e,t));return us(l)});return he(s).pipe(nl(),fR(i))}function fR(n){return zm(Ut(e=>{if(typeof e!="boolean")throw Mp(n,e)}),Ve(e=>e===!0))}function L5(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return he(!0);let s=r.map(o=>{let a=il(o,n),l=T5(a)?a.canMatch(e,t):ki(n,()=>a(e,t));return us(l)});return he(s).pipe(nl(),fR(i))}var ru=class{constructor(e){this.segmentGroup=e||null}},su=class extends Error{constructor(e){super(),this.urlTree=e}};function Wa(n){return ko(new ru(n))}function F5(n){return ko(new H(4e3,!1))}function V5(n){return ko(uR(!1,Zn.GuardRejected))}var Uw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return he(i);if(r.numberOfChildren>1||!r.children[De])return F5(`${e.redirectTo}`);r=r.children[De]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:d,url:p,outlet:m,params:y,data:v,title:D}=r,A=ki(s,()=>a({params:y,data:v,queryParams:l,fragment:u,routeConfig:d,url:p,outlet:m,title:D}));if(A instanceof Er)throw new su(A);t=A}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new su(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new Er(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new it(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new H(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},Bw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function j5(n,e,t,i,r){let s=pR(n,e,t);return s.matched?(i=l5(e,i),L5(i,e,t,r).pipe(Ve(o=>o===!0?s:U({},Bw)))):he(s)}function pR(n,e,t){if(e.path==="**")return U5(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?U({},Bw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||L6)(t,n,e);if(!r)return U({},Bw);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?U(U({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function U5(n){return{matched:!0,parameters:n.length>0?WM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function BM(n,e,t,i){return t.length>0&&H5(n,t,i)?{segmentGroup:new it(e,$5(i,new it(t,n.children))),slicedSegments:[]}:t.length===0&&z5(n,t,i)?{segmentGroup:new it(n.segments,B5(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new it(n.segments,n.children),slicedSegments:t}}function B5(n,e,t,i){let r={};for(let s of t)if(kp(n,e,s)&&!i[Ci(s)]){let o=new it([],{});r[Ci(s)]=o}return U(U({},i),r)}function $5(n,e){let t={};t[De]=e;for(let i of n)if(i.path===""&&Ci(i)!==De){let r=new it([],{});t[Ci(i)]=r}return t}function H5(n,e,t){return t.some(i=>kp(n,e,i)&&Ci(i)!==De)}function z5(n,e,t){return t.some(i=>kp(n,e,i))}function kp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function q5(n,e,t){return e.length===0&&!n.children[t]}var $w=class{};function G5(n,e,t,i,r,s,o="emptyOnly"){return new Hw(n,e,t,i,r,o,s).recognize()}var W5=31,Hw=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Uw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=BM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ve(({children:t,rootSnapshot:i})=>{let r=new Yn(i,t),s=new xp("",r),o=t5(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Ya([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),De,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,De,t).pipe(Ve(i=>({children:i,rootSnapshot:t})),kr(i=>{if(i instanceof su)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof ru?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(Ve(o=>o instanceof Yn?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return pt(s).pipe(Ss(o=>{let a=i.children[o],l=c5(t,o);return this.processSegmentGroup(e,l,a,o,r)}),ng((o,a)=>(o.push(...a),o)),Lr(null),tg(),Ot(o=>{if(o===null)return Wa(i);let a=mR(o);return K5(a),he(a)}))}processSegment(e,t,i,r,s,o,a){return pt(t).pipe(Ss(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(kr(u=>{if(u instanceof ru)return he(null);throw u}))),Di(l=>!!l),kr(l=>{if(hR(l))return q5(i,r,s)?he(new $w):Wa(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return Ci(i)!==o&&(o===De||!kp(r,s,i))?Wa(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):Wa(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=pR(t,r,s);if(!l)return Wa(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>W5&&(this.allowRedirects=!1));let y=new Ya(s,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,$M(r),Ci(r),r.component??r._loadedComponent??null,r,HM(r)),v=Ap(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let D=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(r,D).pipe(Ot(A=>this.processSegment(e,i,t,A.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=j5(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(ni(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(ni(({routes:u})=>{let d=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=l,v=new Ya(m,p,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,$M(i),Ci(i),i.component??i._loadedComponent??null,i,HM(i)),D=Ap(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let{segmentGroup:A,slicedSegments:k}=BM(t,m,y,u);if(k.length===0&&A.hasChildren())return this.processChildren(d,u,A,v).pipe(Ve(W=>new Yn(v,W)));if(u.length===0&&k.length===0)return he(new Yn(v,[]));let $=Ci(i)===s;return this.processSegment(d,u,A,k,$?De:s,!0,v).pipe(Ve(W=>new Yn(v,W instanceof Yn?[W]:[])))}))):Wa(t)))}getChildConfig(e,t,i){return t.children?he({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?he({routes:t._loadedRoutes,injector:t._loadedInjector}):k5(e,t,i,this.urlSerializer).pipe(Ot(r=>r?this.configLoader.loadChildren(e,t).pipe(Ut(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):V5(t))):he({routes:[],injector:e})}};function K5(n){n.sort((e,t)=>e.value.outlet===De?-1:t.value.outlet===De?1:e.value.outlet.localeCompare(t.value.outlet))}function Q5(n){let e=n.value.routeConfig;return e&&e.path===""}function mR(n){let e=[],t=new Set;for(let i of n){if(!Q5(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=mR(i.children);e.push(new Yn(i.value,r))}return e.filter(i=>!t.has(i))}function $M(n){return n.data||{}}function HM(n){return n.resolve||{}}function Y5(n,e,t,i,r,s){return Ot(o=>G5(n,e,t,i,o.extractedUrl,r,s).pipe(Ve(({state:a,tree:l})=>Ee(U({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Z5(n,e){return Ot(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return he(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of gR(l))o.add(u);let a=0;return pt(o).pipe(Ss(l=>s.has(l)?J5(l,i,n,e):(l.data=Ap(l,l.parent,n).resolve,he(void 0))),Ut(()=>a++),Fo(1),Ot(l=>a===o.size?he(t):Ln))})}function gR(n){let e=n.children.map(t=>gR(t)).flat();return[n,...e]}function J5(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!lR(r)&&(s[au]=r.title),X5(s,n,e,i).pipe(Ve(o=>(n._resolvedData=o,n.data=Ap(n,n.parent,t).resolve,null)))}function X5(n,e,t,i){let r=Iw(n);if(r.length===0)return he({});let s={};return pt(r).pipe(Ot(o=>e8(n[o],e,t,i).pipe(Di(),Ut(a=>{if(a instanceof iu)throw Mp(new Xa,a);s[o]=a}))),Fo(1),eg(s),kr(o=>hR(o)?Ln:ko(o)))}function e8(n,e,t,i){let r=cu(e)??i,s=il(n,r),o=s.resolve?s.resolve(e,t):ki(r,()=>s(e,t));return us(o)}function _w(n){return ni(e=>{let t=n(e);return t?pt(t).pipe(Ve(()=>e)):he(e)})}var yR=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===De);return r}getResolvedTitleForRoute(i){return i.data[au]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(t8),providedIn:"root"});let n=e;return n})(),t8=(()=>{let e=class e extends yR{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(le(y1))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),hu=new se("",{providedIn:"root",factory:()=>({})}),n8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=oe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Te],decls:1,vars:0,template:function(r,s){r&1&&Q(0,"router-outlet")},dependencies:[Gw],encapsulation:2});let n=e;return n})();function Ww(n){let e=n.children&&n.children.map(Ww),t=e?Ee(U({},n),{children:e}):U({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==De&&(t.component=n8),t}var ou=new se(""),Kw=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=z(Uh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return he(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=us(i.loadComponent()).pipe(Ve(_R),Ut(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Rl(()=>{this.componentLoaders.delete(i)})),s=new Ro(r,()=>new dt).pipe(Mo());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return he({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=i8(r,this.compiler,i,this.onLoadEndListener).pipe(Rl(()=>{this.childrenLoaders.delete(r)})),a=new Ro(o,()=>new dt).pipe(Mo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function i8(n,e,t,i){return us(n.loadChildren()).pipe(Ve(_R),Ot(r=>r instanceof Ul||Array.isArray(r)?he(r):pt(e.compileModuleAsync(r))),Ve(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(ou,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ww),injector:s}}))}function r8(n){return n&&typeof n=="object"&&"default"in n}function _R(n){return r8(n)?n.default:n}var Qw=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(s8),providedIn:"root"});let n=e;return n})(),s8=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),vR=new se(""),IR=new se("");function o8(n,e,t){let i=n.get(IR),r=n.get(Xe);return n.get(Ie).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),a8(n))),{onViewTransitionCreated:l}=i;return l&&ki(n,()=>l({transition:a,from:e,to:t})),o})}function a8(n){return new Promise(e=>{p_({read:()=>setTimeout(e)},{injector:n})})}var l8=new se(""),Yw=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new dt,this.transitionAbortSubject=new dt,this.configLoader=z(Kw),this.environmentInjector=z(Fn),this.urlSerializer=z(lu),this.rootContexts=z(uu),this.location=z(da),this.inputBindingEnabled=z(Pp,{optional:!0})!==null,this.titleStrategy=z(yR),this.options=z(hu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=z(Qw),this.createViewTransition=z(vR,{optional:!0}),this.navigationErrorHandler=z(l8,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>he(void 0),this.rootComponentType=null;let i=s=>this.events.next(new Aw(s)),r=s=>this.events.next(new xw(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ee(U(U({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Yt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ti(o=>o.id!==0),Ve(o=>Ee(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ni(o=>{let a=!1,l=!1;return he(o).pipe(ni(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Zn.SupersededByNewNavigation),Ln;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new ls(u.id,this.urlSerializer.serialize(u.rawUrl),m,bp.IgnoredSameUrlNavigation)),u.resolve(!1),Ln}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return he(u).pipe(ni(m=>{let y=this.transitions?.getValue();return this.events.next(new el(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?Ln:Promise.resolve(m)}),Y5(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ut(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Ee(U({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new Cp(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:y,source:v,restoredState:D,extras:A}=u,k=new el(m,this.urlSerializer.serialize(y),v,D);this.events.next(k);let $=oR(this.rootComponentType).snapshot;return this.currentTransition=o=Ee(U({},u),{targetSnapshot:$,urlAfterRedirects:y,extras:Ee(U({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,he(o)}else{let m="";return this.events.next(new ls(u.id,this.urlSerializer.serialize(u.extractedUrl),m,bp.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Ln}}),Ut(u=>{let d=new Cw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ve(u=>(this.currentTransition=o=Ee(U({},u),{guards:g5(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),D5(this.environmentInjector,u=>this.events.next(u)),Ut(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Mp(this.urlSerializer,u.guardsResult);let d=new Tw(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),ti(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Zn.GuardRejected),!1)),_w(u=>{if(u.guards.canActivateChecks.length)return he(u).pipe(Ut(d=>{let p=new Sw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),ni(d=>{let p=!1;return he(d).pipe(Z5(this.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",Zn.NoDataFromResolver)}}))}),Ut(d=>{let p=new Dw(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),_w(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ut(y=>{p.component=y}),Ve(()=>{})));for(let y of p.children)m.push(...d(y));return m};return Ml(d(u.targetSnapshot.root)).pipe(Lr(null),tr(1))}),_w(()=>this.afterPreactivation()),ni(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?pt(p).pipe(Ve(()=>o)):he(o)}),Ve(u=>{let d=d5(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Ee(U({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Ut(()=>{this.events.next(new tu)}),m5(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),tr(1),Ut({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ti(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),rg(this.transitionAbortSubject.pipe(Ut(u=>{throw u}))),Rl(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Zn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),kr(u=>{if(l=!0,dR(u))this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),p5(u)?this.events.next(new tl(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new eu(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=ki(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof iu){let{message:m,cancellationCode:y}=Mp(this.urlSerializer,p);this.events.next(new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new tl(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Ln}))}))}cancelNavigationTransition(i,r,s){let o=new wr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function c8(n){return n!==Zc}var u8=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(d8),providedIn:"root"});let n=e;return n})(),zw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},d8=(()=>{let e=class e extends zw{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rt(e)))(s||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),wR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:()=>z(h8),providedIn:"root"});let n=e;return n})(),h8=(()=>{let e=class e extends wR{constructor(){super(...arguments),this.location=z(da),this.urlSerializer=z(lu),this.options=z(hu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=z(Qw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Er,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=oR(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof el)this.stateMemento=this.createStateMemento();else if(i instanceof ls)this.rawUrlTree=r.initialUrl;else if(i instanceof Cp){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof tu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof wr&&(i.code===Zn.GuardRejected||i.code===Zn.NoDataFromResolver)?this.restoreHistory(r):i instanceof eu?this.restoreHistory(r,!0):i instanceof Ti&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof Er?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rt(e)))(s||e)}})(),e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Qc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Qc||{});function ER(n,e){n.events.pipe(ti(t=>t instanceof Ti||t instanceof wr||t instanceof eu||t instanceof ls),Ve(t=>t instanceof Ti||t instanceof ls?Qc.COMPLETE:(t instanceof wr?t.code===Zn.Redirect||t.code===Zn.SupersededByNewNavigation:!1)?Qc.REDIRECTING:Qc.FAILED),ti(t=>t!==Qc.REDIRECTING),tr(1)).subscribe(()=>{e()})}function f8(n){throw n}var p8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},m8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Nn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=z(Fh),this.stateManager=z(wR),this.options=z(hu,{optional:!0})||{},this.pendingTasks=z(js),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=z(Yw),this.urlSerializer=z(lu),this.location=z(da),this.urlHandlingStrategy=z(Qw),this._events=new dt,this.errorHandler=this.options.errorHandler||f8,this.navigated=!1,this.routeReuseStrategy=z(u8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=z(ou,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!z(Pp,{optional:!0}),this.eventsSubscription=new It,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wr&&r.code!==Zn.Redirect&&r.code!==Zn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ti)this.navigated=!0;else if(r instanceof tl){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=U({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||c8(s.source)},a);this.scheduleNavigation(l,Zc,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}y8(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=U({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Ww),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,p=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":p=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=nR(y)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return iR(m,i,p,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=mo(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Zc,null,r)}navigate(i,r={skipLocationChange:!1}){return g8(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=U({},p8):r===!1?s=U({},m8):s=r,mo(i))return LM(this.currentUrlTree,i,s);let o=this.parseUrl(i);return LM(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,y)=>{l=m,u=y});let p=this.pendingTasks.add();return ER(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function g8(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}function y8(n){return!(n instanceof tu)&&!(n instanceof tl)}var Op=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new dt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof Ti&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(mo(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:PS(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:mo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(P(Nn),P(cs),Hy("tabindex"),P(ht),P(Qe),P(dr))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&me("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&K("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Y],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Y],replaceUrl:[2,"replaceUrl","replaceUrl",Y],routerLink:"routerLink"},standalone:!0,features:[xt,En]});let n=e;return n})(),bR=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,s,o,a){this.router=i,this.element=r,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new re,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof Ti&&this.update()})}ngAfterContentInit(){he(this.links.changes,he(null)).pipe(Pr()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=pt(i).pipe(Pr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=_8(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?i.isActive(o,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(P(Nn),P(Qe),P(ht),P(Ct),P(Op,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,s,o){if(r&1&&Pt(o,Op,5),r&2){let a;$e(a=He())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[En]});let n=e;return n})();function _8(n){return!!n.paths}var Np=class{};var v8=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ti(i=>i instanceof Ti),Ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Rh(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return pt(s).pipe(Pr())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=he(null);let o=s.pipe(Ot(a=>a===null?he(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return pt([o,a]).pipe(Pr())}else return o})}};e.\u0275fac=function(r){return new(r||e)(le(Nn),le(Uh),le(Fn),le(Np),le(Kw))},e.\u0275prov=Z({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CR=new se(""),I8=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof el?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ti?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof ls&&i.code===bp.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Tp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Tp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){QS()},e.\u0275prov=Z({token:e,factory:e.\u0275fac});let n=e;return n})();function TR(n,...e){return Wr([{provide:ou,multi:!0,useValue:n},[],{provide:cs,useFactory:SR,deps:[Nn]},{provide:jh,multi:!0,useFactory:DR},e.map(t=>t.\u0275providers)])}function SR(n){return n.routerState.root}function fu(n,e){return{\u0275kind:n,\u0275providers:e}}function DR(){let n=z(ln);return e=>{let t=n.get(Bs);if(e!==t.components[0])return;let i=n.get(Nn),r=n.get(AR);n.get(Zw)===1&&i.initialNavigation(),n.get(xR,null,Re.Optional)?.setUpPreloading(),n.get(CR,null,Re.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var AR=new se("",{factory:()=>new dt}),Zw=new se("",{providedIn:"root",factory:()=>1});function w8(){return fu(2,[{provide:Zw,useValue:0},{provide:Vh,multi:!0,deps:[ln],useFactory:e=>{let t=e.get(s1,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Nn),s=e.get(AR);ER(r,()=>{i(!0)}),e.get(Yw).afterPreactivation=()=>(i(!0),s.closed?he(void 0):s),r.initialNavigation()}))}}])}function E8(){return fu(3,[{provide:Vh,multi:!0,useFactory:()=>{let e=z(Nn);return()=>{e.setUpLocationChangeListener()}}},{provide:Zw,useValue:2}])}var xR=new se("");function b8(n){return fu(0,[{provide:xR,useExisting:v8},{provide:Np,useExisting:n}])}function C8(){return fu(8,[UM,{provide:Pp,useExisting:UM}])}function T8(n){let e=[{provide:vR,useValue:o8},{provide:IR,useValue:U({skipNextTransition:!!n?.skipInitialTransition},n)}];return fu(9,e)}var zM=new se("ROUTER_FORROOT_GUARD"),S8=[da,{provide:lu,useClass:Xa},Nn,uu,{provide:cs,useFactory:SR,deps:[Nn]},Kw,[]],Jw=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[S8,[],{provide:ou,multi:!0,useValue:i},{provide:zM,useFactory:M8,deps:[[Nn,new Bn,new dh]]},{provide:hu,useValue:r||{}},r?.useHash?A8():x8(),D8(),r?.preloadingStrategy?b8(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?R8(r):[],r?.bindToComponentInputs?C8().\u0275providers:[],r?.enableViewTransitions?T8().\u0275providers:[],O8()]}}static forChild(i){return{ngModule:e,providers:[{provide:ou,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(le(zM,8))},e.\u0275mod=Be({type:e}),e.\u0275inj=Ue({});let n=e;return n})();function D8(){return{provide:CR,useFactory:()=>{let n=z(c1),e=z(Ie),t=z(hu),i=z(Yw),r=z(lu);return t.scrollOffset&&n.setOffset(t.scrollOffset),new I8(r,i,n,e,t)}}}function A8(){return{provide:dr,useClass:a1}}function x8(){return{provide:dr,useClass:D_}}function M8(n){return"guarded"}function R8(n){return[n.initialNavigation==="disabled"?E8().\u0275providers:[],n.initialNavigation==="enabledBlocking"?w8().\u0275providers:[]]}var qM=new se("");function O8(){return[{provide:qM,useFactory:DR},{provide:jh,multi:!0,useExisting:qM}]}var RR={production:!0,firebaseConfig:{apiKey:"AIzaSyCq3PCBUEV0sePS5HVqRVTo1eGOtMNwpUY",authDomain:"scores-89dec.firebaseapp.com",projectId:"scores-89dec",storageBucket:"scores-89dec.appspot.com",messagingSenderId:"423002408780",appId:"1:423002408780:web:5ede703d4b74eb543c31e9"}};var jR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(P(ht),P(Qe))},e.\u0275dir=Ge({type:e});let n=e;return n})(),N8=(()=>{let e=class e extends jR{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rt(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,features:[Ye]});let n=e;return n})(),yo=new se("");var P8={provide:yo,useExisting:Un(()=>zp),multi:!0};function k8(){let n=ur()?ur().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var L8=new se(""),zp=(()=>{let e=class e extends jR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!k8())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(P(ht),P(Qe),P(L8,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&me("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[$n([P8]),Ye]});let n=e;return n})();function ds(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function UR(n){return n!=null&&typeof n.length=="number"}var Iu=new se(""),wu=new se(""),F8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ol=class{static min(e){return V8(e)}static max(e){return j8(e)}static required(e){return U8(e)}static requiredTrue(e){return B8(e)}static email(e){return $8(e)}static minLength(e){return H8(e)}static maxLength(e){return z8(e)}static pattern(e){return q8(e)}static nullValidator(e){return BR(e)}static compose(e){return WR(e)}static composeAsync(e){return QR(e)}};function V8(n){return e=>{if(ds(e.value)||ds(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function j8(n){return e=>{if(ds(e.value)||ds(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function U8(n){return ds(n.value)?{required:!0}:null}function B8(n){return n.value===!0?null:{required:!0}}function $8(n){return ds(n.value)||F8.test(n.value)?null:{email:!0}}function H8(n){return e=>ds(e.value)||!UR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function z8(n){return e=>UR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function q8(n){if(!n)return BR;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(ds(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function BR(n){return null}function $R(n){return n!=null}function HR(n){return Us(n)?pt(n):n}function zR(n){let e={};return n.forEach(t=>{e=t!=null?U(U({},e),t):e}),Object.keys(e).length===0?null:e}function qR(n,e){return e.map(t=>t(n))}function G8(n){return!n.validate}function GR(n){return n.map(e=>G8(e)?e:t=>e.validate(t))}function WR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){return zR(qR(t,e))}}function KR(n){return n!=null?WR(GR(n)):null}function QR(n){if(!n)return null;let e=n.filter($R);return e.length==0?null:function(t){let i=qR(t,e).map(HR);return Xm(i).pipe(Ve(zR))}}function YR(n){return n!=null?QR(GR(n)):null}function OR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ZR(n){return n._rawValidators}function JR(n){return n._rawAsyncValidators}function Xw(n){return n?Array.isArray(n)?n:[n]:[]}function Fp(n,e){return Array.isArray(n)?n.includes(e):n===e}function NR(n,e){let t=Xw(e);return Xw(n).forEach(r=>{Fp(t,r)||t.push(r)}),t}function PR(n,e){return Xw(e).filter(t=>!Fp(n,t))}var Vp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Jn=class extends Vp{get formDirective(){return null}get path(){return null}},go=class extends Vp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},jp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},W8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cie=Ee(U({},W8),{"[class.ng-submitted]":"isSubmitted"}),qp=(()=>{let e=class e extends jp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(go,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Li("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ye]});let n=e;return n})(),XR=(()=>{let e=class e extends jp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(Jn,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Li("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ye]});let n=e;return n})();var pu="VALID",Lp="INVALID",rl="PENDING",mu="DISABLED",hs=class{},Up=class extends hs{constructor(e,t){super(),this.value=e,this.source=t}},gu=class extends hs{constructor(e,t){super(),this.pristine=e,this.source=t}},yu=class extends hs{constructor(e,t){super(),this.touched=e,this.source=t}},sl=class extends hs{constructor(e,t){super(),this.status=e,this.source=t}},eE=class extends hs{constructor(e){super(),this.source=e}},tE=class extends hs{constructor(e){super(),this.source=e}};function iE(n){return(Gp(n)?n.validators:n)||null}function K8(n){return Array.isArray(n)?KR(n):n||null}function rE(n,e){return(Gp(e)?e.asyncValidators:n)||null}function Q8(n){return Array.isArray(n)?YR(n):n||null}function Gp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function eO(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")}function tO(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new H(1002,"")})}var _u=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fi(()=>this.statusReactive()),this.statusReactive=Jt(void 0),this._pristine=Fi(()=>this.pristineReactive()),this.pristineReactive=Jt(!0),this._touched=Fi(()=>this.touchedReactive()),this.touchedReactive=Jt(!1),this._events=new dt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return lr(this.statusReactive)}set status(e){lr(()=>this.statusReactive.set(e))}get valid(){return this.status===pu}get invalid(){return this.status===Lp}get pending(){return this.status==rl}get disabled(){return this.status===mu}get enabled(){return this.status!==mu}get pristine(){return lr(this.pristineReactive)}set pristine(e){lr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return lr(this.touchedReactive)}set touched(e){lr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(PR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(PR(e,this._rawAsyncValidators))}hasValidator(e){return Fp(this._rawValidators,e)}hasAsyncValidator(e){return Fp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ee(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new yu(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new yu(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ee(U({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new gu(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new gu(!0,i))}markAsPending(e={}){this.status=rl;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sl(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ee(U({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=mu,this.errors=null,this._forEachChild(r=>{r.disable(Ee(U({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Up(this.value,i)),this._events.next(new sl(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=pu,this._forEachChild(i=>{i.enable(Ee(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ee(U({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===pu||this.status===rl)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Up(this.value,t)),this._events.next(new sl(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ee(U({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mu:pu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=rl,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=HR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new sl(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new re,this.statusChanges=new re}_calculateStatus(){return this._allControlsDisabled()?mu:this.errors?Lp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rl)?rl:this._anyControlsHaveStatus(Lp)?Lp:pu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new gu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new yu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Gp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=K8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Q8(this._rawAsyncValidators)}},vu=class extends _u{constructor(e,t,i){super(iE(t),rE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){tO(this,!0,e),Object.keys(e).forEach(i=>{eO(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Wp=new se("CallSetDisabledState",{providedIn:"root",factory:()=>Kp}),Kp="always";function Qp(n,e){return[...e.path,n]}function nE(n,e,t=Kp){sE(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Z8(n,e),X8(n,e),J8(n,e),Y8(n,e)}function kR(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),$p(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Bp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Y8(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function sE(n,e){let t=ZR(n);e.validator!==null?n.setValidators(OR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=JR(n);e.asyncValidator!==null?n.setAsyncValidators(OR(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Bp(e._rawValidators,r),Bp(e._rawAsyncValidators,r)}function $p(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=ZR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=JR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return Bp(e._rawValidators,i),Bp(e._rawAsyncValidators,i),t}function Z8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nO(n,e)})}function J8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function X8(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function e$(n,e){n==null,sE(n,e)}function t$(n,e){return $p(n,e)}function iO(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function n$(n){return Object.getPrototypeOf(n.constructor)===N8}function i$(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function rO(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===zp?t=s:n$(s)?i=s:r=s}),r||i||t||null}function r$(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function LR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Eu=class extends _u{constructor(e=null,t,i){super(iE(t),rE(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){LR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){LR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var s$=n=>n instanceof Eu,o$=(()=>{let e=class e extends Jn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=rt(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,features:[Ye]});let n=e;return n})();var a$={provide:go,useExisting:Un(()=>bu)},VR=Promise.resolve(),bu=(()=>{let e=class e extends go{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Eu,this._registered=!1,this.name="",this.update=new re,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=rO(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),iO(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){nE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){VR.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Y(r);VR.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Qp(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(P(Jn,9),P(Iu,10),P(wu,10),P(yo,10),P(Ct,8),P(Wp,8))},e.\u0275dir=Ge({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[$n([a$]),Ye,En]});let n=e;return n})(),sO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var oO=new se("");var l$={provide:Jn,useExisting:Un(()=>Yp)},Yp=(()=>{let e=class e extends Jn{get submitted(){return lr(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Fi(()=>this._submittedReactive()),this._submittedReactive=Jt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new re,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($p(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return nE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){kR(i.control||null,i,!1),r$(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),i$(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new eE(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new tE(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(kR(r||null,i),s$(s)&&(nE(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);e$(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&t$(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sE(this.form,this),this._oldForm&&$p(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(P(Iu,10),P(wu,10),P(Wp,8))},e.\u0275dir=Ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&me("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$n([l$]),Ye,En]});let n=e;return n})(),c$={provide:Jn,useExisting:Un(()=>Zp)},Zp=(()=>{let e=class e extends o${constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){aO(this._parent)}};e.\u0275fac=function(r){return new(r||e)(P(Jn,13),P(Iu,10),P(wu,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[$n([c$]),Ye]});let n=e;return n})(),u$={provide:Jn,useExisting:Un(()=>Jp)},Jp=(()=>{let e=class e extends Jn{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qp(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){aO(this._parent)}};e.\u0275fac=function(r){return new(r||e)(P(Jn,13),P(Iu,10),P(wu,10))},e.\u0275dir=Ge({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[$n([u$]),Ye]});let n=e;return n})();function aO(n){return!(n instanceof Zp)&&!(n instanceof Yp)&&!(n instanceof Jp)}var d$={provide:go,useExisting:Un(()=>oE)},oE=(()=>{let e=class e extends go{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new re,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=rO(this,o)}ngOnChanges(i){this._added||this._setUpControl(),iO(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Qp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(P(Jn,13),P(Iu,10),P(wu,10),P(yo,10),P(oO,8))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$n([d$]),Ye,En]});let n=e;return n})();var lO=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=Ue({});let n=e;return n})(),Hp=class extends _u{constructor(e,t,i){super(iE(t),rE(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){tO(this,!1,e),e.forEach((i,r)=>{eO(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var fs=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Wp,useValue:i.callSetDisabledState??Kp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=Ue({imports:[lO]});let n=e;return n})(),cO=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:oO,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Wp,useValue:i.callSetDisabledState??Kp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=Ue({imports:[lO]});let n=e;return n})();var ye=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),u=this.isDate(t);if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var d=e instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return U(U({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,u=t instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var d=e instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},uO=0;function zt(n="pn_id_"){return uO++,`${n}${uO}`}function h$(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var mn=h$();var dO=["*"],_o=function(n){return n[n.ACCEPT=0]="ACCEPT",n[n.REJECT=1]="REJECT",n[n.CANCEL=2]="CANCEL",n}(_o||{}),al=(()=>{class n{requireConfirmationSource=new dt;acceptConfirmationSource=new dt;requireConfirmation$=this.requireConfirmationSource.asObservable();accept=this.acceptConfirmationSource.asObservable();confirm(t){return this.requireConfirmationSource.next(t),this}close(){return this.requireConfirmationSource.next(null),this}onAccept(){this.acceptConfirmationSource.next(null)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})();var gn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var hO=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let u of i){let d=ye.resolveFieldData(l,u);if(this.filters[s](d,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=ye.removeAccents(i.toString()).toLocaleLowerCase(r);return ye.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=ye.removeAccents(i.toString()).toLocaleLowerCase(r);return ye.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=ye.removeAccents(i.toString()).toLocaleLowerCase(r);return ye.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=ye.removeAccents(i.toString()).toLocaleLowerCase(r),o=ye.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:ye.removeAccents(t.toString()).toLocaleLowerCase(r)==ye.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:ye.removeAccents(t.toString()).toLocaleLowerCase(r)!=ye.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(ye.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ll=(()=>{class n{messageSource=new dt;clearSource=new dt;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac})}return n})(),fO=(()=>{class n{clickSource=new dt;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dn=(()=>{class n{ripple=!1;inputStyle=Jt("outlined");overlayOptions={};csp=Jt({nonce:void 0});filterMatchModeOptions={text:[gn.STARTS_WITH,gn.CONTAINS,gn.NOT_CONTAINS,gn.ENDS_WITH,gn.EQUALS,gn.NOT_EQUALS],numeric:[gn.EQUALS,gn.NOT_EQUALS,gn.LESS_THAN,gn.LESS_THAN_OR_EQUAL_TO,gn.GREATER_THAN,gn.GREATER_THAN_OR_EQUAL_TO],date:[gn.DATE_IS,gn.DATE_IS_NOT,gn.DATE_BEFORE,gn.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new dt;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=U(U({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=oe({type:n,selectors:[["p-header"]],standalone:!0,features:[Te],ngContentSelectors:dO,decls:1,vars:0,template:function(i,r){i&1&&(cn(),qt(0))},encapsulation:2})}return n})(),Xp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=oe({type:n,selectors:[["p-footer"]],standalone:!0,features:[Te],ngContentSelectors:dO,decls:1,vars:0,template:function(i,r){i&1&&(cn(),qt(0))},encapsulation:2})}return n})(),en=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(P(gi))};static \u0275dir=Ge({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),Vt=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({})}return n})(),vo=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var f$=["*",[["p-header"]],[["p-footer"]]],p$=["*","p-header","p-footer"];function m$(n,e){n&1&&Ne(0)}function g$(n,e){if(n&1&&(F(0,"div",8),qt(1,1),j(2,m$,1,0,"ng-container",6),V()),n&2){let t=R();T(2),E("ngTemplateOutlet",t.headerTemplate)}}function y$(n,e){n&1&&Ne(0)}function _$(n,e){if(n&1&&(F(0,"div",9),ft(1),j(2,y$,1,0,"ng-container",6),V()),n&2){let t=R();T(),ar(" ",t.header," "),T(),E("ngTemplateOutlet",t.titleTemplate)}}function v$(n,e){n&1&&Ne(0)}function I$(n,e){if(n&1&&(F(0,"div",10),ft(1),j(2,v$,1,0,"ng-container",6),V()),n&2){let t=R();T(),ar(" ",t.subheader," "),T(),E("ngTemplateOutlet",t.subtitleTemplate)}}function w$(n,e){n&1&&Ne(0)}function E$(n,e){n&1&&Ne(0)}function b$(n,e){if(n&1&&(F(0,"div",11),qt(1,2),j(2,E$,1,0,"ng-container",6),V()),n&2){let t=R();T(2),E("ngTemplateOutlet",t.footerTemplate)}}var mO=(()=>{class n{el;header;subheader;set style(t){ye.equals(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Jt(null);constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||n)(P(Qe))};static \u0275cmp=oe({type:n,selectors:[["p-card"]],contentQueries:function(i,r,s){if(i&1&&(Pt(s,pO,5),Pt(s,Xp,5),Pt(s,en,4)),i&2){let o;$e(o=He())&&(r.headerFacet=o.first),$e(o=He())&&(r.footerFacet=o.first),$e(o=He())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:p$,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,r){i&1&&(cn(f$),F(0,"div",0),j(1,g$,3,1,"div",1),F(2,"div",2),j(3,_$,3,2,"div",3)(4,I$,3,2,"div",4),F(5,"div",5),qt(6),j(7,w$,1,0,"ng-container",6),V(),j(8,b$,3,1,"div",7),V()()),i&2&&(pe(r.styleClass),E("ngClass","p-card p-component")("ngStyle",r._style()),K("data-pc-name","card"),T(),E("ngIf",r.headerFacet||r.headerTemplate),T(2),E("ngIf",r.header||r.titleTemplate),T(),E("ngIf",r.subheader||r.subtitleTemplate),T(3),E("ngTemplateOutlet",r.contentTemplate),T(),E("ngIf",r.footerFacet||r.footerTemplate))},dependencies:[dn,Cn,Sn,Tn],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),gO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,Vt]})}return n})();var L=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=$=>{if($)return getComputedStyle($).getPropertyValue("position")==="relative"?$:s($.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),p=this.getViewport(),y=s(t)?.getBoundingClientRect()||{top:-1*u,left:-1*d},v,D;l.top+a+o.height>p.height?(v=l.top-y.top-o.height,t.style.transformOrigin="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-y.top,t.style.transformOrigin="top");let A=l.left+o.width-p.width,k=l.left-y.left;o.width>p.width?D=(l.left-y.left)*-1:A>0?D=k-A:D=l.left-y.left,t.style.top=v+"px",t.style.left=D+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,u=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),v,D;d.top+l+o>y.height?(v=d.top+p-o,t.style.transformOrigin="bottom",v<0&&(v=p)):(v=l+d.top+p,t.style.transformOrigin="top"),d.left+a>y.width?D=Math.max(0,d.left+m+u-a):D=d.left+m,t.style.top=v+"px",t.style.left=D+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let u=l.split(",");for(let d of u){let p=this.findSingle(a,d);p&&o(p)&&i.push(p)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,p=t.scrollTop,m=t.clientHeight,y=this.getOuterHeight(i);d<0?t.scrollTop=p+d:d+y>m&&(t.scrollTop=p+d-m+y)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")l.push(u);else if(d==="object"){let p=Array.isArray(u)?r(s,u):Object.entries(u).map(([m,y])=>s==="style"&&(y||y===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?m:void 0);l=p.length?l.concat(p.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),cl=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=L.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var em=(()=>{class n{autofocus=!1;focused=!1;platformId=z(Nt);document=z(Xe);host=z(Qe);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){qn(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=L.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ge({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",Y]},standalone:!0,features:[xt]})}return n})(),yO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({})}return n})();var S$=["overlay"],D$=["content"],A$=["*"],x$=(n,e,t,i,r,s,o,a,l,u,d,p,m,y)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":u,"p-overlay-left-end":d,"p-overlay-right":p,"p-overlay-right-start":m,"p-overlay-right-end":y}),M$=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),R$=n=>({value:"visible",params:n}),O$=n=>({mode:n}),N$=n=>({$implicit:n});function P$(n,e){n&1&&Ne(0)}function k$(n,e){if(n&1){let t=nt();F(0,"div",3,1),me("click",function(r){ue(t);let s=R(2);return de(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){ue(t);let s=R(2);return de(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){ue(t);let s=R(2);return de(s.onOverlayContentAnimationDone(r))}),qt(2),j(3,P$,1,0,"ng-container",4),V()}if(n&2){let t=R(2);pe(t.contentStyleClass),E("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",Pe(11,R$,ua(7,M$,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),T(3),E("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Pe(15,N$,Pe(13,O$,t.overlayMode)))}}function L$(n,e){if(n&1){let t=nt();F(0,"div",3,0),me("click",function(){ue(t);let r=R();return de(r.onOverlayClick())}),j(2,k$,4,17,"div",2),V()}if(n&2){let t=R();pe(t.styleClass),E("ngStyle",t.style)("ngClass",UD(5,x$,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),T(2),E("ngIf",t.visible)}}var F$={provide:yo,useExisting:Un(()=>lE),multi:!0},V$=$a([On({transform:"{{transform}}",opacity:0}),vr("{{showTransitionParams}}")]),j$=$a([vr("{{hideTransitionParams}}",On({transform:"{{transform}}",opacity:0}))]),lE=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return ye.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return ye.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return ye.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return ye.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new re;onBeforeShow=new re;onShow=new re;onBeforeHide=new re;onHide=new re;onAnimationStart=new re;onAnimationDone=new re;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(qn(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return U(U({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return U(U({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,u){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&L.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&mn.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mn.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new cl(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),mn.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(P(Xe),P(Nt),P(Qe),P(ht),P(Dn),P(fO),P(Ct),P(Ie))};static \u0275cmp=oe({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&Pt(s,en,4),i&2){let o;$e(o=He())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(bt(S$,5),bt(D$,5)),i&2){let s;$e(s=He())&&(r.overlayViewChild=s.first),$e(s=He())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[$n([F$])],ngContentSelectors:A$,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(cn(),j(0,L$,3,20,"div",2)),i&2&&E("ngIf",r.modalVisible)},dependencies:[dn,Cn,Sn,Tn],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[oo("overlayContentAnimation",[Wi(":enter",[Ha(V$)]),Wi(":leave",[Ha(j$)])])]},changeDetection:0})}return n})(),cE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,Vt,Vt]})}return n})();var ms=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){qn(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(L.removeClass(i,"p-ink-active"),!L.getHeight(i)&&!L.getWidth(i)){let a=Math.max(L.getOuterWidth(this.el.nativeElement),L.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=L.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-L.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-L.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),L.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&L.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&L.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),L.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,L.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(P(Xe),P(Nt),P(ht),P(Qe),P(Ie),P(Dn,8))};static \u0275dir=Ge({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),gs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({})}return n})();var B$=["*"],St=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=ye.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=oe({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",Y],styleClass:"styleClass"},standalone:!0,features:[xt,Te],ngContentSelectors:B$,decls:1,vars:0,template:function(i,r){i&1&&(cn(),qt(0))},encapsulation:2,changeDetection:0})}return n})();var Cu=(()=>{class n extends St{pathId;ngOnInit(){this.pathId="url(#"+zt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Ye,Te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0)(1,"g"),Q(2,"path",1),V(),F(3,"defs")(4,"clipPath",2),Q(5,"rect",3),V()()()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),K("clip-path",r.pathId),T(3),E("id",r.pathId))},encapsulation:2})}return n})();var $$=["element"],H$=["content"],z$=["*"],q$=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),dE=(n,e)=>({$implicit:n,options:e}),G$=n=>({"p-scroller-loading":n}),W$=n=>({"p-component-overlay":n}),K$=n=>({numCols:n}),_O=n=>({options:n}),Q$=()=>({styleClass:"p-scroller-loading-icon"}),Y$=(n,e)=>({rows:n,columns:e});function Z$(n,e){n&1&&Ne(0)}function J$(n,e){if(n&1&&(xe(0),j(1,Z$,1,0,"ng-container",10),Me()),n&2){let t=R(2);T(),E("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",zn(2,dE,t.loadedItems,t.getContentOptions()))}}function X$(n,e){n&1&&Ne(0)}function eH(n,e){if(n&1&&(xe(0),j(1,X$,1,0,"ng-container",10),Me()),n&2){let t=e.$implicit,i=e.index,r=R(3);T(),E("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",zn(2,dE,t,r.getOptions(i)))}}function tH(n,e){if(n&1&&(F(0,"div",11,3),j(2,eH,2,5,"ng-container",12),V()),n&2){let t=R(2);E("ngClass",Pe(5,G$,t.d_loading))("ngStyle",t.contentStyle),K("data-pc-section","content"),T(2),E("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function nH(n,e){if(n&1&&Q(0,"div",13),n&2){let t=R(2);E("ngStyle",t.spacerStyle),K("data-pc-section","spacer")}}function iH(n,e){n&1&&Ne(0)}function rH(n,e){if(n&1&&(xe(0),j(1,iH,1,0,"ng-container",10),Me()),n&2){let t=e.index,i=R(4);T(),E("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Pe(4,_O,i.getLoaderOptions(t,i.both&&Pe(2,K$,i._numItemsInViewport.cols))))}}function sH(n,e){if(n&1&&(xe(0),j(1,rH,2,6,"ng-container",15),Me()),n&2){let t=R(3);T(),E("ngForOf",t.loaderArr)}}function oH(n,e){n&1&&Ne(0)}function aH(n,e){if(n&1&&(xe(0),j(1,oH,1,0,"ng-container",10),Me()),n&2){let t=R(4);T(),E("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",Pe(3,_O,Hn(2,Q$)))}}function lH(n,e){n&1&&Q(0,"SpinnerIcon",16),n&2&&(E("styleClass","p-scroller-loading-icon pi-spin"),K("data-pc-section","loadingIcon"))}function cH(n,e){if(n&1&&j(0,aH,2,5,"ng-container",6)(1,lH,1,2,"ng-template",null,5,bn),n&2){let t=un(2),i=R(3);E("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function uH(n,e){if(n&1&&(F(0,"div",14),j(1,sH,2,1,"ng-container",6)(2,cH,3,2,"ng-template",null,4,bn),V()),n&2){let t=un(3),i=R(2);E("ngClass",Pe(4,W$,!i.loaderTemplate)),K("data-pc-section","loader"),T(),E("ngIf",i.loaderTemplate)("ngIfElse",t)}}function dH(n,e){if(n&1){let t=nt();xe(0),F(1,"div",7,1),me("scroll",function(r){ue(t);let s=R();return de(s.onContainerScroll(r))}),j(3,J$,2,5,"ng-container",6)(4,tH,3,7,"ng-template",null,2,bn)(6,nH,1,2,"div",8)(7,uH,4,6,"div",9),V(),Me()}if(n&2){let t=un(5),i=R();T(),pe(i._styleClass),E("ngStyle",i._style)("ngClass",ua(12,q$,i.inline,i.both,i.horizontal)),K("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),T(2),E("ngIf",i.contentTemplate)("ngIfElse",t),T(3),E("ngIf",i._showSpacer),T(),E("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function hH(n,e){n&1&&Ne(0)}function fH(n,e){if(n&1&&(xe(0),j(1,hH,1,0,"ng-container",10),Me()),n&2){let t=R(2);T(),E("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",zn(5,dE,t.items,zn(2,Y$,t._items,t.loadedColumns)))}}function pH(n,e){if(n&1&&(qt(0),j(1,fH,2,8,"ng-container",17)),n&2){let t=R();T(),E("ngIf",t.contentTemplate)}}var vO=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new re;onScroll=new re;onScrollIndexChange=new re;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){qn(this.platformId)&&!this.initialized&&L.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=L.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=L.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||L.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),u=this.getContentPosition(),d=this.itemSize,p=(k=0,$)=>k<=$?0:k,m=(k,$,W)=>k*$+W,y=(k=0,$=0)=>this.scrollTo({left:k,top:$,behavior:i}),v=this.both?{rows:0,cols:0}:0,D=!1,A=!1;this.both?(v={rows:p(t[0],l[0]),cols:p(t[1],l[1])},y(m(v.cols,d[1],u.left),m(v.rows,d[0],u.top)),A=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,D=v.rows!==s.rows||v.cols!==s.cols):(v=p(t,l),this.horizontal?y(m(v,d,u.left),o):y(a,m(v,d,u.top)),A=this.lastScrollPos!==(this.horizontal?a:o),D=v!==s),this.isRangeChanged=D,A&&(this.first=v)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(d=0,p=0)=>this.scrollTo({left:d,top:p,behavior:r}),l=i==="to-start",u=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let d=(o.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(u){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let d=(o.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(u,d)=>d||u?Math.ceil(u/(d||u)):0,o=u=>Math.ceil(u/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,u,d=!1)=>this.getLast(a+l+(a<u?2:3)*u,d),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[L.getWidth(this.contentEl),L.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[L.getWidth(this.elementViewChild.nativeElement),L.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=Ee(U({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=Ee(U({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(A,k)=>A?A>k?A-k:A:0,o=(A,k)=>k||A?Math.floor(A/(k||A)):0,a=(A,k,$,W,J,ke)=>A<=J?J:ke?$-W-J:k+J-1,l=(A,k,$,W,J,ke,ne)=>A<=ke?0:Math.max(0,ne?A<k?$:A-ke:A>k?$:A-2*ke),u=(A,k,$,W,J,ke=!1)=>{let ne=k+W+2*J;return A>=J&&(ne+=J+1),this.getLast(ne,ke)},d=s(i.scrollTop,r.top),p=s(i.scrollLeft,r.left),m=this.both?{rows:0,cols:0}:0,y=this.last,v=!1,D=this.lastScrollPos;if(this.both){let A=this.lastScrollPos.top<=d,k=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(A||k)){let $={rows:o(d,this._itemSize[0]),cols:o(p,this._itemSize[1])},W={rows:a($.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:a($.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],k)};m={rows:l($.rows,W.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:l($.cols,W.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],k)},y={rows:u($.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u($.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=m.rows!==this.first.rows||y.rows!==this.last.rows||m.cols!==this.first.cols||y.cols!==this.last.cols||this.isRangeChanged,D={top:d,left:p}}}else{let A=this.horizontal?p:d,k=this.lastScrollPos<=A;if(!this._appendOnly||this._appendOnly&&k){let $=o(A,this._itemSize),W=a($,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,k);m=l($,W,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,k),y=u($,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=m!==this.first||y!==this.last||this.isRangeChanged,D=A}}return{first:m,last:y,isRangeChanged:v,scrollPos:D}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){qn(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=L.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[L.getWidth(this.elementViewChild?.nativeElement),L.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return U({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(P(Xe),P(Nt),P(ht),P(Ct),P(Ie))};static \u0275cmp=oe({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&Pt(s,en,4),i&2){let o;$e(o=He())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(bt($$,5),bt(H$,5)),i&2){let s;$e(s=He())&&(r.elementViewChild=s.first),$e(s=He())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[En],ngContentSelectors:z$,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(cn(),j(0,dH,8,16,"ng-container",6)(1,pH,2,1,"ng-template",null,0,bn)),i&2){let s=un(2);E("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[dn,ha,Cn,Sn,Tn,Cu],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),hE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,Vt,Cu,Vt]})}return n})();var IO=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:zt()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){qn(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=U(U({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(L.hasClass(t.relatedTarget,"p-tooltip")||L.hasClass(t.relatedTarget,"p-tooltip-text")||L.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?L.appendChild(this.container,this.el.nativeElement):L.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),L.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?mn.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&mn.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof gi){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+L.getWindowScrollLeft(),r=t.top+L.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+L.getOuterWidth(t),s=i.top+(L.getOuterHeight(t)-L.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?L.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-L.getOuterWidth(this.container),r=t.top+(L.getOuterHeight(this.el.nativeElement)-L.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top-L.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top+L.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=U(U({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return L.hasClass(t,"p-inputwrapper")?L.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),a=L.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new cl(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):L.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&mn.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(P(Nt),P(Qe),P(Ie),P(Dn),P(ht),P(_i))};static \u0275dir=Ge({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&me("keydown.escape",function(o){return r.onPressEscape(o)},!1,kS)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",Y],showDelay:[2,"showDelay","showDelay",Mt],hideDelay:[2,"hideDelay","hideDelay",Mt],life:[2,"life","life",Mt],positionTop:[2,"positionTop","positionTop",Mt],positionLeft:[2,"positionLeft","positionLeft",Mt],autoHide:[2,"autoHide","autoHide",Y],fitContent:[2,"fitContent","fitContent",Y],hideOnEscape:[2,"hideOnEscape","hideOnEscape",Y],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[xt,En]})}return n})(),Tu=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t]})}return n})();var br=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"path",1),V()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Cr=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"path",1),V()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var fE=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"rect",1),V())},encapsulation:2})}return n})();var pE=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"path",1),V()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var mE=(()=>{class n extends St{pathId;ngOnInit(){this.pathId="url(#"+zt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Ye,Te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0)(1,"g"),Q(2,"path",1),V(),F(3,"defs")(4,"clipPath",2),Q(5,"rect",3),V()()()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),K("clip-path",r.pathId),T(3),E("id",r.pathId))},encapsulation:2})}return n})();var Su=n=>({height:n}),yH=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),gE=n=>({$implicit:n});function _H(n,e){n&1&&Q(0,"CheckIcon",4),n&2&&E("styleClass","p-dropdown-check-icon")}function vH(n,e){n&1&&Q(0,"BlankIcon",4),n&2&&E("styleClass","p-dropdown-blank-icon")}function IH(n,e){if(n&1&&(xe(0),j(1,_H,1,1,"CheckIcon",3)(2,vH,1,1,"BlankIcon",3),Me()),n&2){let t=R();T(),E("ngIf",t.selected),T(),E("ngIf",!t.selected)}}function wH(n,e){if(n&1&&(F(0,"span"),ft(1),V()),n&2){let t,i=R();T(),Xt((t=i.label)!==null&&t!==void 0?t:"empty")}}function EH(n,e){n&1&&Ne(0)}var bH=["container"],CH=["filter"],TH=["focusInput"],SH=["editableInput"],DH=["items"],AH=["scroller"],xH=["overlay"],MH=["firstHiddenFocusableEl"],RH=["lastHiddenFocusableEl"],OH=n=>({"max-height":n}),wO=n=>({options:n}),NH=n=>({"p-variant-filled":n}),EO=(n,e)=>({$implicit:n,options:e}),PH=()=>({});function kH(n,e){if(n&1&&(xe(0),ft(1),Me()),n&2){let t=R(2);T(),Xt(t.label()==="p-emptylabel"?"\xA0":t.label())}}function LH(n,e){if(n&1&&Ne(0,25),n&2){let t=R(2);E("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",Pe(2,gE,t.selectedOption))}}function FH(n,e){if(n&1&&(F(0,"span"),ft(1),V()),n&2){let t=R(3);T(),Xt(t.label()==="p-emptylabel"?"\xA0":t.label())}}function VH(n,e){if(n&1&&j(0,FH,2,1,"span",18),n&2){let t=R(2);E("ngIf",t.isSelectedOptionEmpty())}}function jH(n,e){if(n&1){let t=nt();F(0,"span",23,3),me("focus",function(r){ue(t);let s=R();return de(s.onInputFocus(r))})("blur",function(r){ue(t);let s=R();return de(s.onInputBlur(r))})("keydown",function(r){ue(t);let s=R();return de(s.onKeyDown(r))}),j(2,kH,2,1,"ng-container",20)(3,LH,1,4,"ng-container",24)(4,VH,1,1,"ng-template",null,4,bn),V()}if(n&2){let t,i=un(5),r=R();E("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),K("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),T(2),E("ngIf",!r.selectedItemTemplate)("ngIfElse",i),T(),E("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function UH(n,e){if(n&1){let t=nt();F(0,"input",26,5),me("input",function(r){ue(t);let s=R();return de(s.onEditableInput(r))})("keydown",function(r){ue(t);let s=R();return de(s.onKeyDown(r))})("focus",function(r){ue(t);let s=R();return de(s.onInputFocus(r))})("blur",function(r){ue(t);let s=R();return de(s.onInputBlur(r))}),V()}if(n&2){let t=R();E("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),K("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function BH(n,e){if(n&1){let t=nt();F(0,"TimesIcon",29),me("click",function(r){ue(t);let s=R(2);return de(s.clear(r))}),V()}n&2&&(E("styleClass","p-dropdown-clear-icon"),K("data-pc-section","clearicon"))}function $H(n,e){}function HH(n,e){n&1&&j(0,$H,0,0,"ng-template")}function zH(n,e){if(n&1){let t=nt();F(0,"span",30),me("click",function(r){ue(t);let s=R(2);return de(s.clear(r))}),j(1,HH,1,0,null,31),V()}if(n&2){let t=R(2);K("data-pc-section","clearicon"),T(),E("ngTemplateOutlet",t.clearIconTemplate)}}function qH(n,e){if(n&1&&(xe(0),j(1,BH,1,2,"TimesIcon",27)(2,zH,2,2,"span",28),Me()),n&2){let t=R();T(),E("ngIf",!t.clearIconTemplate),T(),E("ngIf",t.clearIconTemplate)}}function GH(n,e){n&1&&Ne(0)}function WH(n,e){if(n&1&&(xe(0),j(1,GH,1,0,"ng-container",31),Me()),n&2){let t=R(2);T(),E("ngTemplateOutlet",t.loadingIconTemplate)}}function KH(n,e){if(n&1&&Q(0,"span",34),n&2){let t=R(3);E("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function QH(n,e){n&1&&Q(0,"span",35),n&2&&pe("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function YH(n,e){if(n&1&&(xe(0),j(1,KH,1,1,"span",32)(2,QH,1,2,"span",33),Me()),n&2){let t=R(2);T(),E("ngIf",t.loadingIcon),T(),E("ngIf",!t.loadingIcon)}}function ZH(n,e){if(n&1&&(xe(0),j(1,WH,2,1,"ng-container",18)(2,YH,3,2,"ng-container",18),Me()),n&2){let t=R();T(),E("ngIf",t.loadingIconTemplate),T(),E("ngIf",!t.loadingIconTemplate)}}function JH(n,e){if(n&1&&Q(0,"span",39),n&2){let t=R(3);E("ngClass",t.dropdownIcon)}}function XH(n,e){n&1&&Q(0,"ChevronDownIcon",40),n&2&&E("styleClass","p-dropdown-trigger-icon")}function ez(n,e){if(n&1&&(xe(0),j(1,JH,1,1,"span",37)(2,XH,1,1,"ChevronDownIcon",38),Me()),n&2){let t=R(2);T(),E("ngIf",t.dropdownIcon),T(),E("ngIf",!t.dropdownIcon)}}function tz(n,e){}function nz(n,e){n&1&&j(0,tz,0,0,"ng-template")}function iz(n,e){if(n&1&&(F(0,"span",41),j(1,nz,1,0,null,31),V()),n&2){let t=R(2);T(),E("ngTemplateOutlet",t.dropdownIconTemplate)}}function rz(n,e){if(n&1&&j(0,ez,3,2,"ng-container",18)(1,iz,2,1,"span",36),n&2){let t=R();E("ngIf",!t.dropdownIconTemplate),T(),E("ngIf",t.dropdownIconTemplate)}}function sz(n,e){n&1&&Ne(0)}function oz(n,e){n&1&&Ne(0)}function az(n,e){if(n&1&&(xe(0),j(1,oz,1,0,"ng-container",48),Me()),n&2){let t=R(3);T(),E("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",Pe(2,wO,t.filterOptions))}}function lz(n,e){n&1&&Q(0,"SearchIcon",40),n&2&&E("styleClass","p-dropdown-filter-icon")}function cz(n,e){}function uz(n,e){n&1&&j(0,cz,0,0,"ng-template")}function dz(n,e){if(n&1&&(F(0,"span",52),j(1,uz,1,0,null,31),V()),n&2){let t=R(4);T(),E("ngTemplateOutlet",t.filterIconTemplate)}}function hz(n,e){if(n&1){let t=nt();F(0,"div",49)(1,"input",50,10),me("input",function(r){ue(t);let s=R(3);return de(s.onFilterInputChange(r))})("keydown",function(r){ue(t);let s=R(3);return de(s.onFilterKeyDown(r))})("blur",function(r){ue(t);let s=R(3);return de(s.onFilterBlur(r))}),V(),j(3,lz,1,1,"SearchIcon",38)(4,dz,2,1,"span",51),V()}if(n&2){let t=R(3);T(),E("value",t._filterValue()||"")("ngClass",Pe(8,NH,t.variant==="filled"||t.config.inputStyle()==="filled")),K("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),T(2),E("ngIf",!t.filterIconTemplate),T(),E("ngIf",t.filterIconTemplate)}}function fz(n,e){if(n&1){let t=nt();F(0,"div",47),me("click",function(r){return ue(t),de(r.stopPropagation())}),j(1,az,2,4,"ng-container",20)(2,hz,5,10,"ng-template",null,9,bn),V()}if(n&2){let t=un(3),i=R(2);T(),E("ngIf",i.filterTemplate)("ngIfElse",t)}}function pz(n,e){n&1&&Ne(0)}function mz(n,e){if(n&1&&j(0,pz,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;R(2);let r=un(9);E("ngTemplateOutlet",r)("ngTemplateOutletContext",zn(2,EO,t,i))}}function gz(n,e){n&1&&Ne(0)}function yz(n,e){if(n&1&&j(0,gz,1,0,"ng-container",48),n&2){let t=e.options,i=R(4);E("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",Pe(2,wO,t))}}function _z(n,e){n&1&&(xe(0),j(1,yz,1,4,"ng-template",54),Me())}function vz(n,e){if(n&1){let t=nt();F(0,"p-scroller",53,11),me("onLazyLoad",function(r){ue(t);let s=R(2);return de(s.onLazyLoad.emit(r))}),j(2,mz,1,5,"ng-template",22)(3,_z,2,0,"ng-container",18),V()}if(n&2){let t=R(2);Oh(Pe(8,Su,t.scrollHeight)),E("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),T(3),E("ngIf",t.loaderTemplate)}}function Iz(n,e){n&1&&Ne(0)}function wz(n,e){if(n&1&&(xe(0),j(1,Iz,1,0,"ng-container",48),Me()),n&2){R();let t=un(9),i=R();T(),E("ngTemplateOutlet",t)("ngTemplateOutletContext",zn(3,EO,i.visibleOptions(),Hn(2,PH)))}}function Ez(n,e){if(n&1&&(F(0,"span"),ft(1),V()),n&2){let t=R(2).$implicit,i=R(3);T(),Xt(i.getOptionGroupLabel(t.optionGroup))}}function bz(n,e){n&1&&Ne(0)}function Cz(n,e){if(n&1&&(xe(0),F(1,"li",58),j(2,Ez,2,1,"span",18)(3,bz,1,0,"ng-container",48),V(),Me()),n&2){let t=R(),i=t.$implicit,r=t.index,s=R().options,o=R(2);T(),E("ngStyle",Pe(5,Su,s.itemSize+"px")),K("id",o.id+"_"+o.getOptionIndex(r,s)),T(),E("ngIf",!o.groupTemplate),T(),E("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",Pe(7,gE,i.optionGroup))}}function Tz(n,e){if(n&1){let t=nt();xe(0),F(1,"p-dropdownItem",59),me("onClick",function(r){ue(t);let s=R().$implicit,o=R(3);return de(o.onOptionSelect(r,s))})("onMouseEnter",function(r){ue(t);let s=R().index,o=R().options,a=R(2);return de(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),V(),Me()}if(n&2){let t=R(),i=t.$implicit,r=t.index,s=R().options,o=R(2);T(),E("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function Sz(n,e){if(n&1&&j(0,Cz,4,9,"ng-container",18)(1,Tz,2,10,"ng-container",18),n&2){let t=e.$implicit,i=R(3);E("ngIf",i.isOptionGroup(t)),T(),E("ngIf",!i.isOptionGroup(t))}}function Dz(n,e){if(n&1&&(xe(0),ft(1),Me()),n&2){let t=R(4);T(),ar(" ",t.emptyFilterMessageLabel," ")}}function Az(n,e){n&1&&Ne(0,null,13)}function xz(n,e){if(n&1&&(F(0,"li",60),j(1,Dz,2,1,"ng-container",20)(2,Az,2,0,"ng-container",31),V()),n&2){let t=R().options,i=R(2);E("ngStyle",Pe(4,Su,t.itemSize+"px")),T(),E("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),T(),E("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function Mz(n,e){if(n&1&&(xe(0),ft(1),Me()),n&2){let t=R(4);T(),ar(" ",t.emptyMessageLabel," ")}}function Rz(n,e){n&1&&Ne(0,null,14)}function Oz(n,e){if(n&1&&(F(0,"li",60),j(1,Mz,2,1,"ng-container",20)(2,Rz,2,0,"ng-container",31),V()),n&2){let t=R().options,i=R(2);E("ngStyle",Pe(4,Su,t.itemSize+"px")),T(),E("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),T(),E("ngTemplateOutlet",i.emptyTemplate)}}function Nz(n,e){if(n&1&&(F(0,"ul",55,12),j(2,Sz,2,2,"ng-template",56)(3,xz,3,6,"li",57)(4,Oz,3,6,"li",57),V()),n&2){let t=e.$implicit,i=e.options,r=R(2);E("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),K("id",r.id+"_list")("aria-label",r.listLabel),T(2),E("ngForOf",t),T(),E("ngIf",r.filterValue&&r.isEmpty()),T(),E("ngIf",!r.filterValue&&r.isEmpty())}}function Pz(n,e){n&1&&Ne(0)}function kz(n,e){if(n&1){let t=nt();F(0,"div",42)(1,"span",43,6),me("focus",function(r){ue(t);let s=R();return de(s.onFirstHiddenFocus(r))}),V(),j(3,sz,1,0,"ng-container",31)(4,fz,4,2,"div",44),F(5,"div",45),j(6,vz,4,10,"p-scroller",46)(7,wz,2,6,"ng-container",18)(8,Nz,5,7,"ng-template",null,7,bn),V(),j(10,Pz,1,0,"ng-container",31),F(11,"span",43,8),me("focus",function(r){ue(t);let s=R();return de(s.onLastHiddenFocus(r))}),V()()}if(n&2){let t=R();pe(t.panelStyleClass),E("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),T(),K("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),T(2),E("ngTemplateOutlet",t.headerTemplate),T(),E("ngIf",t.filter),T(),E("ngStyle",Pe(16,OH,t.virtualScroll?"auto":t.scrollHeight||"auto")),T(),E("ngIf",t.virtualScroll),T(),E("ngIf",!t.virtualScroll),T(3),E("ngTemplateOutlet",t.footerTemplate),T(),K("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Lz={provide:yo,useExisting:Un(()=>yE),multi:!0},Fz=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new re;onMouseEnter=new re;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=oe({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",Y],focused:[2,"focused","focused",Y],label:"label",disabled:[2,"disabled","disabled",Y],visible:[2,"visible","visible",Y],itemSize:[2,"itemSize","itemSize",Mt],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",Y]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[xt],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(F(0,"li",0),me("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),j(1,IH,3,2,"ng-container",1)(2,wH,2,1,"span",1)(3,EH,1,0,"ng-container",2),V()),i&2&&(E("id",r.id)("ngStyle",Pe(14,Su,r.itemSize+"px"))("ngClass",ua(16,yH,r.selected,r.disabled,r.focused)),K("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),T(),E("ngIf",r.checkmark),T(),E("ngIf",!r.template),T(),E("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Pe(20,gE,r.option)))},dependencies:()=>[dn,Cn,Sn,Tn,ms,fE,Cr],encapsulation:2})}return n})(),yE=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){ye.deepEquals(t,this._options())||this._options.set(t)}onChange=new re;onFilter=new re;onFocus=new re;onBlur=new re;onClick=new re;onShow=new re;onHide=new re;onClear=new re;onLazyLoad=new re;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Jt(null);_placeholder=Jt(void 0);modelValue=Jt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Jt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Jt(-1);labelId;listId;clicked=Jt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(vo.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(vo.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(vo.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Fi(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let u=this.getOptionGroupChildren(a).filter(d=>r.includes(d));u.length>0&&o.push(Ee(U({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...u]}))}),this.flatOptions(o)}return r}return t});label=Fi(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=Fi(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Fi(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,__(()=>{let l=this.modelValue(),u=this.visibleOptions();if(u&&ye.isNotEmpty(u)){let d=this.findSelectedOptionIndex();(d!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=u[d])}ye.isEmpty(u)&&(l===void 0||this.isModelValueNotSet())&&ye.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||zt(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&L.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return ye.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return ye.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?ye.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?ye.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?ye.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?ye.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?ye.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&ye.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=L.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{L.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{L.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&ye.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?ye.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return ye.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())L.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;L.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(i)}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?L.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(P(Qe),P(ht),P(Ct),P(Ie),P(hO),P(Dn))};static \u0275cmp=oe({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&Pt(s,en,4),i&2){let o;$e(o=He())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(bt(bH,5),bt(CH,5),bt(TH,5),bt(SH,5),bt(DH,5),bt(AH,5),bt(xH,5),bt(MH,5),bt(RH,5)),i&2){let s;$e(s=He())&&(r.containerViewChild=s.first),$e(s=He())&&(r.filterViewChild=s.first),$e(s=He())&&(r.focusInputViewChild=s.first),$e(s=He())&&(r.editableInputViewChild=s.first),$e(s=He())&&(r.itemsViewChild=s.first),$e(s=He())&&(r.scroller=s.first),$e(s=He())&&(r.overlayViewChild=s.first),$e(s=He())&&(r.firstHiddenFocusableElementOnOverlay=s.first),$e(s=He())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Li("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",Y],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",Y],required:[2,"required","required",Y],editable:[2,"editable","editable",Y],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",Mt],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",Y],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",Y],checkmark:[2,"checkmark","checkmark",Y],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",Y],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",Y],group:[2,"group","group",Y],showClear:[2,"showClear","showClear",Y],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",Y],virtualScroll:[2,"virtualScroll","virtualScroll",Y],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",Mt],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",Mt],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",Y],selectOnFocus:[2,"selectOnFocus","selectOnFocus",Y],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",Y],autofocusFilter:[2,"autofocusFilter","autofocusFilter",Y],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[$n([Lz]),xt],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=nt();F(0,"div",15,0),me("click",function(a){return ue(s),de(r.onContainerClick(a))}),j(2,jH,6,20,"span",16)(3,UH,2,8,"input",17)(4,qH,3,2,"ng-container",18),F(5,"div",19),me("mousedown",function(a){return ue(s),de(r.onMouseDown(a))}),j(6,ZH,3,2,"ng-container",20)(7,rz,2,2,"ng-template",null,1,bn),V(),F(9,"p-overlay",21,2),Yl("visibleChange",function(a){return ue(s),Lh(r.overlayVisible,a)||(r.overlayVisible=a),de(a)}),me("onAnimationStart",function(a){return ue(s),de(r.onOverlayAnimationStart(a))})("onHide",function(){return ue(s),de(r.hide())}),j(11,kz,13,18,"ng-template",22),V()()}if(i&2){let s,o=un(8);pe(r.styleClass),E("ngClass",r.containerClass)("ngStyle",r.style),K("id",r.id),T(2),E("ngIf",!r.editable),T(),E("ngIf",r.editable),T(),E("ngIf",r.isVisibleClearIcon),T(),K("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),T(),E("ngIf",r.loading)("ngIfElse",o),T(3),Ql("visible",r.overlayVisible),E("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[dn,ha,Cn,Sn,Tn,lE,en,IO,vO,em,br,pE,mE,Fz],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),ul=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,cE,Vt,Tu,gs,hE,yO,br,pE,mE,fE,Cr,cE,Vt,hE]})}return n})();var tm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-statistics"]],standalone:!0,features:[Te],decls:3,vars:0,consts:[["header","Trio","subheader","Meilleur ratio (parties gagn\xE9es/jou\xE9ees)"],[1,"m-0"]],template:function(t,i){t&1&&(F(0,"p-card",0)(1,"p",1),ft(2," Lorem ipsum dolor sit amet... "),V()())},dependencies:[gO,mO,ul,fs]})};var nm=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-new-game-scores"]],standalone:!0,features:[Te],decls:0,vars:0,template:function(t,i){},dependencies:[ul,fs]})};var _E=(i=>(i.Trio="Trio",i.SixQuiPrend="SixQuiPrend",i.Hilo="Hilo",i))(_E||{});var im=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-round-scores-game"]],standalone:!0,features:[Te],decls:3,vars:0,consts:[[1,"round-scores"]],template:function(t,i){t&1&&(F(0,"div",0)(1,"h2"),ft(2,"\xC7a arrive..."),V()())},styles:[".round-scores[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding-top:4rem}"]})};var jz=["*"],bO=n=>({class:n});function Uz(n,e){n&1&&Ne(0)}function Bz(n,e){if(n&1&&Q(0,"span",8),n&2){let t=R(3);E("ngClass",t.iconClass()),K("aria-hidden",!0)("data-pc-section","loadingicon")}}function $z(n,e){if(n&1&&Q(0,"SpinnerIcon",9),n&2){let t=R(3);E("styleClass",t.spinnerIconClass())("spin",!0),K("aria-hidden",!0)("data-pc-section","loadingicon")}}function Hz(n,e){if(n&1&&(xe(0),j(1,Bz,1,3,"span",6)(2,$z,1,4,"SpinnerIcon",7),Me()),n&2){let t=R(2);T(),E("ngIf",t.loadingIcon),T(),E("ngIf",!t.loadingIcon)}}function zz(n,e){}function qz(n,e){if(n&1&&j(0,zz,0,0,"ng-template",10),n&2){let t=R(2);E("ngIf",t.loadingIconTemplate)}}function Gz(n,e){if(n&1&&(xe(0),j(1,Hz,3,2,"ng-container",2)(2,qz,1,1,null,5),Me()),n&2){let t=R();T(),E("ngIf",!t.loadingIconTemplate),T(),E("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",Pe(3,bO,t.iconClass()))}}function Wz(n,e){if(n&1&&Q(0,"span",8),n&2){let t=R(2);E("ngClass",t.iconClass()),K("data-pc-section","icon")}}function Kz(n,e){}function Qz(n,e){if(n&1&&j(0,Kz,0,0,"ng-template",10),n&2){let t=R(2);E("ngIf",!t.icon&&t.iconTemplate)}}function Yz(n,e){if(n&1&&(xe(0),j(1,Wz,1,2,"span",6)(2,Qz,1,1,null,5),Me()),n&2){let t=R();T(),E("ngIf",t.icon&&!t.iconTemplate),T(),E("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",Pe(3,bO,t.iconClass()))}}function Zz(n,e){if(n&1&&(F(0,"span",11),ft(1),V()),n&2){let t=R();K("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),T(),Xt(t.label)}}function Jz(n,e){if(n&1&&(F(0,"span",8),ft(1),V()),n&2){let t=R();pe(t.badgeClass),E("ngClass",t.badgeStyleClass()),K("data-pc-section","badge"),T(),Xt(t.badge)}}var ys={button:"p-button",component:"p-component",iconOnly:"p-button-icon-only",disabled:"p-disabled",loading:"p-button-loading",labelOnly:"p-button-loading-label-only"},CO=(()=>{class n{el;document;iconPos="left";loadingIcon;get label(){return this._label}set label(t){this._label=t,this.initialized&&(this.updateLabel(),this.updateIcon(),this.setStyleClass())}get icon(){return this._icon}set icon(t){this._icon=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}get loading(){return this._loading}set loading(t){this._loading=t,this.initialized&&(this.updateIcon(),this.setStyleClass())}severity;raised=!1;rounded=!1;text=!1;outlined=!1;size=null;plain=!1;_label;_icon;_loading=!1;initialized;get htmlElement(){return this.el.nativeElement}_internalClasses=Object.values(ys);constructor(t,i){this.el=t,this.document=i}ngAfterViewInit(){L.addMultipleClasses(this.htmlElement,this.getStyleClass().join(" ")),this.createIcon(),this.createLabel(),this.initialized=!0}getStyleClass(){let t=[ys.button,ys.component];return this.icon&&!this.label&&ye.isEmpty(this.htmlElement.textContent)&&t.push(ys.iconOnly),this.loading&&(t.push(ys.disabled,ys.loading),!this.icon&&this.label&&t.push(ys.labelOnly),this.icon&&!this.label&&!ye.isEmpty(this.htmlElement.textContent)&&t.push(ys.iconOnly)),this.text&&t.push("p-button-text"),this.severity&&t.push(`p-button-${this.severity}`),this.plain&&t.push("p-button-plain"),this.raised&&t.push("p-button-raised"),this.size&&t.push(`p-button-${this.size}`),this.outlined&&t.push("p-button-outlined"),this.rounded&&t.push("p-button-rounded"),this.size==="small"&&t.push("p-button-sm"),this.size==="large"&&t.push("p-button-lg"),t}setStyleClass(){let t=this.getStyleClass();this.htmlElement.classList.remove(...this._internalClasses),this.htmlElement.classList.add(...t)}createLabel(){if(!L.findSingle(this.htmlElement,".p-button-label")&&this.label){let i=this.document.createElement("span");this.icon&&!this.label&&i.setAttribute("aria-hidden","true"),i.className="p-button-label",i.appendChild(this.document.createTextNode(this.label)),this.htmlElement.appendChild(i)}}createIcon(){if(!L.findSingle(this.htmlElement,".p-button-icon")&&(this.icon||this.loading)){let i=this.document.createElement("span");i.className="p-button-icon",i.setAttribute("aria-hidden","true");let r=this.label?"p-button-icon-"+this.iconPos:null;r&&L.addClass(i,r);let s=this.getIconClass();s&&L.addMultipleClasses(i,s),this.htmlElement.insertBefore(i,this.htmlElement.firstChild)}}updateLabel(){let t=L.findSingle(this.htmlElement,".p-button-label");if(!this.label){t&&this.htmlElement.removeChild(t);return}t?t.textContent=this.label:this.createLabel()}updateIcon(){let t=L.findSingle(this.htmlElement,".p-button-icon"),i=L.findSingle(this.htmlElement,".p-button-label");t?this.iconPos?t.className="p-button-icon "+(i?"p-button-icon-"+this.iconPos:"")+" "+this.getIconClass():t.className="p-button-icon "+this.getIconClass():this.createIcon()}getIconClass(){return this.loading?"p-button-loading-icon pi-spin "+(this.loadingIcon??"pi pi-spinner"):this.icon||"p-hidden"}ngOnDestroy(){this.initialized=!1}static \u0275fac=function(i){return new(i||n)(P(Qe),P(Xe))};static \u0275dir=Ge({type:n,selectors:[["","pButton",""]],hostAttrs:[1,"p-element"],inputs:{iconPos:"iconPos",loadingIcon:"loadingIcon",label:"label",icon:"icon",loading:"loading",severity:"severity",raised:[2,"raised","raised",Y],rounded:[2,"rounded","rounded",Y],text:[2,"text","text",Y],outlined:[2,"outlined","outlined",Y],size:"size",plain:[2,"plain","plain",Y]},standalone:!0,features:[xt]})}return n})(),vE=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new re;onFocus=new re;onBlur=new re;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(P(Qe))};static \u0275cmp=oe({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&Pt(s,en,4),i&2){let o;$e(o=He())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&Li("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",Y],loading:[2,"loading","loading",Y],loadingIcon:"loadingIcon",raised:[2,"raised","raised",Y],rounded:[2,"rounded","rounded",Y],text:[2,"text","text",Y],plain:[2,"plain","plain",Y],severity:"severity",outlined:[2,"outlined","outlined",Y],link:[2,"link","link",Y],tabindex:[2,"tabindex","tabindex",Mt],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",Y]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[xt,Te],ngContentSelectors:jz,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(cn(),F(0,"button",0),me("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),qt(1),j(2,Uz,1,0,"ng-container",1)(3,Gz,3,5,"ng-container",2)(4,Yz,3,5,"ng-container",2)(5,Zz,2,3,"span",3)(6,Jz,2,5,"span",4),V()),i&2&&(E("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),K("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),T(2),E("ngTemplateOutlet",r.contentTemplate),T(),E("ngIf",r.loading),T(),E("ngIf",!r.loading),T(),E("ngIf",!r.contentTemplate&&r.label),T(),E("ngIf",!r.contentTemplate&&r.badge))},dependencies:[Cn,Sn,Tn,dn,ms,em,Cu],encapsulation:2,changeDetection:0})}return n})(),Au=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[vE,Vt]})}return n})();var Xz=["content"],e7=[[["p-footer"]]],t7=["p-footer"],n7=n=>({"p-dialog p-confirm-dialog p-component":!0,"p-dialog-rtl":n}),i7=(n,e)=>({transform:n,transition:e}),r7=n=>({value:"visible",params:n}),SO=n=>({$implicit:n}),s7=()=>({"p-dialog-header-icon p-dialog-header-close p-link":!0});function o7(n,e){n&1&&Ne(0)}function a7(n,e){if(n&1&&(xe(0),j(1,o7,1,0,"ng-container",7),Me()),n&2){let t=R(3);T(),E("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",Pe(2,SO,t.confirmation))}}function l7(n,e){n&1&&Ne(0)}function c7(n,e){if(n&1&&(F(0,"div",14),j(1,l7,1,0,"ng-container",15),V()),n&2){let t=R(4);T(),E("ngTemplateOutlet",t.headerTemplate)}}function u7(n,e){if(n&1&&(F(0,"span",19),ft(1),V()),n&2){let t=R(5);E("id",t.ariaLabelledBy),T(),Xt(t.option("header"))}}function d7(n,e){if(n&1){let t=nt();F(0,"button",20),me("click",function(r){ue(t);let s=R(5);return de(s.close(r))})("keydown.enter",function(r){ue(t);let s=R(5);return de(s.close(r))}),Q(1,"TimesIcon"),V()}if(n&2){let t=R(5);E("ngClass",Hn(2,s7)),K("aria-label",t.closeAriaLabel)}}function h7(n,e){if(n&1&&(F(0,"div",14),j(1,u7,2,2,"span",16),F(2,"div",17),j(3,d7,2,3,"button",18),V()()),n&2){let t=R(4);T(),E("ngIf",t.option("header")),T(2),E("ngIf",t.closable)}}function f7(n,e){if(n&1&&Q(0,"i",3),n&2){let t=R(4);pe(t.option("icon")),E("ngClass","p-confirm-dialog-icon")}}function p7(n,e){}function m7(n,e){n&1&&j(0,p7,0,0,"ng-template")}function g7(n,e){if(n&1&&(xe(0),j(1,m7,1,0,null,15),Me()),n&2){let t=R(4);T(),E("ngTemplateOutlet",t.iconTemplate)}}function y7(n,e){if(n&1&&Q(0,"span",21),n&2){let t=R(4);E("innerHTML",t.option("message"),Jy)}}function _7(n,e){}function v7(n,e){n&1&&j(0,_7,0,0,"ng-template")}function I7(n,e){if(n&1&&(xe(0),j(1,v7,1,0,null,7),Me()),n&2){let t=R(4);T(),E("ngTemplateOutlet",t.messageTemplate)("ngTemplateOutletContext",Pe(2,SO,t.confirmation))}}function w7(n,e){n&1&&Ne(0)}function E7(n,e){if(n&1&&(F(0,"div",22),qt(1),j(2,w7,1,0,"ng-container",15),V()),n&2){let t=R(4);T(2),E("ngTemplateOutlet",t.footerTemplate)}}function b7(n,e){if(n&1&&Q(0,"i"),n&2){let t=R(7);pe(t.option("rejectIcon"))}}function C7(n,e){n&1&&Q(0,"TimesIcon",28),n&2&&E("styleClass","p-button-icon-left")}function T7(n,e){if(n&1&&(xe(0),j(1,b7,1,2,"i",26)(2,C7,1,1,"TimesIcon",27),Me()),n&2){let t=R(6);T(),E("ngIf",t.option("rejectIcon")),T(),E("ngIf",!t.option("rejectIcon"))}}function S7(n,e){}function D7(n,e){n&1&&j(0,S7,0,0,"ng-template")}function A7(n,e){if(n&1&&(F(0,"span",29),j(1,D7,1,0,null,15),V()),n&2){let t=R(6);T(),E("ngTemplateOutlet",t.rejectIconTemplate)}}function x7(n,e){if(n&1){let t=nt();F(0,"button",24),me("click",function(){ue(t);let r=R(5);return de(r.reject())}),j(1,T7,3,2,"ng-container",11)(2,A7,2,1,"span",25),V()}if(n&2){let t=R(5);pe(t.option("rejectButtonStyleClass")),E("label",t.rejectButtonLabel)("ngClass","p-confirm-dialog-reject"),K("aria-label",t.rejectAriaLabel),T(),E("ngIf",!t.rejectIconTemplate),T(),E("ngIf",t.rejectIconTemplate)}}function M7(n,e){if(n&1&&Q(0,"i"),n&2){let t=R(7);pe(t.option("acceptIcon"))}}function R7(n,e){n&1&&Q(0,"CheckIcon",28),n&2&&E("styleClass","p-button-icon-left")}function O7(n,e){if(n&1&&(xe(0),j(1,M7,1,2,"i",26)(2,R7,1,1,"CheckIcon",27),Me()),n&2){let t=R(6);T(),E("ngIf",t.option("acceptIcon")),T(),E("ngIf",!t.option("acceptIcon"))}}function N7(n,e){}function P7(n,e){n&1&&j(0,N7,0,0,"ng-template")}function k7(n,e){if(n&1&&(F(0,"span",29),j(1,P7,1,0,null,15),V()),n&2){let t=R(6);T(),E("ngTemplateOutlet",t.acceptIconTemplate)}}function L7(n,e){if(n&1){let t=nt();F(0,"button",24),me("click",function(){ue(t);let r=R(5);return de(r.accept())}),j(1,O7,3,2,"ng-container",11)(2,k7,2,1,"span",25),V()}if(n&2){let t=R(5);pe(t.option("acceptButtonStyleClass")),E("label",t.acceptButtonLabel)("ngClass","p-confirm-dialog-accept"),K("aria-label",t.acceptAriaLabel),T(),E("ngIf",!t.acceptIconTemplate),T(),E("ngIf",t.acceptIconTemplate)}}function F7(n,e){if(n&1&&(F(0,"div",22),j(1,x7,3,7,"button",23)(2,L7,3,7,"button",23),V()),n&2){let t=R(4);T(),E("ngIf",t.option("rejectVisible")),T(),E("ngIf",t.option("acceptVisible"))}}function V7(n,e){if(n&1&&(j(0,c7,2,1,"div",8)(1,h7,4,2,"div",8),F(2,"div",9,1),j(4,f7,1,3,"i",10)(5,g7,2,1,"ng-container",11)(6,y7,1,1,"span",12)(7,I7,2,4,"ng-container",11),V(),j(8,E7,3,1,"div",13)(9,F7,3,2,"div",13)),n&2){let t=R(3);E("ngIf",t.headerTemplate),T(),E("ngIf",!t.headerTemplate),T(3),E("ngIf",!t.iconTemplate&&t.option("icon")),T(),E("ngIf",t.iconTemplate),T(),E("ngIf",!t.messageTemplate),T(),E("ngIf",t.messageTemplate),T(),E("ngIf",t.footer||t.footerTemplate),T(),E("ngIf",!t.footer&&!t.footerTemplate)}}function j7(n,e){if(n&1){let t=nt();F(0,"div",5),me("@animation.start",function(r){ue(t);let s=R(2);return de(s.onAnimationStart(r))})("@animation.done",function(r){ue(t);let s=R(2);return de(s.onAnimationEnd(r))}),j(1,a7,2,4,"ng-container",6)(2,V7,10,8,"ng-template",null,0,bn),V()}if(n&2){let t=un(3),i=R(2);pe(i.styleClass),E("ngClass",Pe(9,n7,i.rtl))("ngStyle",i.style)("@animation",Pe(14,r7,zn(11,i7,i.transformOptions,i.transitionOptions))),K("aria-labelledby",i.ariaLabelledBy)("aria-modal",!0),T(),E("ngIf",i.headlessTemplate)("ngIfElse",t)}}function U7(n,e){if(n&1&&(F(0,"div",3),j(1,j7,4,16,"div",4),V()),n&2){let t=R();pe(t.maskStyleClass),E("ngClass",t.getMaskClass()),T(),E("ngIf",t.visible)}}var B7=$a([On({transform:"{{transform}}",opacity:0}),vr("{{transition}}",On({transform:"none",opacity:1}))]),$7=$a([vr("{{transition}}",On({transform:"{{transform}}",opacity:0}))]),DO=(()=>{class n{el;renderer;confirmationService;zone;cd;config;document;header;icon;message;get style(){return this._style}set style(t){this._style=t,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo;key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(t){switch(this._position=t,t){case"top-left":case"bottom-left":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"top-right":case"bottom-right":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}onHide=new re;footer;contentViewChild;templates;ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"message":this.messageTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"rejecticon":this.rejectIconTemplate=t.template;break;case"accepticon":this.acceptIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break}})}headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;confirmation;_visible;_style;maskVisible;documentEscapeListener;container;wrapper;contentContainer;subscription;maskClickListener;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=zt();ariaLabelledBy=this.getAriaLabelledBy();confirmationOptions;translationSubscription;constructor(t,i,r,s,o,a,l){this.el=t,this.renderer=i,this.confirmationService=r,this.zone=s,this.cd=o,this.config=a,this.document=l,this.subscription=this.confirmationService.requireConfirmation$.subscribe(u=>{if(!u){this.hide();return}u.key===this.key&&(this.confirmation=u,this.confirmationOptions={message:this.confirmation.message||this.message,icon:this.confirmation.icon||this.icon,header:this.confirmation.header||this.header,rejectVisible:this.confirmation.rejectVisible==null?this.rejectVisible:this.confirmation.rejectVisible,acceptVisible:this.confirmation.acceptVisible==null?this.acceptVisible:this.confirmation.acceptVisible,acceptLabel:this.confirmation.acceptLabel||this.acceptLabel,rejectLabel:this.confirmation.rejectLabel||this.rejectLabel,acceptIcon:this.confirmation.acceptIcon||this.acceptIcon,rejectIcon:this.confirmation.rejectIcon||this.rejectIcon,acceptButtonStyleClass:this.confirmation.acceptButtonStyleClass||this.acceptButtonStyleClass,rejectButtonStyleClass:this.confirmation.rejectButtonStyleClass||this.rejectButtonStyleClass,defaultFocus:this.confirmation.defaultFocus||this.defaultFocus,blockScroll:this.confirmation.blockScroll===!1||this.confirmation.blockScroll===!0?this.confirmation.blockScroll:this.blockScroll,closeOnEscape:this.confirmation.closeOnEscape===!1||this.confirmation.closeOnEscape===!0?this.confirmation.closeOnEscape:this.closeOnEscape,dismissableMask:this.confirmation.dismissableMask===!1||this.confirmation.dismissableMask===!0?this.confirmation.dismissableMask:this.dismissableMask},this.confirmation.accept&&(this.confirmation.acceptEvent=new re,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new re,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}getAriaLabelledBy(){return this.header!==null?zt()+"_header":null}option(t){let i=this.confirmationOptions||this;if(i.hasOwnProperty(t))return i[t]}onAnimationStart(t){switch(t.toState){case"visible":this.container=t.element,this.wrapper=this.container?.parentElement,this.contentContainer=L.findSingle(this.container,".p-dialog-content"),this.container?.setAttribute(this.id,""),this.appendContainer(),this.moveOnTop(),this.bindGlobalListeners(),this.enableModality();let i=this.getElementToFocus();i&&i.focus();break}}onAnimationEnd(t){switch(t.toState){case"void":this.onOverlayHide();break}}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return L.findSingle(this.container,".p-confirm-dialog-accept");case"reject":return L.findSingle(this.container,".p-confirm-dialog-reject");case"close":return L.findSingle(this.container,".p-dialog-header-close");case"none":return null;default:return L.findSingle(this.container,".p-confirm-dialog-accept")}}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.document.body.appendChild(this.wrapper):L.appendChild(this.wrapper,this.appendTo))}restoreAppend(){this.wrapper&&this.appendTo&&this.el.nativeElement.appendChild(this.wrapper)}enableModality(){this.option("blockScroll")&&L.addClass(this.document.body,"p-overflow-hidden"),this.option("dismissableMask")&&(this.maskClickListener=this.renderer.listen(this.wrapper,"mousedown",t=>{this.wrapper&&this.wrapper.isSameNode(t.target)&&this.close(t)}))}disableModality(){this.maskVisible=!1,this.option("blockScroll")&&L.removeClass(this.document.body,"p-overflow-hidden"),this.dismissableMask&&this.unbindMaskClickListener(),this.container&&!this.cd.destroyed&&this.cd.detectChanges()}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let t="";for(let i in this.breakpoints)t+=`
                    @media screen and (max-width: ${i}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[i]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=t}}close(t){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(_o.CANCEL),this.hide(_o.CANCEL),t.preventDefault()}hide(t){this.onHide.emit(t),this.visible=!1,this.confirmation=null,this.confirmationOptions=null}moveOnTop(){this.autoZIndex&&(mn.set("modal",this.container,this.baseZIndex+this.config.zIndex.modal),this.wrapper.style.zIndex=String(parseInt(this.container.style.zIndex,10)-1))}getMaskClass(){let t={"p-dialog-mask p-component-overlay":!0,"p-dialog-mask-scrollblocker":this.blockScroll};return t[this.getPositionClass().toString()]=!0,t}getPositionClass(){let i=["left","right","top","top-left","top-right","bottom","bottom-left","bottom-right"].find(r=>r===this.position);return i?`p-dialog-${i}`:""}bindGlobalListeners(){if(this.option("closeOnEscape")&&this.closable||this.focusTrap&&!this.documentEscapeListener){let t=this.el?this.el.nativeElement.ownerDocument:"document";this.documentEscapeListener=this.renderer.listen(t,"keydown",i=>{if(i.which==27&&this.option("closeOnEscape")&&this.closable&&parseInt(this.container.style.zIndex)===mn.get(this.container)&&this.visible&&this.close(i),i.which===9&&this.focusTrap){i.preventDefault();let r=L.getFocusableElements(this.container);if(r&&r.length>0)if(!r[0].ownerDocument.activeElement)r[0].focus();else{let s=r.indexOf(r[0].ownerDocument.activeElement);i.shiftKey?s==-1||s===0?r[r.length-1].focus():r[s-1].focus():s==-1||s===r.length-1?r[0].focus():r[s+1].focus()}}})}}unbindGlobalListeners(){this.documentEscapeListener&&(this.documentEscapeListener(),this.documentEscapeListener=null)}unbindMaskClickListener(){this.maskClickListener&&(this.maskClickListener(),this.maskClickListener=null)}onOverlayHide(){this.container&&this.autoZIndex&&mn.clear(this.container),this.disableModality(),this.unbindGlobalListeners(),this.container=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.restoreAppend(),this.onOverlayHide(),this.subscription.unsubscribe(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}accept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(_o.ACCEPT)}reject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(_o.REJECT),this.hide(_o.REJECT)}get acceptButtonLabel(){return this.option("acceptLabel")||this.config.getTranslation(vo.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.config.getTranslation(vo.REJECT)}static \u0275fac=function(i){return new(i||n)(P(Qe),P(ht),P(al),P(Ie),P(Ct),P(Dn),P(Xe))};static \u0275cmp=oe({type:n,selectors:[["p-confirmDialog"]],contentQueries:function(i,r,s){if(i&1&&(Pt(s,Xp,5),Pt(s,en,4)),i&2){let o;$e(o=He())&&(r.footer=o.first),$e(o=He())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&bt(Xz,5),i&2){let s;$e(s=He())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",Y],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",Y],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",Y],dismissableMask:[2,"dismissableMask","dismissableMask",Y],blockScroll:[2,"blockScroll","blockScroll",Y],rtl:[2,"rtl","rtl",Y],closable:[2,"closable","closable",Y],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",Y],baseZIndex:[2,"baseZIndex","baseZIndex",Mt],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",Y],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position"},outputs:{onHide:"onHide"},features:[xt],ngContentSelectors:t7,decls:1,vars:1,consts:[["notHeadless",""],["content",""],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],["role","alertdialog",3,"ngClass","ngStyle","class",4,"ngIf"],["role","alertdialog",3,"ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-dialog-header",4,"ngIf"],[1,"p-dialog-content"],[3,"ngClass","class",4,"ngIf"],[4,"ngIf"],["class","p-confirm-dialog-message",3,"innerHTML",4,"ngIf"],["class","p-dialog-footer",4,"ngIf"],[1,"p-dialog-header"],[4,"ngTemplateOutlet"],["class","p-dialog-title",3,"id",4,"ngIf"],[1,"p-dialog-header-icons"],["type","button","role","button",3,"ngClass","click","keydown.enter",4,"ngIf"],[1,"p-dialog-title",3,"id"],["type","button","role","button",3,"click","keydown.enter","ngClass"],[1,"p-confirm-dialog-message",3,"innerHTML"],[1,"p-dialog-footer"],["type","button","pRipple","","pButton","",3,"label","ngClass","class","click",4,"ngIf"],["type","button","pRipple","","pButton","",3,"click","label","ngClass"],["class","p-button-icon-left",4,"ngIf"],[3,"class",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"styleClass"],[1,"p-button-icon-left"]],template:function(i,r){i&1&&(cn(e7),j(0,U7,2,4,"div",2)),i&2&&E("ngIf",r.maskVisible)},dependencies:()=>[dn,Cn,Sn,Tn,CO,ms,br,Cr],styles:[`@layer primeng{.p-dialog-mask{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;pointer-events:none}.p-dialog-mask.p-component-overlay{pointer-events:auto}.p-dialog{display:flex;flex-direction:column;pointer-events:auto;max-height:90%;transform:scale(1);position:relative}.p-dialog-content{overflow-y:auto;flex-grow:1}.p-dialog-header{display:flex;align-items:center;justify-content:space-between;flex-shrink:0}.p-dialog-draggable .p-dialog-header{cursor:move}.p-dialog-footer{flex-shrink:0}.p-dialog .p-dialog-header-icons{display:flex;align-items:center}.p-dialog .p-dialog-header-icon{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-fluid .p-dialog-footer .p-button{width:auto}.p-dialog-top .p-dialog,.p-dialog-bottom .p-dialog,.p-dialog-left .p-dialog,.p-dialog-right .p-dialog,.p-dialog-top-left .p-dialog,.p-dialog-top-right .p-dialog,.p-dialog-bottom-left .p-dialog,.p-dialog-bottom-right .p-dialog{margin:.75rem;transform:translateZ(0)}.p-dialog-maximized{-webkit-transition:none;transition:none;transform:none;width:100vw!important;height:100vh!important;top:0!important;left:0!important;max-height:100%;height:100%}.p-dialog-maximized .p-dialog-content{flex-grow:1}.p-dialog-left{justify-content:flex-start}.p-dialog-right{justify-content:flex-end}.p-dialog-top{align-items:flex-start}.p-dialog-top-left{justify-content:flex-start;align-items:flex-start}.p-dialog-top-right{justify-content:flex-end;align-items:flex-start}.p-dialog-bottom{align-items:flex-end}.p-dialog-bottom-left{justify-content:flex-start;align-items:flex-end}.p-dialog-bottom-right{justify-content:flex-end;align-items:flex-end}.p-dialog .p-resizable-handle{position:absolute;font-size:.1px;display:block;cursor:se-resize;width:12px;height:12px;right:1px;bottom:1px}.p-confirm-dialog .p-dialog-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[oo("animation",[Wi("void => visible",[Ha(B7)]),Wi("visible => void",[Ha($7)])])]},changeDetection:0})}return n})(),AO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,Au,gs,br,Cr,Au,Vt]})}return n})();var xO=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,s){this.el=t,this.ngModel=i,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(P(Qe),P(bu,8),P(Ct),P(Dn))};static \u0275dir=Ge({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&me("input",function(o){return r.onInput(o)}),i&2&&Li("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),MO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t]})}return n})();var IE=(()=>{class n extends St{pathId;ngOnInit(){this.pathId="url(#"+zt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[Ye,Te],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0)(1,"g"),Q(2,"path",1)(3,"path",2)(4,"path",3),V(),F(5,"defs")(6,"clipPath",4),Q(7,"rect",5),V()()()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),K("clip-path",r.pathId),T(5),E("id",r.pathId))},encapsulation:2})}return n})();var wE=(()=>{class n extends St{pathId;ngOnInit(){this.pathId="url(#"+zt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[Ye,Te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0)(1,"g"),Q(2,"path",1),V(),F(3,"defs")(4,"clipPath",2),Q(5,"rect",3),V()()()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),K("clip-path",r.pathId),T(3),E("id",r.pathId))},encapsulation:2})}return n})();var EE=(()=>{class n extends St{pathId;ngOnInit(){this.pathId="url(#"+zt()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[Ye,Te],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0)(1,"g"),Q(2,"path",1),V(),F(3,"defs")(4,"clipPath",2),Q(5,"rect",3),V()()()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),T(),K("clip-path",r.pathId),T(3),E("id",r.pathId))},encapsulation:2})}return n})();var RO=["container"],q7=n=>[n,"p-toast-message"],G7=(n,e,t,i)=>({showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:i}),W7=n=>({value:"visible",params:n}),K7=(n,e)=>({$implicit:n,closeFn:e}),Q7=n=>({$implicit:n});function Y7(n,e){n&1&&Ne(0)}function Z7(n,e){if(n&1&&(xe(0),j(1,Y7,1,0,"ng-container",4),Me()),n&2){let t=R();T(),E("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",zn(2,K7,t.message,t.onCloseIconClick))}}function J7(n,e){if(n&1&&Q(0,"span"),n&2){let t=R(3);pe("p-toast-message-icon pi "+t.message.icon)}}function X7(n,e){n&1&&Q(0,"CheckIcon"),n&2&&K("aria-hidden",!0)("data-pc-section","icon")}function eq(n,e){n&1&&Q(0,"InfoCircleIcon"),n&2&&K("aria-hidden",!0)("data-pc-section","icon")}function tq(n,e){n&1&&Q(0,"TimesCircleIcon"),n&2&&K("aria-hidden",!0)("data-pc-section","icon")}function nq(n,e){n&1&&Q(0,"ExclamationTriangleIcon"),n&2&&K("aria-hidden",!0)("data-pc-section","icon")}function iq(n,e){if(n&1&&(F(0,"span",13),xe(1),j(2,X7,1,2,"CheckIcon",6)(3,eq,1,2,"InfoCircleIcon",6)(4,tq,1,2,"TimesCircleIcon",6)(5,nq,1,2,"ExclamationTriangleIcon",6),Me(),V()),n&2){let t=R(3);K("aria-hidden",!0)("data-pc-section","icon"),T(2),E("ngIf",t.message.severity==="success"),T(),E("ngIf",t.message.severity==="info"),T(),E("ngIf",t.message.severity==="error"),T(),E("ngIf",t.message.severity==="warn")}}function rq(n,e){if(n&1&&(xe(0),j(1,J7,1,2,"span",8)(2,iq,6,6,"span",9),F(3,"div",10)(4,"div",11),ft(5),V(),F(6,"div",12),ft(7),V()(),Me()),n&2){let t=R(2);T(),E("ngIf",t.message.icon),T(),E("ngIf",!t.message.icon),T(),K("data-pc-section","text"),T(),K("data-pc-section","summary"),T(),Xt(t.message.summary),T(),K("data-pc-section","detail"),T(),Xt(t.message.detail)}}function sq(n,e){n&1&&Ne(0)}function oq(n,e){if(n&1&&Q(0,"span"),n&2){let t=R(3);pe("pt-1 text-base p-toast-message-icon pi "+t.message.closeIcon)}}function aq(n,e){n&1&&Q(0,"TimesIcon",16),n&2&&(E("styleClass","p-toast-icon-close-icon"),K("aria-hidden",!0)("data-pc-section","closeicon"))}function lq(n,e){if(n&1){let t=nt();F(0,"button",14),me("click",function(r){ue(t);let s=R(2);return de(s.onCloseIconClick(r))})("keydown.enter",function(r){ue(t);let s=R(2);return de(s.onCloseIconClick(r))}),j(1,oq,1,2,"span",8)(2,aq,1,3,"TimesIcon",15),V()}if(n&2){let t=R(2);K("aria-label",t.closeAriaLabel)("data-pc-section","closebutton"),T(),E("ngIf",t.message.closeIcon),T(),E("ngIf",!t.message.closeIcon)}}function cq(n,e){if(n&1&&(F(0,"div",5),j(1,rq,8,7,"ng-container",6)(2,sq,1,0,"ng-container",4)(3,lq,3,4,"button",7),V()),n&2){let t=R();E("ngClass",t.message==null?null:t.message.contentStyleClass),K("data-pc-section","content"),T(),E("ngIf",!t.template),T(),E("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Pe(6,Q7,t.message)),T(),E("ngIf",(t.message==null?null:t.message.closable)!==!1)}}function uq(n,e){if(n&1){let t=nt();F(0,"p-toastItem",3),me("onClose",function(r){ue(t);let s=R();return de(s.onMessageClose(r))})("@toastAnimation.start",function(r){ue(t);let s=R();return de(s.onAnimationStart(r))})("@toastAnimation.done",function(r){ue(t);let s=R();return de(s.onAnimationEnd(r))}),V()}if(n&2){let t=e.$implicit,i=e.index,r=R();E("message",t)("index",i)("life",r.life)("template",r.template)("headlessTemplate",r.headlessTemplate)("@toastAnimation",void 0)("showTransformOptions",r.showTransformOptions)("hideTransformOptions",r.hideTransformOptions)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}}var dq=(()=>{class n{zone;config;message;index;life;template;headlessTemplate;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new re;containerViewChild;timeout;constructor(t,i){this.zone=t,this.config=i}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick=t=>{this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()};get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(i){return new(i||n)(P(Ie),P(Dn))};static \u0275cmp=oe({type:n,selectors:[["p-toastItem"]],viewQuery:function(i,r){if(i&1&&bt(RO,5),i&2){let s;$e(s=He())&&(r.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:[2,"index","index",Mt],life:[2,"life","life",Mt],template:"template",headlessTemplate:"headlessTemplate",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},features:[xt],decls:5,vars:18,consts:[["container",""],["notHeadless",""],["role","alert","aria-live","assertive","aria-atomic","true",3,"mouseenter","mouseleave","ngClass"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){if(i&1){let s=nt();F(0,"div",2,0),me("mouseenter",function(){return ue(s),de(r.onMouseEnter())})("mouseleave",function(){return ue(s),de(r.onMouseLeave())}),j(2,Z7,2,5,"ng-container",3)(3,cq,4,8,"ng-template",null,1,bn),V()}if(i&2){let s=un(4);pe(r.message==null?null:r.message.styleClass),E("ngClass",Pe(9,q7,"p-toast-message-"+(r.message==null?null:r.message.severity)))("@messageState",Pe(16,W7,jD(11,G7,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),K("id",r.message==null?null:r.message.id)("data-pc-name","toast")("data-pc-section","root"),T(2),E("ngIf",r.headlessTemplate)("ngIfElse",s)}},dependencies:()=>[dn,Cn,Sn,ms,Cr,wE,EE,IE,br],encapsulation:2,data:{animation:[oo("messageState",[rM("visible",On({transform:"translateY(0)",opacity:1})),Wi("void => *",[On({transform:"{{showTransformParams}}",opacity:0}),vr("{{showTransitionParams}}")]),Wi("* => void",[vr("{{hideTransitionParams}}",On({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return n})(),OO=(()=>{class n{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(t){this._position=t,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new re;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;headlessTemplate;_position="top-right";constructor(t,i,r,s,o){this.document=t,this.renderer=i,this.messageService=r,this.cd=s,this.config=o}styleElement;id=zt();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){let i=t.filter(r=>this.canAdd(r));this.add(i)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let i=this.key===t.key;return i&&this.preventOpenDuplicates&&(i=!this.containsMessage(this.messages,t)),i&&this.preventDuplicates&&(i=!this.containsMessage(this.messagesArchieve,t)),i}containsMessage(t,i){return t?t.find(r=>r.summary===i.summary&&r.detail==i.detail&&r.severity===i.severity)!=null:!1}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"message":this.template=t.template;break;case"headless":this.headlessTemplate=t.template;break;default:this.template=t.template;break}})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){t.fromState==="void"&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&this.containerViewChild?.nativeElement.style.zIndex===""&&mn.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){t.toState==="void"&&this.autoZIndex&&ye.isEmpty(this.messages)&&mn.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",L.setAttribute(this.styleElement,"nonce",this.config?.csp()?.nonce),this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let i in this.breakpoints){let r="";for(let s in this.breakpoints[i])r+=s+":"+this.breakpoints[i][s]+" !important;";t+=`
                    @media screen and (max-width: ${i}) {
                        .p-toast[${this.id}] {
                           ${r}
                        }
                    }
                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&mn.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(i){return new(i||n)(P(Xe),P(ht),P(ll),P(Ct),P(Dn))};static \u0275cmp=oe({type:n,selectors:[["p-toast"]],contentQueries:function(i,r,s){if(i&1&&Pt(s,en,4),i&2){let o;$e(o=He())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&bt(RO,5),i&2){let s;$e(s=He())&&(r.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",Y],baseZIndex:[2,"baseZIndex","baseZIndex",Mt],life:[2,"life","life",Mt],style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:[2,"preventOpenDuplicates","preventOpenDuplicates",Y],preventDuplicates:[2,"preventDuplicates","preventDuplicates",Y],showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},features:[xt],decls:3,vars:5,consts:[["container",""],[1,"p-toast","p-component",3,"ngClass","ngStyle"],[3,"message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"onClose","message","index","life","template","headlessTemplate","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions"]],template:function(i,r){i&1&&(F(0,"div",1,0),j(2,uq,1,10,"p-toastItem",2),V()),i&2&&(pe(r.styleClass),E("ngClass","p-toast-"+r._position)("ngStyle",r.style),T(2),E("ngForOf",r.messages))},dependencies:[dn,ha,Tn,dq],styles:[`@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}
`],encapsulation:2,data:{animation:[oo("toastAnimation",[Wi(":enter, :leave",[oM("@*",sM())])])]},changeDetection:0})}return n})(),NO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,gs,Cr,wE,EE,IE,br,Vt]})}return n})();var rm=class{form;constructor(){this.initializeForm()}get players(){return this.form.get("players")}getForm(){return this.form}initializeForm(){this.form=new vu({players:new Hp([],[ol.minLength(3),ol.maxLength(7)])});for(let e=0;e<3;e++)this.addPlayer()}addPlayer(){this.players.length<7&&this.players.push(this.createEntity())}removePlayer(){if(this.players.length>3){let e=(this.players?.value).findIndex(t=>!t.name);this.players.removeAt(e)}}formatForAPI(){let e=this.form.get("players")?.value??[];return{players:e.map(t=>t.name),winner:e.find(t=>t.win)?.name??"",date:Ht.now()}}createEntity(){return new vu({name:new Eu(null,ol.required),win:new Eu(!1)})}};var sm=class n{constructor(e){this.firestore=e;this.trioCollection=OI(this.firestore,"trio")}trioCollection;getGamesFromLastXDays(e=31){return O(this,null,function*(){return(yield kI(PI(this.trioCollection))).docs.map(i=>U({id:i.id},i.data()))})}saveGame(e){return O(this,null,function*(){yield LI(this.trioCollection,e)})}static \u0275fac=function(t){return new(t||n)(le(so))};static \u0275prov=Z({token:n,factory:n.\u0275fac,providedIn:"root"})};var pq=()=>({width:"100%",right:"0",left:"0"}),mq=n=>({"920px":n});function gq(n,e){if(n&1){let t=nt();F(0,"div",3),Q(1,"input",9),F(2,"p-button",10),me("click",function(){let r=ue(t).$index,s=R();return de(s.toggleWin(r))}),V()()}if(n&2){let t,i=e.$implicit,r=e.$index;E("formGroupName",r),T(2),E("icon",(t=i.get("win"))!=null&&t.value?"pi pi-thumbs-up-fill":"pi pi-thumbs-down-fill")}}var om=class n{constructor(e,t,i,r){this.trioService=e;this.router=t;this.confirmationService=i;this.messageService=r}formHelper;ngOnInit(){this.formHelper=new rm}get players(){return this.form.get("players")}get form(){return this.formHelper.getForm()}get disablePlayerAdding(){return this.players.controls.length===7||this.form.invalid}get disablePlayerRemoving(){return this.players.controls.length===3||!this.players.value.find(e=>!e.name)}get isFormDisabled(){return this.form.invalid||!this.players.value.find(e=>e.win)}toggleWin(e){this.players.controls.forEach((t,i)=>{let r=t.get("win");r&&(i===e?r.setValue(!r.value):r.setValue(!1))})}resetWinner(){this.players.controls.forEach(e=>{e.get("win")?.setValue(!1)})}addPlayer(){this.formHelper.addPlayer()}removePlayer(){this.formHelper.removePlayer()}saveGame(e){this.confirmationService.confirm({target:e.target,header:"Confirmer",message:"Voulez-vous enregistrer les scores ?",icon:"none",acceptIcon:"none",rejectIcon:"none",acceptLabel:"Enregistrer",rejectLabel:"Annuler",rejectButtonStyleClass:"p-button-text",accept:()=>O(this,null,function*(){yield this.trioService.saveGame(this.formHelper.formatForAPI()).then(()=>{this.messageService.add({severity:"success",summary:"Succ\xE8s",detail:"R\xE9sultats enregistr\xE9s",key:"br",life:3e3}),this.resetWinner()}).catch(()=>{this.messageService.add({severity:"error",summary:"Erreur",detail:"Un probl\xE8me est survenu",key:"br",life:3e3})})}),reject:()=>{this.confirmationService.close()}})}static \u0275fac=function(t){return new(t||n)(P(sm),P(Nn),P(al),P(ll))};static \u0275cmp=oe({type:n,selectors:[["app-trio-game"]],standalone:!0,features:[$n([al,ll]),Te],decls:11,vars:8,consts:[["position","bottom-right","key","br",3,"breakpoints"],[3,"ngSubmit","formGroup"],["formArrayName","players",1,"players"],[1,"player",3,"formGroupName"],[1,"players-actions"],["icon","pi pi-user-minus","outlined","","title","Supprimer un joueur",3,"click","disabled"],["icon","pi pi-user-plus","outlined","","title","Ajouter un joueur",3,"click","disabled"],[1,"save-button"],["icon","pi pi-save","type","submit","label","Enregistrer",3,"disabled"],["pInputText","","formControlName","name","placeholder","Nom du joueur"],["outlined","",3,"click","icon"]],template:function(t,i){t&1&&(Q(0,"p-confirmDialog")(1,"p-toast",0),F(2,"form",1),me("ngSubmit",function(s){return i.saveGame(s)}),F(3,"div",2),Ph(4,gq,3,2,"div",3,LD),F(6,"div",4)(7,"p-button",5),me("click",function(){return i.removePlayer()}),V(),F(8,"p-button",6),me("click",function(){return i.addPlayer()}),V()()(),F(9,"div",7),Q(10,"p-button",8),V()()),t&2&&(T(),E("breakpoints",Pe(6,mq,Hn(5,pq))),T(),E("formGroup",i.form),T(2),kh(i.players.controls),T(3),E("disabled",i.disablePlayerRemoving),T(),E("disabled",i.disablePlayerAdding),T(2),E("disabled",i.isFormDisabled))},dependencies:[fs,sO,zp,qp,XR,MO,xO,Au,vE,cO,Yp,oE,Zp,Jp,AO,DO,NO,OO],styles:[".players[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;padding:2rem;gap:2rem}.player[_ngcontent-%COMP%]{display:flex;gap:5px}.p-button-icon-only[_ngcontent-%COMP%]{background:red}.winner-button[_ngcontent-%COMP%]{padding-left:10px}.player-field[_ngcontent-%COMP%]{display:flex}.players-actions[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-evenly}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:0 1rem 1rem 0}"]})};var yq=()=>({width:"200px"});function _q(n,e){n&1&&Q(0,"app-trio-game")}function vq(n,e){n&1&&Q(0,"app-round-scores-game")}function Iq(n,e){n&1&&Q(0,"app-round-scores-game")}function wq(n,e){if(n&1){let t=nt();F(0,"div",0)(1,"p-dropdown",1),Yl("ngModelChange",function(r){ue(t);let s=R();return Lh(s.selectedGame,r)||(s.selectedGame=r),de(r)}),V()()}if(n&2){let t=R();T(),Oh(Hn(4,yq)),Ql("ngModel",t.selectedGame),E("options",t.gameList)}}var am=class n{gameList=["Hilo","SixQuiPrend","Trio"];selectedGame;GameEnum=_E;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=oe({type:n,selectors:[["app-choose-game"]],standalone:!0,features:[Te],decls:4,vars:1,consts:[[1,"align-select"],["placeholder","Jeu",3,"ngModelChange","ngModel","options"]],template:function(t,i){if(t&1&&j(0,_q,1,0,"app-trio-game")(1,vq,1,0,"app-round-scores-game")(2,Iq,1,0,"app-round-scores-game")(3,wq,2,5,"div",0),t&2){let r;Nh((r=i.selectedGame)===i.GameEnum.Trio?0:r===i.GameEnum.Hilo?1:r===i.GameEnum.SixQuiPrend?2:3)}},dependencies:[fs,qp,bu,ul,yE,om,im],styles:[".align-select[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:4rem 0}"]})};var PO=[{path:"",component:tm},{path:"scores",component:nm},{path:"addScores",component:am}];var kO={providers:[GD({eventCoalescing:!0}),q1(()=>G1(RR.firebaseConfig)),tM(()=>nM()),TR(PO),kM()]};var LO=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"path",1),V()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var FO=(()=>{class n extends St{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rt(n)))(r||n)}})();static \u0275cmp=oe({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Ye,Te],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Et(),F(0,"svg",0),Q(1,"path",1),V()),i&2&&(pe(r.getClassNames()),K("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var VO=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=Be({type:n});static \u0275inj=Ue({imports:[$t,Jw,gs,Tu,Vt,LO,FO,Jw,Tu,Vt]})}return n})();var Eq=(n,e)=>e.label,bq=()=>({exact:!0});function Cq(n,e){if(n&1&&(F(0,"a",1)(1,"span",3),ft(2),V()()),n&2){let t=e.$implicit;E("routerLink",t.routerLink)("routerLinkActiveOptions",Hn(3,bq)),T(2),Xt(t.label)}}function Tq(n,e){n&1&&Q(0,"a",2),n&2&&E("routerLink","/addScores")}var lm=class n{constructor(e){this.router=e}items;ngOnInit(){this.items=[{label:"Statistiques",root:!0,routerLink:"/"},{label:"Scores",root:!0,routerLink:"/scores"}]}get showAddButton(){return this.router.url!=="/addScores"}static \u0275fac=function(t){return new(t||n)(P(Nn))};static \u0275cmp=oe({type:n,selectors:[["app-root"]],standalone:!0,features:[Te],decls:7,vars:1,consts:[[1,"links","justify-center"],["routerLinkActive","active-link",1,"menu-link",3,"routerLink","routerLinkActiveOptions"],["title","Enregistrer des scores",1,"pi","pi-plus","p-button","p-button-icon","add-button",3,"routerLink"],[1,"ml-2"]],template:function(t,i){t&1&&(F(0,"header")(1,"div",0),Ph(2,Cq,3,4,"a",1,Eq),V()(),F(4,"main"),Q(5,"router-outlet"),j(6,Tq,1,1,"a",2),V()),t&2&&(T(2),kh(i.items),T(4),Nh(i.showAddButton?6:-1))},dependencies:[Gw,VO,Op,bR],styles:["main[_ngcontent-%COMP%]{max-height:100vh}.links[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:row;gap:2rem;margin-bottom:1rem}.menu-link[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;overflow:hidden;position:relative;font-weight:600;font-size:1.125rem;padding:1rem 2rem;text-decoration:none;color:#000}.add-button[_ngcontent-%COMP%]{color:#fff;text-decoration:none;position:fixed;bottom:1rem;right:1rem;cursor:pointer}.active-link[_ngcontent-%COMP%]{background:#dbecff}"]})};g1(lm,kO).catch(n=>console.error(n));
