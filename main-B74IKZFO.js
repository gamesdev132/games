var fM=Object.defineProperty,pM=Object.defineProperties;var mM=Object.getOwnPropertyDescriptors;var Hc=Object.getOwnPropertySymbols;var DE=Object.prototype.hasOwnProperty,SE=Object.prototype.propertyIsEnumerable;var TE=(n,e,t)=>e in n?fM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})DE.call(e,t)&&TE(n,t,e[t]);if(Hc)for(var t of Hc(e))SE.call(e,t)&&TE(n,t,e[t]);return n},Te=(n,e)=>pM(n,mM(e));var AE=(n,e)=>{var t={};for(var i in n)DE.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&Hc)for(var i of Hc(n))e.indexOf(i)<0&&SE.call(n,i)&&(t[i]=n[i]);return t};var M=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(u){r(u)}},o=l=>{try{a(t.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function xE(n,e){return Object.is(n,e)}var Ct=null,Na=!1,zc=1,si=Symbol("SIGNAL");function Oe(n){let e=Ct;return Ct=n,e}function ME(){return Ct}function gM(){return Na}var js={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ep(n){if(Na)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(n);let e=Ct.nextProducerIndex++;if(Yc(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==n&&Pa(Ct)){let t=Ct.producerNode[e];Qc(t,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==n&&(Ct.producerNode[e]=n,Ct.producerIndexOfThis[e]=Pa(Ct)?kE(n,Ct,e):0),Ct.producerLastReadVersion[e]=n.version}function yM(){zc++}function RE(n){if(!(Pa(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===zc)){if(!n.producerMustRecompute(n)&&!Wc(n)){n.dirty=!1,n.lastCleanEpoch=zc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=zc}}function OE(n){if(n.liveConsumerNode===void 0)return;let e=Na;Na=!0;try{for(let t of n.liveConsumerNode)t.dirty||PE(t)}finally{Na=e}}function NE(){return Ct?.consumerAllowSignalWrites!==!1}function PE(n){n.dirty=!0,OE(n),n.consumerMarkedDirty?.(n)}function ka(n){return n&&(n.nextProducerIndex=0),Oe(n)}function Gc(n,e){if(Oe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Pa(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Qc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Wc(n){Yc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(RE(t),i!==t.version))return!0}return!1}function Kc(n){if(Yc(n),Pa(n))for(let e=0;e<n.producerNode.length;e++)Qc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function kE(n,e,t){if(LE(n),n.liveConsumerNode.length===0&&FE(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=kE(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Qc(n,e){if(LE(n),n.liveConsumerNode.length===1&&FE(n))for(let i=0;i<n.producerNode.length;i++)Qc(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Yc(r),r.producerIndexOfThis[i]=e}}function Pa(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Yc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function LE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function FE(n){return n.producerNode!==void 0}function VE(n){let e=Object.create(_M);e.computation=n;let t=()=>{if(RE(e),ep(e),e.value===qc)throw e.error;return e.value};return t[si]=e,t}var Zf=Symbol("UNSET"),Jf=Symbol("COMPUTING"),qc=Symbol("ERRORED"),_M=Te(k({},js),{value:Zf,dirty:!0,error:null,equal:xE,producerMustRecompute(n){return n.value===Zf||n.value===Jf},producerRecomputeValue(n){if(n.value===Jf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Jf;let t=ka(n),i;try{i=n.computation()}catch(r){i=qc,n.error=r}finally{Gc(n,t)}if(e!==Zf&&e!==qc&&i!==qc&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function vM(){throw new Error}var UE=vM;function jE(){UE()}function BE(n){UE=n}var IM=null;function $E(n){let e=Object.create(zE);e.value=n;let t=()=>(ep(e),e.value);return t[si]=e,t}function tp(n,e){NE()||jE(),n.equal(n.value,e)||(n.value=e,wM(n))}function HE(n,e){NE()||jE(),tp(n,e(n.value))}var zE=Te(k({},js),{equal:xE,value:void 0});function wM(n){n.version++,yM(),OE(n),IM?.()}function qE(n,e,t){let i=Object.create(EM);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(Kc(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=Xf)}let a=()=>{if(i.fn===null)return;if(gM())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Wc(i))return;i.hasRun=!0;let l=ka(i);try{i.cleanupFn(),i.cleanupFn=Xf,i.fn(r)}finally{Gc(i,l)}};return i.ref={notify:()=>PE(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[si]:i},i.ref}var Xf=()=>{},EM=Te(k({},js),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:Xf});function ae(n){return typeof n=="function"}function Bs(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Zc=Bs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Kr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ut=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ae(i))try{i()}catch(s){e=s instanceof Zc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{GE(s)}catch(o){e=e??[],o instanceof Zc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Zc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)GE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Kr(t,e)}remove(e){let{_finalizers:t}=this;t&&Kr(t,e),e instanceof n&&e._removeParent(this)}};ut.EMPTY=(()=>{let n=new ut;return n.closed=!0,n})();var np=ut.EMPTY;function Jc(n){return n instanceof ut||n&&"closed"in n&&ae(n.remove)&&ae(n.add)&&ae(n.unsubscribe)}function GE(n){ae(n)?n():n.unsubscribe()}var Wn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $s={setTimeout(n,e,...t){let{delegate:i}=$s;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=$s;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Xc(n){$s.setTimeout(()=>{let{onUnhandledError:e}=Wn;if(e)e(n);else throw n})}function La(){}var WE=ip("C",void 0,void 0);function KE(n){return ip("E",void 0,n)}function QE(n){return ip("N",n,void 0)}function ip(n,e,t){return{kind:n,value:e,error:t}}var Qr=null;function Hs(n){if(Wn.useDeprecatedSynchronousErrorHandling){let e=!Qr;if(e&&(Qr={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=Qr;if(Qr=null,t)throw i}}else n()}function YE(n){Wn.useDeprecatedSynchronousErrorHandling&&Qr&&(Qr.errorThrown=!0,Qr.error=n)}var Yr=class extends ut{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jc(e)&&e.add(this)):this.destination=TM}static create(e,t,i){return new zs(e,t,i)}next(e){this.isStopped?sp(QE(e),this):this._next(e)}error(e){this.isStopped?sp(KE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?sp(WE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},bM=Function.prototype.bind;function rp(n,e){return bM.call(n,e)}var op=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){eu(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){eu(i)}else eu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){eu(t)}}},zs=class extends Yr{constructor(e,t,i){super();let r;if(ae(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&Wn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&rp(e.next,s),error:e.error&&rp(e.error,s),complete:e.complete&&rp(e.complete,s)}):r=e}this.destination=new op(r)}};function eu(n){Wn.useDeprecatedSynchronousErrorHandling?YE(n):Xc(n)}function CM(n){throw n}function sp(n,e){let{onStoppedNotification:t}=Wn;t&&$s.setTimeout(()=>t(n,e))}var TM={closed:!0,next:La,error:CM,complete:La};var qs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(n){return n}function ap(...n){return lp(n)}function lp(n){return n.length===0?pn:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var ke=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=SM(t)?t:new zs(t,i,r);return Hs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=ZE(i),new i((r,s)=>{let o=new zs({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[qs](){return this}pipe(...t){return lp(t)(this)}toPromise(t){return t=ZE(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function ZE(n){var e;return(e=n??Wn.Promise)!==null&&e!==void 0?e:Promise}function DM(n){return n&&ae(n.next)&&ae(n.error)&&ae(n.complete)}function SM(n){return n&&n instanceof Yr||DM(n)&&Jc(n)}function cp(n){return ae(n?.lift)}function Ae(n){return e=>{if(cp(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function xe(n,e,t,i,r){return new up(n,e,t,i,r)}var up=class extends Yr{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gs(){return Ae((n,e)=>{let t=null;n._refCount++;let i=xe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var Ws=class extends ke{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,cp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ut;let t=this.getSubject();e.add(this.source.subscribe(xe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ut.EMPTY)}return e}refCount(){return Gs()(this)}};var JE=Bs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Tt=(()=>{class n extends ke{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new tu(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new JE}next(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Hs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?np:(this.currentObservers=null,s.push(t),new ut(()=>{this.currentObservers=null,Kr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new ke;return t.source=this,t}}return n.create=(e,t)=>new tu(e,t),n})(),tu=class extends Tt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:np}};var Ft=class extends Tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var dp={now(){return(dp.delegate||Date).now()},delegate:void 0};var nu=class extends ut{constructor(e,t){super()}schedule(e,t=0){return this}};var Fa={setInterval(n,e,...t){let{delegate:i}=Fa;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Fa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ks=class extends nu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return Fa.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Fa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Kr(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Qs=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};Qs.now=dp.now;var Ys=class extends Qs{constructor(e,t=Qs.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var hp=new Ys(Ks);var iu=class extends Ks{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var ru=class extends Ys{};var fp=new ru(iu);var mn=new ke(n=>n.complete());function XE(n){return n&&ae(n.schedule)}function e0(n){return n[n.length-1]}function t0(n){return ae(e0(n))?n.pop():void 0}function ur(n){return XE(e0(n))?n.pop():void 0}function pp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function i0(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{u(i.next(h))}catch(p){o(p)}}function l(h){try{u(i.throw(h))}catch(p){o(p)}}function u(h){h.done?s(h.value):r(h.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function n0(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zr(n){return this instanceof Zr?(this.v=n,this):new Zr(n)}function r0(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(v){return Promise.resolve(v).then(y,p)}}function a(y,v){i[y]&&(r[y]=function(S){return new Promise(function(A,O){s.push([y,S,A,O])>1||l(y,S)})},v&&(r[y]=v(r[y])))}function l(y,v){try{u(i[y](v))}catch(S){m(s[0][3],S)}}function u(y){y.value instanceof Zr?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){l("next",y)}function p(y){l("throw",y)}function m(y,v){y(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function s0(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof n0=="function"?n0(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var su=n=>n&&typeof n.length=="number"&&typeof n!="function";function ou(n){return ae(n?.then)}function au(n){return ae(n[qs])}function lu(n){return Symbol.asyncIterator&&ae(n?.[Symbol.asyncIterator])}function cu(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function AM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var uu=AM();function du(n){return ae(n?.[uu])}function hu(n){return r0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield Zr(t.read());if(r)return yield Zr(void 0);yield yield Zr(i)}}finally{t.releaseLock()}})}function fu(n){return ae(n?.getReader)}function At(n){if(n instanceof ke)return n;if(n!=null){if(au(n))return xM(n);if(su(n))return MM(n);if(ou(n))return RM(n);if(lu(n))return o0(n);if(du(n))return OM(n);if(fu(n))return NM(n)}throw cu(n)}function xM(n){return new ke(e=>{let t=n[qs]();if(ae(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function MM(n){return new ke(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function RM(n){return new ke(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Xc)})}function OM(n){return new ke(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function o0(n){return new ke(e=>{PM(n,e).catch(t=>e.error(t))})}function NM(n){return o0(hu(n))}function PM(n,e){var t,i,r,s;return i0(this,void 0,void 0,function*(){try{for(t=s0(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function an(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function dr(n,e=0){return Ae((t,i)=>{t.subscribe(xe(i,r=>an(i,n,()=>i.next(r),e),()=>an(i,n,()=>i.complete(),e),r=>an(i,n,()=>i.error(r),e)))})}function hr(n,e=0){return Ae((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function a0(n,e){return At(n).pipe(hr(e),dr(e))}function l0(n,e){return At(n).pipe(hr(e),dr(e))}function c0(n,e){return new ke(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function u0(n,e){return new ke(t=>{let i;return an(t,e,()=>{i=n[uu](),an(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>ae(i?.return)&&i.return()})}function pu(n,e){if(!n)throw new Error("Iterable cannot be null");return new ke(t=>{an(t,e,()=>{let i=n[Symbol.asyncIterator]();an(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function d0(n,e){return pu(hu(n),e)}function h0(n,e){if(n!=null){if(au(n))return a0(n,e);if(su(n))return c0(n,e);if(ou(n))return l0(n,e);if(lu(n))return pu(n,e);if(du(n))return u0(n,e);if(fu(n))return d0(n,e)}throw cu(n)}function ft(n,e){return e?h0(n,e):At(n)}function oe(...n){let e=ur(n);return ft(n,e)}function Zs(n,e){let t=ae(n)?n:()=>n,i=r=>r.error(t());return new ke(e?r=>e.schedule(i,0,r):i)}function mp(n){return!!n&&(n instanceof ke||ae(n.lift)&&ae(n.subscribe))}var Ri=Bs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function De(n,e){return Ae((t,i)=>{let r=0;t.subscribe(xe(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:kM}=Array;function LM(n,e){return kM(e)?n(...e):n(e)}function f0(n){return De(e=>LM(n,e))}var{isArray:FM}=Array,{getPrototypeOf:VM,prototype:UM,keys:jM}=Object;function p0(n){if(n.length===1){let e=n[0];if(FM(e))return{args:e,keys:null};if(BM(e)){let t=jM(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function BM(n){return n&&typeof n=="object"&&VM(n)===UM}function m0(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function Va(...n){let e=ur(n),t=t0(n),{args:i,keys:r}=p0(n);if(i.length===0)return ft([],e);let s=new ke($M(i,e,r?o=>m0(r,o):pn));return t?s.pipe(f0(t)):s}function $M(n,e,t=pn){return i=>{g0(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)g0(e,()=>{let u=ft(n[l],e),h=!1;u.subscribe(xe(i,p=>{s[l]=p,h||(h=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function g0(n,e,t){n?an(t,n,e):e()}function y0(n,e,t,i,r,s,o,a){let l=[],u=0,h=0,p=!1,m=()=>{p&&!l.length&&!u&&e.complete()},y=S=>u<i?v(S):l.push(S),v=S=>{s&&e.next(S),u++;let A=!1;At(t(S,h++)).subscribe(xe(e,O=>{r?.(O),s?y(O):e.next(O)},()=>{A=!0},void 0,()=>{if(A)try{for(u--;l.length&&u<i;){let O=l.shift();o?an(e,o,()=>v(O)):v(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(xe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function yt(n,e,t=1/0){return ae(e)?yt((i,r)=>De((s,o)=>e(i,s,r,o))(At(n(i,r))),t):(typeof e=="number"&&(t=e),Ae((i,r)=>y0(i,r,n,t)))}function Js(n=1/0){return yt(pn,n)}function _0(){return Js(1)}function Xs(...n){return _0()(ft(n,ur(n)))}function mu(n){return new ke(e=>{At(n()).subscribe(e)})}function Rn(n,e){return Ae((t,i)=>{let r=0;t.subscribe(xe(i,s=>n.call(e,s,r++)&&i.next(s)))})}function fr(n){return Ae((e,t)=>{let i=null,r=!1,s;i=e.subscribe(xe(t,void 0,void 0,o=>{s=At(n(o,fr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function v0(n,e,t,i,r){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(xe(o,h=>{let p=u++;l=a?n(l,h,p):(a=!0,h),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function Jr(n,e){return ae(e)?yt(n,e,1):yt(n,1)}function pr(n){return Ae((e,t)=>{let i=!1;e.subscribe(xe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Oi(n){return n<=0?()=>mn:Ae((e,t)=>{let i=0;e.subscribe(xe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function gp(n){return De(()=>n)}function gu(n=HM){return Ae((e,t)=>{let i=!1;e.subscribe(xe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function HM(){return new Ri}function Ua(n){return Ae((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function oi(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):pn,Oi(1),t?pr(e):gu(()=>new Ri))}function eo(n){return n<=0?()=>mn:Ae((e,t)=>{let i=[];e.subscribe(xe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function yp(n,e){let t=arguments.length>=2;return i=>i.pipe(n?Rn((r,s)=>n(r,s,i)):pn,eo(1),t?pr(e):gu(()=>new Ri))}function _p(n,e){return Ae(v0(n,e,arguments.length>=2,!0))}function vp(...n){let e=ur(n);return Ae((t,i)=>{(e?Xs(n,t,e):Xs(n,t)).subscribe(i)})}function On(n,e){return Ae((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(xe(i,l=>{r?.unsubscribe();let u=0,h=s++;At(n(l,h)).subscribe(r=xe(i,p=>i.next(e?e(l,p,h,u++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function Ip(n){return Ae((e,t)=>{At(n).subscribe(xe(t,()=>t.complete(),La)),!t.closed&&e.subscribe(t)})}function Dt(n,e,t){let i=ae(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ae((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(xe(s,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),s.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):pn}var lb="https://g.co/ng/security#xss",U=class extends Error{constructor(e,t){super(jm(e,t)),this.code=e}};function jm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Za(n){return{toString:n}.toString()}var yu="__parameters__";function zM(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function cb(n,e,t){return Za(()=>{let i=zM(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,u,h){let p=l.hasOwnProperty(yu)?l[yu]:Object.defineProperty(l,yu,{value:[]})[yu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Pp=globalThis;function qe(n){for(let e in n)if(n[e]===qe)return e;throw Error("Could not find renamed property on target object.")}function qM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function rn(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(rn).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function kp(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var GM=qe({__forward_ref__:qe});function us(n){return n.__forward_ref__=us,n.toString=function(){return rn(this())},n}function nn(n){return ub(n)?n():n}function ub(n){return typeof n=="function"&&n.hasOwnProperty(GM)&&n.__forward_ref__===us}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ge(n){return{providers:n.providers||[],imports:n.imports||[]}}function ed(n){return I0(n,hb)||I0(n,fb)}function db(n){return ed(n)!==null}function I0(n,e){return n.hasOwnProperty(e)?n[e]:null}function WM(n){let e=n&&(n[hb]||n[fb]);return e||null}function w0(n){return n&&(n.hasOwnProperty(E0)||n.hasOwnProperty(KM))?n[E0]:null}var hb=qe({\u0275prov:qe}),E0=qe({\u0275inj:qe}),fb=qe({ngInjectableDef:qe}),KM=qe({ngInjectorDef:qe}),ne=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function pb(n){return n&&!!n.\u0275providers}var QM=qe({\u0275cmp:qe}),YM=qe({\u0275dir:qe}),ZM=qe({\u0275pipe:qe}),JM=qe({\u0275mod:qe}),xu=qe({\u0275fac:qe}),Ba=qe({__NG_ELEMENT_ID__:qe}),b0=qe({__NG_ENV_ID__:qe});function td(n){return typeof n=="string"?n:n==null?"":String(n)}function XM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():td(n)}function eR(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,n)}function Bm(n,e){throw new U(-201,!1)}var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{}),Lp;function mb(){return Lp}function Nn(n){let e=Lp;return Lp=n,e}function gb(n,e,t){let i=ed(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&ve.Optional)return null;if(e!==void 0)return e;Bm(n,"Injector")}var tR={},$a=tR,Fp="__NG_DI_FLAG__",Mu="ngTempTokenPath",nR="ngTokenPath",iR=/\n/gm,rR="\u0275",C0="__source",so;function sR(){return so}function mr(n){let e=so;return so=n,e}function oR(n,e=ve.Default){if(so===void 0)throw new U(-203,!1);return so===null?gb(n,void 0,e):so.get(n,e&ve.Optional?null:void 0,e)}function ie(n,e=ve.Default){return(mb()||oR)(nn(n),e)}function V(n,e=ve.Default){return ie(n,nd(e))}function nd(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vp(n){let e=[];for(let t=0;t<n.length;t++){let i=nn(n[t]);if(Array.isArray(i)){if(i.length===0)throw new U(900,!1);let r,s=ve.Default;for(let o=0;o<i.length;o++){let a=i[o],l=aR(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(ie(r,s))}else e.push(ie(i))}return e}function yb(n,e){return n[Fp]=e,n.prototype[Fp]=e,n}function aR(n){return n[Fp]}function lR(n,e,t,i){let r=n[Mu];throw e[C0]&&r.unshift(e[C0]),n.message=cR(`
`+n.message,r,t,i),n[nR]=r,n[Mu]=null,n}function cR(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==rR?n.slice(2):n;let r=rn(e);if(Array.isArray(e))r=e.map(rn).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):rn(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(iR,`
  `)}`}var vn=yb(cb("Optional"),8);var id=yb(cb("SkipSelf"),4);function ao(n,e){let t=n.hasOwnProperty(xu);return t?n[xu]:null}function uR(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function dR(n){return n.flat(Number.POSITIVE_INFINITY)}function $m(n,e){n.forEach(t=>Array.isArray(t)?$m(t,e):e(t))}function _b(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ru(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hR(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function fR(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function rd(n,e,t){let i=Ja(n,e);return i>=0?n[i|1]=t:(i=~i,fR(n,i,e,t)),i}function wp(n,e){let t=Ja(n,e);if(t>=0)return n[t|1]}function Ja(n,e){return pR(n,e,1)}function pR(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var lo={},ln=[],co=new ne(""),vb=new ne("",-1),Ib=new ne(""),Ou=class{get(e,t=$a){if(t===$a){let i=new Error(`NullInjectorError: No provider for ${rn(e)}!`);throw i.name="NullInjectorError",i}return t}},wb=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(wb||{}),ci=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(ci||{}),_r=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(_r||{});function mR(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function Up(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];gR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function Eb(n){return n===3||n===4||n===6}function gR(n){return n.charCodeAt(0)===64}function Ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?T0(n,t,r,null,e[++i]):T0(n,t,r,null,null))}}return n}function T0(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var bb="ng-template";function yR(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&mR(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Hm(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function Hm(n){return n.type===4&&n.value!==bb}function _R(n,e,t){let i=n.type===4&&!t?bb:n.value;return e===i}function vR(n,e,t){let i=4,r=n.attrs,s=r!==null?ER(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Kn(i)&&!Kn(l))return!1;if(o&&Kn(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!_R(n,l,t)||l===""&&e.length===1){if(Kn(i))return!1;o=!0}}else if(i&8){if(r===null||!yR(n,r,l,t)){if(Kn(i))return!1;o=!0}}else{let u=e[++a],h=IR(l,r,Hm(n),t);if(h===-1){if(Kn(i))return!1;o=!0;continue}if(u!==""){let p;if(h>s?p="":p=r[h+1].toLowerCase(),i&2&&u!==p){if(Kn(i))return!1;o=!0}}}}return Kn(i)||o}function Kn(n){return(n&1)===0}function IR(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return bR(e,n)}function Cb(n,e,t=!1){for(let i=0;i<e.length;i++)if(vR(n,e[i],t))return!0;return!1}function wR(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function ER(n){for(let e=0;e<n.length;e++){let t=n[e];if(Eb(t))return e}return n.length}function bR(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function CR(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function D0(n,e){return n?":not("+e.trim()+")":e}function TR(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Kn(o)&&(e+=D0(s,r),r=""),i=o,s=s||!Kn(i);t++}return r!==""&&(e+=D0(s,r)),e}function DR(n){return n.map(TR).join(",")}function SR(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!Kn(r))break;r=s}i++}return{attrs:e,classes:t}}function Ie(n){return Za(()=>{let e=xb(n),t=Te(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ci.Emulated,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null,id:""});Mb(t);let i=n.dependencies;return t.directiveDefs=A0(i,!1),t.pipeDefs=A0(i,!0),t.id=MR(t),t})}function AR(n){return vr(n)||Tb(n)}function xR(n){return n!==null}function We(n){return Za(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function S0(n,e){if(n==null)return lo;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=_r.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==_r.None?[i,a]:i,e[s]=o):t[s]=i}return t}function xt(n){return Za(()=>{let e=xb(n);return Mb(e),e})}function vr(n){return n[QM]||null}function Tb(n){return n[YM]||null}function Db(n){return n[ZM]||null}function Sb(n){let e=vr(n)||Tb(n)||Db(n);return e!==null?e.standalone:!1}function Ab(n,e){let t=n[JM]||null;if(!t&&e===!0)throw new Error(`Type ${rn(n)} does not have '\u0275mod' property.`);return t}function xb(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||lo,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:S0(n.inputs,e),outputs:S0(n.outputs),debugInfo:null}}function Mb(n){n.features?.forEach(e=>e(n))}function A0(n,e){if(!n)return null;let t=e?Db:AR;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(xR)}function MR(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Tr(n){return{\u0275providers:n}}function RR(...n){return{\u0275providers:Rb(!0,n),\u0275fromNgModule:!0}}function Rb(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return $m(e,o=>{let a=o;jp(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Ob(r,s),t}function Ob(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];zm(r,s=>{e(s,i)})}}function jp(n,e,t,i){if(n=nn(n),!n)return!1;let r=null,s=w0(n),o=!s&&vr(n);if(!s&&!o){let l=n.ngModule;if(s=w0(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)jp(u,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{$m(s.imports,h=>{jp(h,e,t,i)&&(u||=[],u.push(h))})}finally{}u!==void 0&&Ob(u,e)}if(!a){let u=ao(r)||(()=>new r);e({provide:r,useFactory:u,deps:ln},r),e({provide:Ib,useValue:r,multi:!0},r),e({provide:co,useValue:()=>ie(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let u=n;zm(l,h=>{e(h,u)})}}else return!1;return r!==n&&n.providers!==void 0}function zm(n,e){for(let t of n)pb(t)&&(t=t.\u0275providers),Array.isArray(t)?zm(t,e):e(t)}var OR=qe({provide:String,useValue:qe});function Nb(n){return n!==null&&typeof n=="object"&&OR in n}function NR(n){return!!(n&&n.useExisting)}function PR(n){return!!(n&&n.useFactory)}function uo(n){return typeof n=="function"}function kR(n){return!!n.useClass}var sd=new ne(""),Eu={},LR={},Ep;function qm(){return Ep===void 0&&(Ep=new Ou),Ep}var gn=class{},za=class extends gn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,$p(e,o=>this.processProvider(o)),this.records.set(vb,to(void 0,this)),r.has("environment")&&this.records.set(gn,to(void 0,this));let s=this.records.get(sd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Ib,ln,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Oe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Oe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=mr(this),i=Nn(void 0),r;try{return e()}finally{mr(t),Nn(i)}}get(e,t=$a,i=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(b0))return e[b0](this);i=nd(i);let r,s=mr(this),o=Nn(void 0);try{if(!(i&ve.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=BR(e)&&ed(e);u&&this.injectableDefInScope(u)?l=to(Bp(e),Eu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ve.Self?qm():this.parent;return t=i&ve.Optional&&t===$a?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Mu]=a[Mu]||[]).unshift(rn(e)),s)throw a;return lR(a,e,"R3InjectorError",this.source)}else throw a}finally{Nn(o),mr(s)}}resolveInjectorInitializers(){let e=Oe(null),t=mr(this),i=Nn(void 0),r;try{let s=this.get(co,ln,ve.Self);for(let o of s)o()}finally{mr(t),Nn(i),Oe(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(rn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){e=nn(e);let t=uo(e)?e:nn(e&&e.provide),i=VR(e);if(!uo(e)&&e.multi===!0){let r=this.records.get(t);r||(r=to(void 0,Eu,!0),r.factory=()=>Vp(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=Oe(null);try{return t.value===Eu&&(t.value=LR,t.value=t.factory()),typeof t.value=="object"&&t.value&&jR(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Oe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=nn(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Bp(n){let e=ed(n),t=e!==null?e.factory:ao(n);if(t!==null)return t;if(n instanceof ne)throw new U(204,!1);if(n instanceof Function)return FR(n);throw new U(204,!1)}function FR(n){if(n.length>0)throw new U(204,!1);let t=WM(n);return t!==null?()=>t.factory(n):()=>new n}function VR(n){if(Nb(n))return to(void 0,n.useValue);{let e=Pb(n);return to(e,Eu)}}function Pb(n,e,t){let i;if(uo(n)){let r=nn(n);return ao(r)||Bp(r)}else if(Nb(n))i=()=>nn(n.useValue);else if(PR(n))i=()=>n.useFactory(...Vp(n.deps||[]));else if(NR(n))i=()=>ie(nn(n.useExisting));else{let r=nn(n&&(n.useClass||n.provide));if(UR(n))i=()=>new r(...Vp(n.deps));else return ao(r)||Bp(r)}return i}function to(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UR(n){return!!n.deps}function jR(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function BR(n){return typeof n=="function"||typeof n=="object"&&n instanceof ne}function $p(n,e){for(let t of n)Array.isArray(t)?$p(t,e):t&&pb(t)?$p(t.\u0275providers,e):e(t)}function pi(n,e){n instanceof za&&n.assertNotDestroyed();let t,i=mr(n),r=Nn(void 0);try{return e()}finally{mr(i),Nn(r)}}function kb(){return mb()!==void 0||sR()!=null}function Lb(n){if(!kb())throw new U(-203,!1)}function $R(n){return typeof n=="function"}var ki=0,le=1,se=2,qt=3,Qn=4,cn=5,ho=6,Nu=7,sn=8,fo=9,ui=10,dt=11,qa=12,x0=13,Io=14,yn=15,ns=16,no=17,Ni=18,od=19,Fb=20,gr=21,bu=22,Pn=23,_n=25,Vb=1;var is=7,Pu=8,po=9,zt=10,ku=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ku||{});function yr(n){return Array.isArray(n)&&typeof n[Vb]=="object"}function Li(n){return Array.isArray(n)&&n[Vb]===!0}function Gm(n){return(n.flags&4)!==0}function ad(n){return n.componentOffset>-1}function ld(n){return(n.flags&1)===1}function Ir(n){return!!n.template}function Hp(n){return(n[se]&512)!==0}var zp=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function Ub(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function Zn(){return jb}function jb(n){return n.type.prototype.ngOnChanges&&(n.setInput=zR),HR}Zn.ngInherit=!0;function HR(){let n=$b(this),e=n?.current;if(e){let t=n.previous;if(t===lo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function zR(n,e,t,i,r){let s=this.declaredInputs[i],o=$b(n)||qR(n,{previous:lo,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new zp(u&&u.currentValue,t,l===lo),Ub(n,e,r,t)}var Bb="__ngSimpleChanges__";function $b(n){return n[Bb]||null}function qR(n,e){return n[Bb]=e}var M0=null;var ai=function(n,e,t){M0?.(n,e,t)},Hb="svg",GR="math";function di(n){for(;Array.isArray(n);)n=n[ki];return n}function zb(n,e){return di(e[n])}function Ln(n,e){return di(e[n.index])}function Wm(n,e){return n.data[e]}function WR(n,e){return n[e]}function Dr(n,e){let t=e[n];return yr(t)?t:t[ki]}function KR(n){return(n[se]&4)===4}function Km(n){return(n[se]&128)===128}function QR(n){return Li(n[qt])}function wr(n,e){return e==null?null:n[e]}function qb(n){n[no]=0}function Gb(n){n[se]&1024||(n[se]|=1024,Km(n)&&ud(n))}function YR(n,e){for(;n>0;)e=e[Io],n--;return e}function cd(n){return!!(n[se]&9216||n[Pn]?.dirty)}function qp(n){n[ui].changeDetectionScheduler?.notify(8),n[se]&64&&(n[se]|=1024),cd(n)&&ud(n)}function ud(n){n[ui].changeDetectionScheduler?.notify(0);let e=rs(n);for(;e!==null&&!(e[se]&8192||(e[se]|=8192,!Km(e)));)e=rs(e)}function Wb(n,e){if((n[se]&256)===256)throw new U(911,!1);n[gr]===null&&(n[gr]=[]),n[gr].push(e)}function ZR(n,e){if(n[gr]===null)return;let t=n[gr].indexOf(e);t!==-1&&n[gr].splice(t,1)}function rs(n){let e=n[qt];return Li(e)?e[qt]:e}var _e={lFrame:iC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Kb=!1;function JR(){return _e.lFrame.elementDepthCount}function XR(){_e.lFrame.elementDepthCount++}function eO(){_e.lFrame.elementDepthCount--}function Qb(){return _e.bindingsEnabled}function Yb(){return _e.skipHydrationRootTNode!==null}function tO(n){return _e.skipHydrationRootTNode===n}function nO(){_e.skipHydrationRootTNode=null}function pe(){return _e.lFrame.lView}function pt(){return _e.lFrame.tView}function Le(n){return _e.lFrame.contextLView=n,n[sn]}function Fe(n){return _e.lFrame.contextLView=null,n}function Vt(){let n=Zb();for(;n!==null&&n.type===64;)n=n.parent;return n}function Zb(){return _e.lFrame.currentTNode}function iO(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ds(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function Qm(){return _e.lFrame.isParent}function Ym(){_e.lFrame.isParent=!1}function rO(){return _e.lFrame.contextLView}function Jb(){return Kb}function R0(n){Kb=n}function Xa(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function sO(n){return _e.lFrame.bindingIndex=n}function el(){return _e.lFrame.bindingIndex++}function Xb(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function oO(){return _e.lFrame.inI18n}function aO(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gp(e)}function lO(){return _e.lFrame.currentDirectiveIndex}function Gp(n){_e.lFrame.currentDirectiveIndex=n}function cO(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function eC(){return _e.lFrame.currentQueryIndex}function Zm(n){_e.lFrame.currentQueryIndex=n}function uO(n){let e=n[le];return e.type===2?e.declTNode:e.type===1?n[cn]:null}function tC(n,e,t){if(t&ve.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&ve.Host);)if(r=uO(s),r===null||(s=s[Io],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=_e.lFrame=nC();return i.currentTNode=e,i.lView=n,!0}function Jm(n){let e=nC(),t=n[le];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function nC(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?iC(n):e}function iC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function rC(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sC=rC;function Xm(){let n=rC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dO(n){return(_e.lFrame.contextLView=YR(n,_e.lFrame.contextLView))[sn]}function Sr(){return _e.lFrame.selectedIndex}function ss(n){_e.lFrame.selectedIndex=n}function eg(){let n=_e.lFrame;return Wm(n.tView,n.selectedIndex)}function Wt(){_e.lFrame.currentNamespace=Hb}function hO(){return _e.lFrame.currentNamespace}var oC=!0;function dd(){return oC}function hd(n){oC=n}function fO(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=jb(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function fd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Cu(n,e,t){aC(n,e,3,t)}function Tu(n,e,t,i){(n[se]&3)===t&&aC(n,e,t,i)}function bp(n,e){let t=n[se];(t&3)===e&&(t&=16383,t+=1,n[se]=t)}function aC(n,e,t,i){let r=i!==void 0?n[no]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[no]+=65536),(a<s||s==-1)&&(pO(n,t,e,l),n[no]=(n[no]&4294901760)+l+2),l++}function O0(n,e){ai(4,n,e);let t=Oe(null);try{e.call(n)}finally{Oe(t),ai(5,n,e)}}function pO(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[se]>>14<n[no]>>16&&(n[se]&3)===e&&(n[se]+=16384,O0(a,s)):O0(a,s)}var oo=-1,os=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function mO(n){return n instanceof os}function gO(n){return(n.flags&8)!==0}function yO(n){return(n.flags&16)!==0}var Cp={},Wp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=nd(i);let r=this.injector.get(e,Cp,i);return r!==Cp||t===Cp?r:this.parentInjector.get(e,t,i)}};function lC(n){return n!==oo}function Lu(n){return n&32767}function _O(n){return n>>16}function Fu(n,e){let t=_O(n),i=e;for(;t>0;)i=i[Io],t--;return i}var Kp=!0;function N0(n){let e=Kp;return Kp=n,e}var vO=256,cC=vO-1,uC=5,IO=0,li={};function wO(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ba)&&(i=t[Ba]),i==null&&(i=t[Ba]=IO++);let r=i&cC,s=1<<r;e.data[n+(r>>uC)]|=s}function Vu(n,e){let t=dC(n,e);if(t!==-1)return t;let i=e[le];i.firstCreatePass&&(n.injectorIndex=e.length,Tp(i.data,n),Tp(e,null),Tp(i.blueprint,null));let r=tg(n,e),s=n.injectorIndex;if(lC(r)){let o=Lu(r),a=Fu(r,e),l=a[le].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=r,s}function Tp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function dC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function tg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=gC(r),i===null)return oo;if(t++,r=r[Io],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return oo}function Qp(n,e,t){wO(n,e,t)}function EO(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if(Eb(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function hC(n,e,t){if(t&ve.Optional||n!==void 0)return n;Bm(e,"NodeInjector")}function fC(n,e,t,i){if(t&ve.Optional&&i===void 0&&(i=null),!(t&(ve.Self|ve.Host))){let r=n[fo],s=Nn(void 0);try{return r?r.get(e,i,t&ve.Optional):gb(e,i,t&ve.Optional)}finally{Nn(s)}}return hC(i,e,t)}function pC(n,e,t,i=ve.Default,r){if(n!==null){if(e[se]&2048&&!(i&ve.Self)){let o=DO(n,e,t,i,li);if(o!==li)return o}let s=mC(n,e,t,i,li);if(s!==li)return s}return fC(e,t,i,r)}function mC(n,e,t,i,r){let s=CO(t);if(typeof s=="function"){if(!tC(e,n,i))return i&ve.Host?hC(r,t,i):fC(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&ve.Optional))Bm(t);else return o}finally{sC()}}else if(typeof s=="number"){let o=null,a=dC(n,e),l=oo,u=i&ve.Host?e[yn][cn]:null;for((a===-1||i&ve.SkipSelf)&&(l=a===-1?tg(n,e):e[a+8],l===oo||!k0(i,!1)?a=-1:(o=e[le],a=Lu(l),e=Fu(l,e)));a!==-1;){let h=e[le];if(P0(s,a,h.data)){let p=bO(a,e,t,o,i,u);if(p!==li)return p}l=e[a+8],l!==oo&&k0(i,e[le].data[a+8]===u)&&P0(s,a,e)?(o=h,a=Lu(l),e=Fu(l,e)):a=-1}}return r}function bO(n,e,t,i,r,s){let o=e[le],a=o.data[n+8],l=i==null?ad(a)&&Kp:i!=o&&(a.type&3)!==0,u=r&ve.Host&&s===a,h=Du(a,o,t,l,u);return h!==null?as(e,o,h,a):li}function Du(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,u=n.directiveEnd,h=s>>20,p=i?a:a+h,m=r?a+h:u;for(let y=p;y<m;y++){let v=o[y];if(y<l&&t===v||y>=l&&v.type===t)return y}if(r){let y=o[l];if(y&&Ir(y)&&y.type===t)return l}return null}function as(n,e,t,i){let r=n[t],s=e.data;if(mO(r)){let o=r;o.resolving&&eR(XM(s[t]));let a=N0(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?Nn(o.injectImpl):null,h=tC(n,i,ve.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&fO(t,s[t],e)}finally{u!==null&&Nn(u),N0(a),o.resolving=!1,sC()}}return r}function CO(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ba)?n[Ba]:void 0;return typeof e=="number"?e>=0?e&cC:TO:e}function P0(n,e,t){let i=1<<n;return!!(t[e+(n>>uC)]&i)}function k0(n,e){return!(n&ve.Self)&&!(n&ve.Host&&e)}var ts=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return pC(this._tNode,this._lView,e,nd(i),t)}};function TO(){return new ts(Vt(),pe())}function _t(n){return Za(()=>{let e=n.prototype.constructor,t=e[xu]||Yp(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[xu]||Yp(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Yp(n){return ub(n)?()=>{let e=Yp(nn(n));return e&&e()}:ao(n)}function DO(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[se]&2048&&!(o[se]&512);){let a=mC(s,o,t,i|ve.Self,li);if(a!==li)return a;let l=s.parent;if(!l){let u=o[Fb];if(u){let h=u.get(t,li,i);if(h!==li)return h}l=gC(o),o=o[Io]}s=l}return r}function gC(n){let e=n[le],t=e.type;return t===2?e.declTNode:t===1?n[cn]:null}function ng(n){return EO(Vt(),n)}function L0(n,e=null,t=null,i){let r=yC(n,e,t,i);return r.resolveInjectorInitializers(),r}function yC(n,e=null,t=null,i,r=new Set){let s=[t||ln,RR(n)];return i=i||(typeof n=="object"?void 0:rn(n)),new za(s,e||qm(),i||null,r)}var Xr=class Xr{static create(e,t){if(Array.isArray(e))return L0({name:""},t,e,"");{let i=e.name??"";return L0({name:i},e.parent,e.providers,i)}}};Xr.THROW_IF_NOT_FOUND=$a,Xr.NULL=new Ou,Xr.\u0275prov=W({token:Xr,providedIn:"any",factory:()=>ie(vb)}),Xr.__NG_ELEMENT_ID__=-1;var Gt=Xr;var SO=new ne("");SO.__NG_ELEMENT_ID__=n=>{let e=Vt();if(e===null)throw new U(204,!1);if(e.type&2)return e.value;if(n&ve.Optional)return null;throw new U(204,!1)};var AO="ngOriginalError";function Dp(n){return n[AO]}var _C=!0,pd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xO,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),Zp=class extends pd{constructor(e){super(),this._lView=e}onDestroy(e){return Wb(this._lView,e),()=>ZR(this._lView,e)}};function xO(){return new Zp(pe())}var hs=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ft(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var Jp=class extends Tt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,kb()&&(this.destroyRef=V(pd,{optional:!0})??void 0,this.pendingTasks=V(hs,{optional:!0})??void 0)}emit(e){let t=Oe(null);try{super.next(e)}finally{Oe(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof ut&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},fe=Jp;function Uu(...n){}function vC(n){let e,t;function i(){n=Uu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function F0(n){return queueMicrotask(()=>n()),()=>{n=Uu}}var ig="isAngularZone",ju=ig+"_ID",MO=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fe(!1),this.onMicrotaskEmpty=new fe(!1),this.onStable=new fe(!1),this.onError=new fe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=_C}=e;if(typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,NO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ig)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new U(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,RO,Uu,Uu);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},RO={};function rg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function OO(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){vC(()=>{n.callbackScheduled=!1,Xp(n),n.isCheckStableRunning=!0,rg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Xp(n)}function NO(n){let e=()=>{OO(n)},t=MO++;n._inner=n._inner.fork({name:"angular",properties:{[ig]:!0,[ju]:t,[ju+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(PO(l))return i.invokeTask(s,o,a,l);try{return V0(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),U0(n)}},onInvoke:(i,r,s,o,a,l,u)=>{try{return V0(n),i.invoke(s,o,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!kO(l)&&e(),U0(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,Xp(n),rg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function Xp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function V0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function U0(n){n._nesting--,rg(n)}var em=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fe,this.onMicrotaskEmpty=new fe,this.onStable=new fe,this.onError=new fe}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function PO(n){return IC(n,"__ignore_ng_zone__")}function kO(n){return IC(n,"__scheduler_tick__")}function IC(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var hi=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Dp(e);for(;t&&Dp(t);)t=Dp(t);return t||null}},LO=new ne("",{providedIn:"root",factory:()=>{let n=V(ye),e=V(hi);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function FO(){return wo(Vt(),pe())}function wo(n,e){return new rt(Ln(n,e))}var rt=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=FO;let n=e;return n})();function VO(n){return n instanceof rt?n.nativeElement:n}function UO(){return this._results[Symbol.iterator]()}var tm=class n{get changes(){return this._changes??=new fe}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=UO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=dR(e);(this._changesDetected=!uR(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function wC(n){return(n.flags&128)===128}var EC=new Map,jO=0;function BO(){return jO++}function $O(n){EC.set(n[od],n)}function nm(n){EC.delete(n[od])}var j0="__ngContext__";function Er(n,e){yr(e)?(n[j0]=e[od],$O(e)):n[j0]=e}function bC(n){return TC(n[qa])}function CC(n){return TC(n[Qn])}function TC(n){for(;n!==null&&!Li(n);)n=n[Qn];return n}var im;function DC(n){im=n}function HO(){if(im!==void 0)return im;if(typeof document<"u")return document;throw new U(210,!1)}var sg=new ne("",{providedIn:"root",factory:()=>zO}),zO="ng",og=new ne(""),vt=new ne("",{providedIn:"platform",factory:()=>"unknown"});var ag=new ne(""),lg=new ne("",{providedIn:"root",factory:()=>HO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var qO="h",GO="b";var WO=()=>null;function cg(n,e,t=!1){return WO(n,e,t)}var SC=!1,KO=new ne("",{providedIn:"root",factory:()=>SC});var _u;function QO(){if(_u===void 0&&(_u=null,Pp.trustedTypes))try{_u=Pp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _u}function B0(n){return QO()?.createScriptURL(n)||n}var Bu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lb})`}};function fs(n){return n instanceof Bu?n.changingThisBreaksApplicationSecurity:n}function ug(n,e){let t=YO(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lb})`)}return t===e}function YO(n){return n instanceof Bu&&n.getTypeName()||null}var ZO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AC(n){return n=String(n),n.match(ZO)?n:"unsafe:"+n}var md=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(md||{});function xC(n){let e=RC();return e?e.sanitize(md.URL,n)||"":ug(n,"URL")?fs(n):AC(td(n))}function JO(n){let e=RC();if(e)return B0(e.sanitize(md.RESOURCE_URL,n)||"");if(ug(n,"ResourceURL"))return B0(fs(n));throw new U(904,!1)}function XO(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?JO:xC}function MC(n,e,t){return XO(e,t)(n)}function RC(){let n=pe();return n&&n[ui].sanitizer}var eN=/^>|^->|<!--|-->|--!>|<!-$/g,tN=/(<|>)/g,nN="\u200B$1\u200B";function iN(n){return n.replace(eN,e=>e.replace(tN,nN))}function OC(n){return n.ownerDocument}function NC(n){return n instanceof Function?n():n}function rN(n){return(n??V(Gt)).get(vt)==="browser"}var fi=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(fi||{}),sN;function dg(n,e){return sN(n,e)}function io(n,e,t,i,r){if(i!=null){let s,o=!1;Li(i)?s=i:yr(i)&&(o=!0,i=i[ki]);let a=di(i);n===0&&t!==null?r==null?VC(e,t,a):$u(e,t,a,r||null,!0):n===1&&t!==null?$u(e,t,a,r||null,!0):n===2?vN(e,a,o):n===3&&e.destroyNode(a),s!=null&&wN(e,n,s,t,r)}}function oN(n,e){return n.createText(e)}function aN(n,e,t){n.setValue(e,t)}function lN(n,e){return n.createComment(iN(e))}function PC(n,e,t){return n.createElement(e,t)}function cN(n,e){kC(n,e),e[ki]=null,e[cn]=null}function uN(n,e,t,i,r,s){i[ki]=r,i[cn]=e,_d(n,i,t,1,r,s)}function kC(n,e){e[ui].changeDetectionScheduler?.notify(9),_d(n,e,e[dt],2,null,null)}function dN(n){let e=n[qa];if(!e)return Sp(n[le],n);for(;e;){let t=null;if(yr(e))t=e[qa];else{let i=e[zt];i&&(t=i)}if(!t){for(;e&&!e[Qn]&&e!==n;)yr(e)&&Sp(e[le],e),e=e[qt];e===null&&(e=n),yr(e)&&Sp(e[le],e),t=e&&e[Qn]}e=t}}function hN(n,e,t,i){let r=zt+i,s=t.length;i>0&&(t[r-1][Qn]=e),i<s-zt?(e[Qn]=t[r],_b(t,zt+i,e)):(t.push(e),e[Qn]=null),e[qt]=t;let o=e[ns];o!==null&&t!==o&&LC(o,e);let a=e[Ni];a!==null&&a.insertView(n),qp(e),e[se]|=128}function LC(n,e){let t=n[po],i=e[qt];if(yr(i))n[se]|=ku.HasTransplantedViews;else{let r=i[qt][yn];e[yn]!==r&&(n[se]|=ku.HasTransplantedViews)}t===null?n[po]=[e]:t.push(e)}function hg(n,e){let t=n[po],i=t.indexOf(e);t.splice(i,1)}function Ga(n,e){if(n.length<=zt)return;let t=zt+e,i=n[t];if(i){let r=i[ns];r!==null&&r!==n&&hg(r,i),e>0&&(n[t-1][Qn]=i[Qn]);let s=Ru(n,zt+e);cN(i[le],i);let o=s[Ni];o!==null&&o.detachView(s[le]),i[qt]=null,i[Qn]=null,i[se]&=-129}return i}function gd(n,e){if(!(e[se]&256)){let t=e[dt];t.destroyNode&&_d(n,e,t,3,null,null),dN(e)}}function Sp(n,e){if(e[se]&256)return;let t=Oe(null);try{e[se]&=-129,e[se]|=256,e[Pn]&&Kc(e[Pn]),pN(n,e),fN(n,e),e[le].type===1&&e[dt].destroy();let i=e[ns];if(i!==null&&Li(e[qt])){i!==e[qt]&&hg(i,e);let r=e[Ni];r!==null&&r.detachView(n)}nm(e)}finally{Oe(t)}}function fN(n,e){let t=n.cleanup,i=e[Nu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[Nu]=null);let r=e[gr];if(r!==null){e[gr]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function pN(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof os)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];ai(4,a,l);try{l.call(a)}finally{ai(5,a,l)}}else{ai(4,r,s);try{s.call(r)}finally{ai(5,r,s)}}}}}function FC(n,e,t){return mN(n,e.parent,t)}function mN(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[ki];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===ci.None||s===ci.Emulated)return null}return Ln(i,t)}}function $u(n,e,t,i,r){n.insertBefore(e,t,i,r)}function VC(n,e,t){n.appendChild(e,t)}function $0(n,e,t,i,r){i!==null?$u(n,e,t,i,r):VC(n,e,t)}function UC(n,e){return n.parentNode(e)}function gN(n,e){return n.nextSibling(e)}function jC(n,e,t){return _N(n,e,t)}function yN(n,e,t){return n.type&40?Ln(n,t):null}var _N=yN,H0;function yd(n,e,t,i){let r=FC(n,i,e),s=e[dt],o=i.parent||e[cn],a=jC(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)$0(s,r,t[l],a,!1);else $0(s,r,t,a,!1);H0!==void 0&&H0(s,i,e,t,r)}function ja(n,e){if(e!==null){let t=e.type;if(t&3)return Ln(e,n);if(t&4)return rm(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return ja(n,i);{let r=n[e.index];return Li(r)?rm(-1,r):di(r)}}else{if(t&128)return ja(n,e.next);if(t&32)return dg(e,n)()||di(n[e.index]);{let i=BC(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=rs(n[yn]);return ja(r,i)}else return ja(n,e.next)}}}return null}function BC(n,e){if(e!==null){let i=n[yn][cn],r=e.projection;return i.projection[r]}return null}function rm(n,e){let t=zt+n+1;if(t<e.length){let i=e[t],r=i[le].firstChild;if(r!==null)return ja(i,r)}return e[is]}function vN(n,e,t){n.removeChild(null,e,t)}function fg(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Er(di(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)fg(n,e,t.child,i,r,s,!1),io(e,n,r,a,s);else if(l&32){let u=dg(t,i),h;for(;h=u();)io(e,n,r,h,s);io(e,n,r,a,s)}else l&16?$C(n,e,i,t,r,s):io(e,n,r,a,s);t=o?t.projectionNext:t.next}}function _d(n,e,t,i,r,s){fg(t,i,n.firstChild,e,r,s,!1)}function IN(n,e,t){let i=e[dt],r=FC(n,t,e),s=t.parent||e[cn],o=jC(s,t,e);$C(i,0,e,t,r,o)}function $C(n,e,t,i,r,s){let o=t[yn],l=o[cn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];io(e,n,r,h,s)}else{let u=l,h=o[qt];wC(i)&&(u.flags|=128),fg(n,e,u,h,r,s,!0)}}function wN(n,e,t,i,r){let s=t[is],o=di(t);s!==o&&io(e,n,i,s,r);for(let a=zt;a<t.length;a++){let l=t[a];_d(l[le],l,n,e,i,s)}}function EN(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:fi.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=fi.Important),n.setStyle(t,i,r,s))}}function bN(n,e,t){n.setAttribute(e,"style",t)}function HC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function zC(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&Up(n,e,i),r!==null&&HC(n,e,r),s!==null&&bN(n,e,s)}var mi={};function N(n=1){qC(pt(),pe(),Sr()+n,!1)}function qC(n,e,t,i){if(!i)if((e[se]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Cu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Tu(e,s,0,t)}ss(t)}function K(n,e=ve.Default){let t=pe();if(t===null)return ie(n,e);let i=Vt();return pC(i,t,nn(n),e)}function GC(){let n="invalid";throw new Error(n)}function WC(n,e,t,i,r,s){let o=Oe(null);try{let a=null;r&_r.SignalBased&&(a=e[i][si]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&_r.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):Ub(e,a,i,s)}finally{Oe(o)}}function CN(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)ss(~r);else{let s=r,o=t[++i],a=t[++i];aO(o,s);let l=e[s];a(2,l)}}}finally{ss(-1)}}function vd(n,e,t,i,r,s,o,a,l,u,h){let p=e.blueprint.slice();return p[ki]=r,p[se]=i|4|128|8|64,(u!==null||n&&n[se]&2048)&&(p[se]|=2048),qb(p),p[qt]=p[Io]=n,p[sn]=t,p[ui]=o||n&&n[ui],p[dt]=a||n&&n[dt],p[fo]=l||n&&n[fo]||null,p[cn]=s,p[od]=BO(),p[ho]=h,p[Fb]=u,p[yn]=e.type==2?n[yn]:p,p}function Eo(n,e,t,i,r){let s=n.data[e];if(s===null)s=TN(n,e,t,i,r),oO()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=iO();s.injectorIndex=o===null?-1:o.injectorIndex}return ds(s,!0),s}function TN(n,e,t,i,r){let s=Zb(),o=Qm(),a=o?s:s&&s.parent,l=n.data[e]=RN(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function KC(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function QC(n,e,t,i,r){let s=Sr(),o=i&2;try{ss(-1),o&&e.length>_n&&qC(n,e,_n,!1),ai(o?2:0,r),t(i,r)}finally{ss(s),ai(o?3:1,r)}}function pg(n,e,t){if(Gm(e)){let i=Oe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{Oe(i)}}}function mg(n,e,t){Qb()&&(FN(n,e,t,Ln(t,e)),(t.flags&64)===64&&XC(n,e,t))}function gg(n,e,t=Ln){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function YC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=yg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function yg(n,e,t,i,r,s,o,a,l,u,h){let p=_n+i,m=p+r,y=DN(p,m),v=typeof u=="function"?u():u;return y[le]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:h}}function DN(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:mi);return t}function SN(n,e,t,i){let s=i.get(KO,SC)||t===ci.ShadowDom,o=n.selectRootElement(e,s);return AN(o),o}function AN(n){xN(n)}var xN=()=>null;function MN(n,e,t,i){let r=nT(e);r.push(t),n.firstCreatePass&&iT(n).push(i,r.length-1)}function RN(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Yb()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function z0(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=_r.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?q0(i,t,u,a,l):q0(i,t,u,a)}return i}function q0(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function ON(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,u=null;for(let h=i;h<r;h++){let p=s[h],m=t?t.get(p):null,y=m?m.inputs:null,v=m?m.outputs:null;l=z0(0,p.inputs,h,l,y),u=z0(1,p.outputs,h,u,v);let S=l!==null&&o!==null&&!Hm(e)?KN(l,h,o):null;a.push(S)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function NN(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ZC(n,e,t,i,r,s,o,a){let l=Ln(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[i])?(vg(n,t,h,i,r),ad(e)&&PN(t,e.index)):e.type&3?(i=NN(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function PN(n,e){let t=Dr(e,n);t[se]&16||(t[se]|=64)}function _g(n,e,t,i){if(Qb()){let r=i===null?null:{"":-1},s=UN(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&JC(n,e,t,o,r,a),r&&jN(t,i,r)}t.mergedAttrs=Ha(t.mergedAttrs,t.attrs)}function JC(n,e,t,i,r,s){for(let u=0;u<i.length;u++)Qp(Vu(t,e),n,i[u].type);$N(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let h=i[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,l=KC(n,e,i.length,null);for(let u=0;u<i.length;u++){let h=i[u];t.mergedAttrs=Ha(t.mergedAttrs,h.hostAttrs),HN(n,t,e,l,h),BN(l,h,r),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}ON(n,t,s)}function kN(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;LN(o)!=a&&o.push(a),o.push(t,i,s)}}function LN(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function FN(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;ad(t)&&zN(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Vu(t,e),Er(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],u=as(e,n,a,t);if(Er(u,e),o!==null&&WN(e,a-r,u,l,t,o),Ir(l)){let h=Dr(t.index,e);h[sn]=as(e,n,a,t)}}}function XC(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=lO();try{ss(s);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];Gp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&VN(l,u)}}finally{ss(-1),Gp(o)}}function VN(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function UN(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(Cb(e,o.selectors,!1))if(i||(i=[]),Ir(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;sm(n,e,l)}else i.unshift(o),sm(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function sm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function jN(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new U(-301,!1);i.push(e[r],s)}}}function BN(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ir(e)&&(t[""]=n)}}function $N(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function HN(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=ao(r.type,!0)),o=new os(s,Ir(r),K);n.blueprint[i]=o,t[i]=o,kN(n,e,i,KC(n,t,r.hostVars,mi),r)}function zN(n,e,t){let i=Ln(e,n),r=YC(t),s=n[ui].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Id(n,vd(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function qN(n,e,t,i,r,s){let o=Ln(n,e);GN(e[dt],o,s,n.value,t,i,r)}function GN(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?td(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function WN(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],u=o[a++],h=o[a++],p=o[a++];WC(i,t,l,u,h,p)}}function KN(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function eT(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function tT(n,e){let t=n.contentQueries;if(t!==null){let i=Oe(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];Zm(s),a.contentQueries(2,e[o],o)}}}finally{Oe(i)}}}function Id(n,e){return n[qa]?n[x0][Qn]=e:n[qa]=e,n[x0]=e,e}function om(n,e,t){Zm(0);let i=Oe(null);try{e(n,t)}finally{Oe(i)}}function nT(n){return n[Nu]??=[]}function iT(n){return n.cleanup??=[]}function rT(n,e){let t=n[fo],i=t?t.get(hi,null):null;i&&i.handleError(e)}function vg(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],u=e[o],h=n.data[o];WC(h,u,i,a,l,r)}}function QN(n,e,t){let i=zb(e,n);aN(n[dt],i,t)}function YN(n,e){let t=Dr(e,n),i=t[le];ZN(i,t);let r=t[ki];r!==null&&t[ho]===null&&(t[ho]=cg(r,t[fo])),Ig(i,t,t[sn])}function ZN(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ig(n,e,t){Jm(e);try{let i=n.viewQuery;i!==null&&om(1,i,t);let r=n.template;r!==null&&QC(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ni]?.finishViewCreation(n),n.staticContentQueries&&tT(n,e),n.staticViewQueries&&om(2,n.viewQuery,t);let s=n.components;s!==null&&JN(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[se]&=-5,Xm()}}function JN(n,e){for(let t=0;t<e.length;t++)YN(n,e[t])}function wd(n,e,t,i){let r=Oe(null);try{let s=e.tView,a=n[se]&4096?4096:16,l=vd(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[ns]=u;let h=n[Ni];return h!==null&&(l[Ni]=h.createEmbeddedView(s)),Ig(s,l,t),l}finally{Oe(r)}}function XN(n,e){let t=zt+e;if(t<n.length)return n[t]}function Wa(n,e){return!e||e.firstChild===null||wC(n)}function Ed(n,e,t,i=!0){let r=e[le];if(hN(r,e,n,t),i){let o=rm(t,n),a=e[dt],l=UC(a,n[is]);l!==null&&uN(r,n[cn],a,e,l,o)}let s=e[ho];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function eP(n,e){let t=Ga(n,e);return t!==void 0&&gd(t[le],t),t}function Hu(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(di(s)),Li(s)&&tP(s,i);let o=t.type;if(o&8)Hu(n,e,t.child,i);else if(o&32){let a=dg(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=BC(e,t);if(Array.isArray(a))i.push(...a);else{let l=rs(e[yn]);Hu(l[le],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function tP(n,e){for(let t=zt;t<n.length;t++){let i=n[t],r=i[le].firstChild;r!==null&&Hu(i[le],i,r,e)}n[is]!==n[ki]&&e.push(n[is])}var sT=[];function nP(n){return n[Pn]??iP(n)}function iP(n){let e=sT.pop()??Object.create(sP);return e.lView=n,e}function rP(n){n.lView[Pn]!==n&&(n.lView=null,sT.push(n))}var sP=Te(k({},js),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ud(n.lView)},consumerOnSignalRead(){this.lView[Pn]=this}});function oP(n){let e=n[Pn]??Object.create(aP);return e.lView=n,e}var aP=Te(k({},js),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=rs(n.lView);for(;e&&!oT(e[le]);)e=rs(e);e&&Gb(e)},consumerOnSignalRead(){this.lView[Pn]=this}});function oT(n){return n.type!==2}var lP=100;function aT(n,e=!0,t=0){let i=n[ui],r=i.rendererFactory,s=!1;s||r.begin?.();try{cP(n,t)}catch(o){throw e&&rT(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function cP(n,e){let t=Jb();try{R0(!0),am(n,e);let i=0;for(;cd(n);){if(i===lP)throw new U(103,!1);i++,am(n,1)}}finally{R0(t)}}function uP(n,e,t,i){let r=e[se];if((r&256)===256)return;let s=!1,o=!1;!s&&e[ui].inlineEffectRunner?.flush(),Jm(e);let a=!0,l=null,u=null;s||(oT(n)?(u=nP(e),l=ka(u)):ME()===null?(a=!1,u=oP(e),l=ka(u)):e[Pn]&&(Kc(e[Pn]),e[Pn]=null));try{qb(e),sO(n.bindingStartIndex),t!==null&&QC(n,e,t,2,i);let h=(r&3)===3;if(!s)if(h){let y=n.preOrderCheckHooks;y!==null&&Cu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Tu(e,y,0,null),bp(e,0)}if(o||dP(e),lT(e,0),n.contentQueries!==null&&tT(n,e),!s)if(h){let y=n.contentCheckHooks;y!==null&&Cu(e,y)}else{let y=n.contentHooks;y!==null&&Tu(e,y,1),bp(e,1)}CN(n,e);let p=n.components;p!==null&&uT(e,p,0);let m=n.viewQuery;if(m!==null&&om(2,m,i),!s)if(h){let y=n.viewCheckHooks;y!==null&&Cu(e,y)}else{let y=n.viewHooks;y!==null&&Tu(e,y,2),bp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[bu]){for(let y of e[bu])y();e[bu]=null}s||(e[se]&=-73)}catch(h){throw s||ud(e),h}finally{u!==null&&(Gc(u,l),a&&rP(u)),Xm()}}function lT(n,e){for(let t=bC(n);t!==null;t=CC(t))for(let i=zt;i<t.length;i++){let r=t[i];cT(r,e)}}function dP(n){for(let e=bC(n);e!==null;e=CC(e)){if(!(e[se]&ku.HasTransplantedViews))continue;let t=e[po];for(let i=0;i<t.length;i++){let r=t[i];Gb(r)}}}function hP(n,e,t){let i=Dr(e,n);cT(i,t)}function cT(n,e){Km(n)&&am(n,e)}function am(n,e){let i=n[le],r=n[se],s=n[Pn],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Wc(s)),o||=!1,s&&(s.dirty=!1),n[se]&=-9217,o)uP(i,n,i.template,n[sn]);else if(r&8192){lT(n,1);let a=i.components;a!==null&&uT(n,a,1)}}function uT(n,e,t){for(let i=0;i<e.length;i++)hP(n,e[i],t)}function wg(n,e){let t=Jb()?64:1088;for(n[ui].changeDetectionScheduler?.notify(e);n;){n[se]|=t;let i=rs(n);if(Hp(n)&&!i)return n;n=i}return null}var ls=class{get rootNodes(){let e=this._lView,t=e[le];return Hu(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[sn]}set context(e){this._lView[sn]=e}get destroyed(){return(this._lView[se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qt];if(Li(e)){let t=e[Pu],i=t?t.indexOf(this):-1;i>-1&&(Ga(e,i),Ru(t,i))}this._attachedToViewContainer=!1}gd(this._lView[le],this._lView)}onDestroy(e){Wb(this._lView,e)}markForCheck(){wg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[se]&=-129}reattach(){qp(this._lView),this._lView[se]|=128}detectChanges(){this._lView[se]|=1024,aT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Hp(this._lView),t=this._lView[ns];t!==null&&!e&&hg(t,this._lView),kC(this._lView[le],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e;let t=Hp(this._lView),i=this._lView[ns];i!==null&&!t&&LC(i,this._lView),qp(this._lView)}},Yn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=mP;let n=e;return n})(),fP=Yn,pP=class extends fP{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=wd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new ls(r)}};function mP(){return bd(Vt(),pe())}function bd(n,e){return n.type&4?new pP(e,n,wo(n,e)):null}var GG=new RegExp(`^(\\d+)*(${GO}|${qO})*(.*)`);var gP=()=>null;function Ka(n,e){return gP(n,e)}var mo=class{},Eg=new ne("",{providedIn:"root",factory:()=>!1});var dT=new ne(""),hT=new ne(""),lm=class{},zu=class{};function yP(n){let e=Error(`No component factory found for ${rn(n)}.`);return e[_P]=n,e}var _P="ngComponent";var cm=class{resolveComponentFactory(e){throw yP(e)}},Og=class Og{};Og.NULL=new cm;var go=Og,br=class{},Mt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>vP();let n=e;return n})();function vP(){let n=pe(),e=Vt(),t=Dr(e.index,n);return(yr(t)?t:n)[dt]}var IP=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function qu(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=kp(r,a);else if(s==2){let l=a,u=e[++o];i=kp(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Gu=class extends go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=vr(e);return new yo(t,this.ngModule)}};function G0(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:_r.None;e?t.push({propName:o,templateName:i,isSignal:(a&_r.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function wP(n){let e=n.toLowerCase();return e==="svg"?Hb:e==="math"?GR:null}var yo=class extends zu{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=G0(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return G0(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=DR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=Oe(null);try{r=r||this.ngModule;let o=r instanceof gn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new Wp(e,o):e,l=a.get(br,null);if(l===null)throw new U(407,!1);let u=a.get(IP,null),h=a.get(mo,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},m=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=i?SN(m,i,this.componentDef.encapsulation,a):PC(m,y,wP(y)),S=512;this.componentDef.signals?S|=4096:this.componentDef.onPush||(S|=16);let A=null;v!==null&&(A=cg(v,a,!0));let O=yg(0,null,null,1,0,null,null,null,null,null,null),P=vd(null,O,null,S,null,null,p,m,a,null,A);Jm(P);let H,G,Ee=null;try{let X=this.componentDef,E,_=null;X.findHostDirectiveDefs?(E=[],_=new Map,X.findHostDirectiveDefs(X,E,_),E.push(X)):E=[X];let I=EP(P,v);Ee=bP(I,v,X,E,P,p,m),G=Wm(O,_n),v&&DP(m,X,v,i),t!==void 0&&SP(G,this.ngContentSelectors,t),H=TP(Ee,X,E,_,P,[AP]),Ig(O,P,null)}catch(X){throw Ee!==null&&nm(Ee),nm(P),X}finally{Xm()}return new um(this.componentType,H,wo(G,P),P,G)}finally{Oe(s)}}},um=class extends lm{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ls(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;vg(s[le],s,r,e,t),this.previousInputValues.set(e,t);let o=Dr(this._tNode.index,s);wg(o,1)}}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function EP(n,e){let t=n[le],i=_n;return n[i]=e,Eo(t,i,2,"#host",null)}function bP(n,e,t,i,r,s,o){let a=r[le];CP(i,n,e,o);let l=null;e!==null&&(l=cg(e,r[fo]));let u=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=vd(r,YC(t),null,h,r[n.index],n,s,u,null,null,l);return a.firstCreatePass&&sm(a,n,i.length-1),Id(r,p),r[n.index]=p}function CP(n,e,t,i){for(let r of n)e.mergedAttrs=Ha(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(qu(e,e.mergedAttrs,!0),t!==null&&zC(i,t,e))}function TP(n,e,t,i,r,s){let o=Vt(),a=r[le],l=Ln(o,r);JC(a,r,o,t,null,i);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=as(r,a,p,o);Er(m,r)}XC(a,r,o),l&&Er(l,r);let u=as(r,a,o.directiveStart+o.componentOffset,o);if(n[sn]=r[sn]=u,s!==null)for(let h of s)h(u,e);return pg(a,o,r),u}function DP(n,e,t,i){if(i)Up(n,t,["ng-version","18.2.2"]);else{let{attrs:r,classes:s}=SR(e.selectors[0]);r&&Up(n,t,r),s&&s.length>0&&HC(n,t,s.join(" "))}}function SP(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function AP(){let n=Vt();fd(pe()[le],n)}var Jn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=xP;let n=e;return n})();function xP(){let n=Vt();return pT(n,pe())}var MP=Jn,fT=class extends MP{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return wo(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){let e=tg(this._hostTNode,this._hostLView);if(lC(e)){let t=Fu(e,this._hostLView),i=Lu(e),r=t[le].data[i+8];return new ts(r,t)}else return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=W0(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-zt}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Ka(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Wa(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!$R(e),a;if(o)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?e:new yo(vr(e)),u=i||this.parentInjector;if(!s&&l.ngModule==null){let S=(o?u:this.parentInjector).get(gn,null);S&&(s=S)}let h=vr(l.componentType??{}),p=Ka(this._lContainer,h?.id??null),m=p?.firstChild??null,y=l.create(u,r,m,s);return this.insertImpl(y.hostView,a,Wa(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(QR(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[qt],u=new fT(l,l[cn],l[qt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Ed(o,r,s,i),e.attachToViewContainerRef(),_b(Ap(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=W0(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Ga(this._lContainer,t);i&&(Ru(Ap(this._lContainer),t),gd(i[le],i))}detach(e){let t=this._adjustIndex(e,-1),i=Ga(this._lContainer,t);return i&&Ru(Ap(this._lContainer),t)!=null?new ls(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function W0(n){return n[Pu]}function Ap(n){return n[Pu]||(n[Pu]=[])}function pT(n,e){let t,i=e[n.index];return Li(i)?t=i:(t=eT(i,e,null,n),e[n.index]=t,Id(e,t)),OP(t,e,n,i),new fT(t,n,e)}function RP(n,e){let t=n[dt],i=t.createComment(""),r=Ln(e,n),s=UC(t,r);return $u(t,s,i,gN(t,r),!1),i}var OP=kP,NP=()=>!1;function PP(n,e,t){return NP(n,e,t)}function kP(n,e,t,i){if(n[is])return;let r;t.type&8?r=di(i):r=RP(e,t),n[is]=r}var dm=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},hm=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)bg(e,t).matches!==null&&this.queries[t].setDirty()}},Wu=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=HP(e):this.predicate=e}},fm=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},pm=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,LP(t,s)),this.matchTNodeWithReadOption(e,t,Du(t,e,s,!1,!1))}else i===Yn?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Du(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===rt||r===Jn||r===Yn&&t.type&4)this.addMatch(t.index,-2);else{let s=Du(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function LP(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function FP(n,e){return n.type&11?wo(n,e):n.type&4?bd(n,e):null}function VP(n,e,t,i){return t===-1?FP(e,n):t===-2?UP(n,e,i):as(n,n[le],t,e)}function UP(n,e,t){if(t===rt)return wo(e,n);if(t===Yn)return bd(e,n);if(t===Jn)return pT(e,n)}function mT(n,e,t,i){let r=e[Ni].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let h=s[u];a.push(VP(e,h,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function mm(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=mT(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let u=s[a+1],h=e[-l];for(let p=zt;p<h.length;p++){let m=h[p];m[ns]===m[qt]&&mm(m[le],m,u,i)}if(h[po]!==null){let p=h[po];for(let m=0;m<p.length;m++){let y=p[m];mm(y[le],y,u,i)}}}}}return i}function jP(n,e){return n[Ni].queries[e].queryList}function gT(n,e,t){let i=new tm((t&4)===4);return MN(n,e,i,i.destroy),(e[Ni]??=new hm).queries.push(new dm(i))-1}function BP(n,e,t){let i=pt();return i.firstCreatePass&&(yT(i,new Wu(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),gT(i,pe(),e)}function $P(n,e,t,i){let r=pt();if(r.firstCreatePass){let s=Vt();yT(r,new Wu(e,t,i),s.index),zP(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return gT(r,pe(),t)}function HP(n){return n.split(",").map(e=>e.trim())}function yT(n,e,t){n.queries===null&&(n.queries=new fm),n.queries.track(new pm(e,t))}function zP(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function bg(n,e){return n.queries.getByIndex(e)}function qP(n,e){let t=n[le],i=bg(t,e);return i.crossesNgTemplate?mm(t,n,e,[]):mT(t,n,i,e)}var K0=new Set;function gi(n){K0.has(n)||(K0.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function GP(n){return typeof n=="function"&&n[si]!==void 0}function In(n,e){gi("NgSignals");let t=$E(n),i=t[si];return e?.equal&&(i.equal=e.equal),t.set=r=>tp(i,r),t.update=r=>HE(i,r),t.asReadonly=WP.bind(t),t}function WP(){let n=this[si];if(n.readonlyFn===void 0){let e=()=>this();e[si]=n,n.readonlyFn=e}return n.readonlyFn}function _T(n){return GP(n)&&typeof n.set=="function"}function KP(n){return Object.getPrototypeOf(n.prototype).constructor}function Rt(n){let e=KP(n.type),t=!0,i=[n];for(;e;){let r;if(Ir(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=vu(n.inputs),o.inputTransforms=vu(n.inputTransforms),o.declaredInputs=vu(n.declaredInputs),o.outputs=vu(n.outputs);let a=r.hostBindings;a&&XP(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&ZP(n,l),u&&JP(n,u),QP(n,r),qM(n.outputs,r.outputs),Ir(r)&&r.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Rt&&(t=!1)}}e=Object.getPrototypeOf(e)}YP(i)}function QP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function YP(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ha(r.hostAttrs,t=Ha(t,r.hostAttrs))}}function vu(n){return n===lo?{}:n===ln?[]:n}function ZP(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function JP(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function XP(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function wn(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Cr=class{},Qa=class{};var gm=class extends Cr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gu(this);let s=Ab(e);this._bootstrapComponents=NC(s.bootstrap),this._r3Injector=yC(e,t,[{provide:Cr,useValue:this},{provide:go,useValue:this.componentFactoryResolver},...i],rn(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ym=class extends Qa{constructor(e){super(),this.moduleType=e}create(e){return new gm(this.moduleType,e,[])}};var Ku=class extends Cr{constructor(e){super(),this.componentFactoryResolver=new Gu(this),this.instance=null;let t=new za([...e.providers,{provide:Cr,useValue:this},{provide:go,useValue:this.componentFactoryResolver}],e.parent||qm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cd(n,e,t=null){return new Ku({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function vT(n){return Cg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function ek(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function Cg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function tl(n,e,t){return n[e]=t}function tk(n,e){return n[e]}function kn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function IT(n,e,t,i){let r=kn(n,e,t);return kn(n,e+1,i)||r}function nk(n,e,t,i,r){let s=IT(n,e,t,i);return kn(n,e+2,r)||s}function ik(n){return(n.flags&32)===32}function rk(n,e,t,i,r,s,o,a,l){let u=e.consts,h=Eo(e,n,4,o||null,a||null);_g(e,t,h,wr(u,l)),fd(e,h);let p=h.tView=yg(2,h,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function Qu(n,e,t,i,r,s,o,a,l,u){let h=t+_n,p=e.firstCreatePass?rk(h,e,n,i,r,s,o,a,l):e.data[h];ds(p,!1);let m=sk(e,n,p,t);dd()&&yd(e,n,m,p),Er(m,n);let y=eT(m,n,m,p);return n[h]=y,Id(n,y),PP(y,p,n),ld(p)&&mg(e,n,p),l!=null&&gg(n,p,u),p}function Y(n,e,t,i,r,s,o,a){let l=pe(),u=pt(),h=wr(u.consts,s);return Qu(l,u,n,e,t,i,r,h,o,a),Y}var sk=ok;function ok(n,e,t,i){return hd(!0),e[dt].createComment("")}var ro=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(ro||{}),wT=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),es=class es{constructor(){this.ngZone=V(ye),this.scheduler=V(mo),this.errorHandler=V(hi,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of es.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};es.PHASES=[ro.EarlyRead,ro.Write,ro.MixedReadWrite,ro.Read],es.\u0275prov=W({token:es,providedIn:"root",factory:()=>new es});var _m=es,vm=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Tg(n,e){!e?.injector&&Lb(Tg);let t=e?.injector??V(Gt);return rN(t)?(gi("NgAfterNextRender"),lk(n,t,e,!0)):ck}function ak(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function lk(n,e,t,i){let r=e.get(wT);r.impl??=e.get(_m);let s=t?.phase??ro.MixedReadWrite,o=new vm(r.impl,ak(n,s),i,e.get(pd));return r.impl.register(o),o}var ck={destroy(){}};function de(n,e,t,i){let r=pe(),s=el();if(kn(r,s,e)){let o=pt(),a=eg();qN(a,r,n,e,t,i)}return de}function uk(n,e,t,i){return kn(n,el(),t)?e+td(t)+i:mi}function Iu(n,e){return n<<17|e<<2}function cs(n){return n>>17&32767}function dk(n){return(n&2)==2}function hk(n,e){return n&131071|e<<17}function Im(n){return n|2}function _o(n){return(n&131068)>>2}function xp(n,e){return n&-131069|e<<2}function fk(n){return(n&1)===1}function wm(n){return n|1}function pk(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=cs(o),l=_o(o);n[i]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Ja(p,h)>0)&&(u=!0)}else h=t;if(r)if(l!==0){let m=cs(n[a+1]);n[i+1]=Iu(m,a),m!==0&&(n[m+1]=xp(n[m+1],i)),n[a+1]=hk(n[a+1],i)}else n[i+1]=Iu(a,0),a!==0&&(n[a+1]=xp(n[a+1],i)),a=i;else n[i+1]=Iu(l,0),a===0?a=i:n[l+1]=xp(n[l+1],i),l=i;u&&(n[i+1]=Im(n[i+1])),Q0(n,h,i,!0),Q0(n,h,i,!1),mk(e,h,n,i,s),o=Iu(a,l),s?e.classBindings=o:e.styleBindings=o}function mk(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Ja(s,e)>=0&&(t[i+1]=wm(t[i+1]))}function Q0(n,e,t,i){let r=n[t+1],s=e===null,o=i?cs(r):_o(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],u=n[o+1];gk(l,e)&&(a=!0,n[o+1]=i?wm(u):Im(u)),o=i?cs(u):_o(u)}a&&(n[t+1]=i?Im(r):wm(r))}function gk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Ja(n,e)>=0:!1}var St={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ET(n){return n.substring(St.key,St.keyEnd)}function yk(n){return n.substring(St.value,St.valueEnd)}function _k(n){return TT(n),bT(n,vo(n,0,St.textEnd))}function bT(n,e){let t=St.textEnd;return t===e?-1:(e=St.keyEnd=Ik(n,St.key=e,t),vo(n,e,t))}function vk(n){return TT(n),CT(n,vo(n,0,St.textEnd))}function CT(n,e){let t=St.textEnd,i=St.key=vo(n,e,t);return t===i?-1:(i=St.keyEnd=wk(n,i,t),i=Y0(n,i,t,58),i=St.value=vo(n,i,t),i=St.valueEnd=Ek(n,i,t),Y0(n,i,t,59))}function TT(n){St.key=0,St.keyEnd=0,St.value=0,St.valueEnd=0,St.textEnd=n.length}function vo(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function Ik(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function wk(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function Y0(n,e,t,i){return e=vo(n,e,t),e<t&&e++,e}function Ek(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=Z0(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=Z0(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function Z0(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function R(n,e,t){let i=pe(),r=el();if(kn(i,r,e)){let s=pt(),o=eg();ZC(s,o,i,n,e,i[dt],t,!1)}return R}function Em(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";vg(n,t,s[o],o,i)}function Td(n,e){return Tk(n,e,null,!0),Td}function DT(n){ST(MT,bk,n,!1)}function bk(n,e){for(let t=vk(e);t>=0;t=CT(e,t))MT(n,ET(e),yk(e))}function Qe(n){ST(Rk,Ck,n,!0)}function Ck(n,e){for(let t=_k(e);t>=0;t=bT(e,t))rd(n,ET(e),!0)}function Tk(n,e,t,i){let r=pe(),s=pt(),o=Xb(2);if(s.firstUpdatePass&&xT(s,n,o,i),e!==mi&&kn(r,o,e)){let a=s.data[Sr()];RT(s,a,r,r[dt],n,r[o+1]=Nk(e,t),i,o)}}function ST(n,e,t,i){let r=pt(),s=Xb(2);r.firstUpdatePass&&xT(r,null,s,i);let o=pe();if(t!==mi&&kn(o,s,t)){let a=r.data[Sr()];if(OT(a,i)&&!AT(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=kp(l,t||"")),Em(r,a,o,t,i)}else Ok(r,a,o,o[dt],o[s+1],o[s+1]=Mk(n,e,t),i,s)}}function AT(n,e){return e>=n.expandoStartIndex}function xT(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Sr()],o=AT(n,t);OT(s,i)&&e===null&&!o&&(e=!1),e=Dk(r,s,e,i),pk(r,s,e,t,o,i)}}function Dk(n,e,t,i){let r=cO(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=Mp(null,n,e,t,i),t=Ya(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=Mp(r,n,e,t,i),s===null){let l=Sk(n,e,i);l!==void 0&&Array.isArray(l)&&(l=Mp(null,n,e,l[1],i),l=Ya(l,e.attrs,i),Ak(n,e,i,l))}else s=xk(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function Sk(n,e,t){let i=t?e.classBindings:e.styleBindings;if(_o(i)!==0)return n[cs(i)]}function Ak(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[cs(r)]=i}function xk(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Ya(i,o,t)}return Ya(i,e.attrs,t)}function Mp(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Ya(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Ya(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),rd(n,o,t?!0:e[++s]))}return n===void 0?null:n}function Mk(n,e,t){if(t==null||t==="")return ln;let i=[],r=fs(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function MT(n,e,t){rd(n,e,fs(t))}function Rk(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&rd(n,i,t)}function Ok(n,e,t,i,r,s,o,a){r===mi&&(r=ln);let l=0,u=0,h=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;h!==null||p!==null;){let m=l<r.length?r[l+1]:void 0,y=u<s.length?s[u+1]:void 0,v=null,S;h===p?(l+=2,u+=2,m!==y&&(v=p,S=y)):p===null||h!==null&&h<p?(l+=2,v=h):(u+=2,v=p,S=y),v!==null&&RT(n,e,t,i,v,S,o,a),h=l<r.length?r[l]:null,p=u<s.length?s[u]:null}}function RT(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=fk(u)?J0(l,e,t,r,_o(u),o):void 0;if(!Yu(h)){Yu(s)||dk(u)&&(s=J0(l,null,t,r,a,o));let p=zb(Sr(),t);EN(i,o,p,r,s)}}function J0(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),h=u?l[1]:l,p=h===null,m=t[r+1];m===mi&&(m=p?ln:void 0);let y=p?wp(m,i):h===i?m:void 0;if(u&&!Yu(y)&&(y=wp(l,i)),Yu(y)&&(a=y,o))return a;let v=n[r+1];r=o?cs(v):_o(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=wp(l,i))}return a}function Yu(n){return n!==void 0}function Nk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=rn(fs(n)))),n}function OT(n,e){return(n.flags&(e?8:16))!==0}var bm=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function Rp(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function Pk(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let u=n.at(s),h=e[s],p=Rp(s,u,s,h,t);if(p!==0){p<0&&n.updateValue(s,h),s++;continue}let m=n.at(o),y=e[l],v=Rp(o,m,l,y,t);if(v!==0){v<0&&n.updateValue(o,y),o--,l--;continue}let S=t(s,u),A=t(o,m),O=t(s,h);if(Object.is(O,A)){let P=t(l,y);Object.is(P,S)?(n.swap(s,o),n.updateValue(o,y),l--,o--):n.move(o,s),n.updateValue(s,h),s++;continue}if(i??=new Zu,r??=eb(n,s,o,t),Cm(n,i,s,O))n.updateValue(s,h),s++,o++;else if(r.has(O))i.set(S,n.detach(s)),o--;else{let P=n.create(s,e[s]);n.attach(s,P),s++,o++}}for(;s<=l;)X0(n,i,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&s<=o;){let h=n.at(s),p=u.value,m=Rp(s,h,s,p,t);if(m!==0)m<0&&n.updateValue(s,p),s++,u=l.next();else{i??=new Zu,r??=eb(n,s,o,t);let y=t(s,p);if(Cm(n,i,s,y))n.updateValue(s,p),s++,o++,u=l.next();else if(!r.has(y))n.attach(s,n.create(s,p)),s++,o++,u=l.next();else{let v=t(s,h);i.set(v,n.detach(s)),o--}}}for(;!u.done;)X0(n,i,t,n.length,u.value),u=l.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(l=>{n.destroy(l)})}function Cm(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function X0(n,e,t,i,r){if(Cm(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function eb(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var Zu=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};var Tm=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-zt}};var Dm=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function NT(n,e,t,i,r,s,o,a,l,u,h,p,m){gi("NgControlFlow");let y=pe(),v=pt(),S=l!==void 0,A=pe(),O=a?o.bind(A[yn][sn]):o,P=new Dm(S,O);A[_n+n]=P,Qu(y,v,n+1,e,t,i,r,wr(v.consts,s)),S&&Qu(y,v,n+2,l,u,h,p,wr(v.consts,m))}var Sm=class extends bm{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-zt}at(e){return this.getLView(e)[sn].$implicit}attach(e,t){let i=t[ho];this.needsIndexUpdate||=e!==this.length,Ed(this.lContainer,t,e,Wa(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,kk(this.lContainer,e)}create(e,t){let i=Ka(this.lContainer,this.templateTNode.tView.ssrId),r=wd(this.hostLView,this.templateTNode,new Tm(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){gd(e[le],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[sn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[sn].$index=e}getLView(e){return Lk(this.lContainer,e)}};function PT(n){let e=Oe(null),t=Sr();try{let i=pe(),r=i[le],s=i[t],o=t+1,a=tb(i,o);if(s.liveCollection===void 0){let u=nb(r,o);s.liveCollection=new Sm(a,i,u)}else s.liveCollection.reset();let l=s.liveCollection;if(Pk(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=el(),h=l.length===0;if(kn(i,u,h)){let p=t+2,m=tb(i,p);if(h){let y=nb(r,p),v=Ka(m,y.tView.ssrId),S=wd(i,y,void 0,{dehydratedView:v});Ed(m,S,0,Wa(y,v))}else eP(m,0)}}}finally{Oe(e)}}function tb(n,e){return n[e]}function kk(n,e){return Ga(n,e)}function Lk(n,e){return XN(n,e)}function nb(n,e){return Wm(n,e)}function Fk(n,e,t,i,r,s){let o=e.consts,a=wr(o,r),l=Eo(e,n,2,i,a);return _g(e,t,l,wr(o,s)),l.attrs!==null&&qu(l,l.attrs,!1),l.mergedAttrs!==null&&qu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function z(n,e,t,i){let r=pe(),s=pt(),o=_n+n,a=r[dt],l=s.firstCreatePass?Fk(o,s,r,e,t,i):s.data[o],u=Vk(s,r,l,a,e,n);r[o]=u;let h=ld(l);return ds(l,!0),zC(a,u,l),!ik(l)&&dd()&&yd(s,r,u,l),JR()===0&&Er(u,r),XR(),h&&(mg(s,r,l),pg(s,l,r)),i!==null&&gg(r,l),z}function q(){let n=Vt();Qm()?Ym():(n=n.parent,ds(n,!1));let e=n;tO(e)&&nO(),eO();let t=pt();return t.firstCreatePass&&(fd(t,n),Gm(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&gO(e)&&Em(t,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&yO(e)&&Em(t,e,pe(),e.stylesWithoutHost,!1),q}function Se(n,e,t,i){return z(n,e,t,i),q(),Se}var Vk=(n,e,t,i,r,s)=>(hd(!0),PC(i,r,hO()));function Uk(n,e,t,i,r){let s=e.consts,o=wr(s,i),a=Eo(e,n,8,"ng-container",o);o!==null&&qu(a,o,!0);let l=wr(s,r);return _g(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ye(n,e,t){let i=pe(),r=pt(),s=n+_n,o=r.firstCreatePass?Uk(s,r,i,e,t):r.data[s];ds(o,!0);let a=jk(r,i,o,n);return i[s]=a,dd()&&yd(r,i,a,o),Er(a,i),ld(o)&&(mg(r,i,o),pg(r,o,i)),t!=null&&gg(i,o),Ye}function Ze(){let n=Vt(),e=pt();return Qm()?Ym():(n=n.parent,ds(n,!1)),e.firstCreatePass&&(fd(e,n),Gm(n)&&e.queries.elementEnd(n)),Ze}function Be(n,e,t){return Ye(n,e,t),Ze(),Be}var jk=(n,e,t,i)=>(hd(!0),lN(e[dt],""));function Ut(){return pe()}var Ju="en-US";var Bk=Ju;function $k(n){typeof n=="string"&&(Bk=n.toLowerCase().replace(/_/g,"-"))}var Hk=(n,e,t)=>{};function Ke(n,e,t,i){let r=pe(),s=pt(),o=Vt();return kT(s,r,r[dt],o,n,e,i),Ke}function zk(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[Nu],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function kT(n,e,t,i,r,s,o){let a=ld(i),u=n.firstCreatePass&&iT(n),h=e[sn],p=nT(e),m=!0;if(i.type&3||o){let S=Ln(i,e),A=o?o(S):S,O=p.length,P=o?G=>o(di(G[i.index])):i.index,H=null;if(!o&&a&&(H=zk(n,e,r,i.index)),H!==null){let G=H.__ngLastListenerFn__||H;G.__ngNextListenerFn__=s,H.__ngLastListenerFn__=s,m=!1}else{s=rb(i,e,h,s),Hk(S,r,s);let G=t.listen(A,r,s);p.push(s,G),u&&u.push(r,P,O,O+1)}}else s=rb(i,e,h,s);let y=i.outputs,v;if(m&&y!==null&&(v=y[r])){let S=v.length;if(S)for(let A=0;A<S;A+=2){let O=v[A],P=v[A+1],Ee=e[O][P].subscribe(s),X=p.length;p.push(s,Ee),u&&u.push(r,i.index,X,-(X+1))}}}function ib(n,e,t,i){let r=Oe(null);try{return ai(6,e,t),t(i)!==!1}catch(s){return rT(n,s),!1}finally{ai(7,e,t),Oe(r)}}function rb(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Dr(n.index,e):e;wg(o,5);let a=ib(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=ib(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function F(n=1){return dO(n)}function qk(n,e){let t=null,i=wR(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?Cb(n,s,!0):CR(i,s))return r}return t}function Fn(n){let e=pe()[yn][cn];if(!e.projection){let t=n?n.length:1,i=e.projection=hR(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?qk(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function un(n,e=0,t,i,r,s){let o=pe(),a=pt(),l=i?n+1:null;l!==null&&Qu(o,a,l,i,r,s,null,t);let u=Eo(a,_n+n,16,null,t||null);u.projection===null&&(u.projection=e),Ym();let p=!o[ho]||Yb();o[yn][cn].projection[u.projection]===null&&l!==null?Gk(o,a,l):p&&(u.flags&32)!==32&&IN(a,o,u)}function Gk(n,e,t){let i=_n+t,r=e.data[i],s=n[i],o=Ka(s,r.tView.ssrId),a=wd(n,r,void 0,{dehydratedView:o});Ed(s,a,0,Wa(r,o))}function Vn(n,e,t,i){$P(n,e,t,i)}function jt(n,e,t){BP(n,e,t)}function nt(n){let e=pe(),t=pt(),i=eC();Zm(i+1);let r=bg(t,i);if(n.dirty&&KR(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=qP(e,i);n.reset(s,VO),n.notifyOnChanges()}return!0}return!1}function it(){return jP(pe(),eC())}function Un(n){let e=rO();return WR(e,_n+n)}function Ot(n,e=""){let t=pe(),i=pt(),r=n+_n,s=i.firstCreatePass?Eo(i,r,1,e,null):i.data[r],o=Wk(i,t,s,e,n);t[r]=o,dd()&&yd(i,t,o,s),ds(s,!1)}var Wk=(n,e,t,i,r)=>(hd(!0),oN(e[dt],i));function Fi(n){return Vi("",n,""),Fi}function Vi(n,e,t){let i=pe(),r=uk(i,n,e,t);return r!==mi&&QN(i,Sr(),r),Vi}function Dg(n,e,t){_T(e)&&(e=e());let i=pe(),r=el();if(kn(i,r,e)){let s=pt(),o=eg();ZC(s,o,i,n,e,i[dt],t,!1)}return Dg}function LT(n,e){let t=_T(n);return t&&n.set(e),t}function Sg(n,e){let t=pe(),i=pt(),r=Vt();return kT(i,t,t[dt],r,n,e),Sg}function Kk(n,e,t){let i=pt();if(i.firstCreatePass){let r=Ir(n);Am(t,i.data,i.blueprint,r,!0),Am(e,i.data,i.blueprint,r,!1)}}function Am(n,e,t,i,r){if(n=nn(n),Array.isArray(n))for(let s=0;s<n.length;s++)Am(n[s],e,t,i,r);else{let s=pt(),o=pe(),a=Vt(),l=uo(n)?n:nn(n.provide),u=Pb(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(uo(n)||!n.multi){let y=new os(u,r,K),v=Np(l,e,r?h:h+m,p);v===-1?(Qp(Vu(a,o),s,l),Op(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[v]=y,o[v]=y)}else{let y=Np(l,e,h+m,p),v=Np(l,e,h,h+m),S=y>=0&&t[y],A=v>=0&&t[v];if(r&&!A||!r&&!S){Qp(Vu(a,o),s,l);let O=Zk(r?Yk:Qk,t.length,r,i,u);!r&&A&&(t[v].providerFactory=O),Op(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(O),o.push(O)}else{let O=FT(t[r?v:y],u,!r&&i);Op(s,n,y>-1?y:v,O)}!r&&i&&A&&t[v].componentProviders++}}}function Op(n,e,t,i){let r=uo(e),s=kR(e);if(r||s){let l=(s?nn(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[i,l]):u[h+1].push(i,l)}else u.push(t,l)}}}function FT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Np(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Qk(n,e,t,i){return xm(this.multi,[])}function Yk(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=as(t,t[le],this.providerFactory.index,i);s=a.slice(0,o),xm(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],xm(r,s);return s}function xm(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function Zk(n,e,t,i,r){let s=new os(n,t,K);return s.multi=[],s.index=e,s.componentProviders=0,FT(s,r,i&&!t),s}function nl(n,e=[]){return t=>{t.providersResolver=(i,r)=>Kk(i,r?r(n):n,e)}}var Jk=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=Rb(!1,i.type),s=r.length>0?Cd([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(ie(gn))});let n=e;return n})();function $e(n){gi("NgStandalone"),n.getStandaloneInjector=e=>e.get(Jk).getOrCreateStandaloneInjector(n)}function il(n,e,t){let i=Xa()+n,r=pe();return r[i]===mi?tl(r,i,t?e.call(t):e()):tk(r,i)}function st(n,e,t,i){return Xk(pe(),Xa(),n,e,t,i)}function Ui(n,e,t,i,r){return eL(pe(),Xa(),n,e,t,i,r)}function bo(n,e,t,i,r,s){return tL(pe(),Xa(),n,e,t,i,r,s)}function VT(n,e,t,i){return nL(pe(),Xa(),n,e,t,i)}function Dd(n,e){let t=n[e];return t===mi?void 0:t}function Xk(n,e,t,i,r,s){let o=e+t;return kn(n,o,r)?tl(n,o+1,s?i.call(s,r):i(r)):Dd(n,o+1)}function eL(n,e,t,i,r,s,o){let a=e+t;return IT(n,a,r,s)?tl(n,a+2,o?i.call(o,r,s):i(r,s)):Dd(n,a+2)}function tL(n,e,t,i,r,s,o,a){let l=e+t;return nk(n,l,r,s,o)?tl(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):Dd(n,l+3)}function nL(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)kn(n,o++,r[l])&&(a=!0);return a?tl(n,o,i.apply(s,r)):Dd(n,o)}function Xn(n,e){return bd(n,e)}var Pi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},UT=new Pi("18.2.2");var Sd=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var jT=new ne("");function Co(n){return!!n&&typeof n.then=="function"}function BT(n){return!!n&&typeof n.subscribe=="function"}var Ad=new ne(""),$T=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=V(Ad,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Co(o))i.push(o);else if(BT(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),xd=new ne("");function iL(){BE(()=>{throw new U(600,!1)})}function rL(n){return n.isBoundToModule}var sL=10;function oL(n,e,t){try{let i=t();return Co(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var ps=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=V(LO),this.afterRenderManager=V(wT),this.zonelessEnabled=V(Eg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Tt,this.afterTick=new Tt,this.componentTypes=[],this.components=[],this.isStable=V(hs).hasPendingTasks.pipe(De(i=>!i)),this._injector=V(gn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof zu;if(!this._injector.get($T).done){let y=!s&&Sb(i),v=!1;throw new U(405,v)}let a;s?a=i:a=this._injector.get(go).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=rL(a)?void 0:this._injector.get(Cr),u=r||a.selector,h=a.create(Gt.NULL,[],u,l),p=h.location.nativeElement,m=h.injector.get(jT,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Su(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new U(101,!1);let i=Oe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Oe(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(br,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<sL;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)aL(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>cd(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;Su(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(xd,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>Su(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new U(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function Su(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aL(n,e,t,i){if(!t&&!cd(n))return;aT(n,e,t&&!i?0:1)}var Mm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Md=(()=>{let e=class e{compileModuleSync(i){return new ym(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=Ab(i),o=NC(s.declarations).reduce((a,l)=>{let u=vr(l);return u&&a.push(new yo(u)),a},[]);return new Mm(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var lL=(()=>{let e=class e{constructor(){this.zone=V(ye),this.changeDetectionScheduler=V(mo),this.applicationRef=V(ps)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),cL=new ne("",{factory:()=>!1});function HT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(Te(k({},qT()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:co,multi:!0,useFactory:()=>{let i=V(lL,{optional:!0});return()=>i.initialize()}},{provide:co,multi:!0,useFactory:()=>{let i=V(uL);return()=>{i.initialize()}}},e===!0?{provide:dT,useValue:!0}:[],{provide:hT,useValue:t??_C}]}function zT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=HT({ngZoneFactory:()=>{let r=qT(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&gi("NgZone_CoalesceEvent"),new ye(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Tr([{provide:cL,useValue:!0},{provide:Eg,useValue:!1},i])}function qT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var uL=(()=>{let e=class e{constructor(){this.subscription=new ut,this.initialized=!1,this.zone=V(ye),this.pendingTasks=V(hs)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var dL=(()=>{let e=class e{constructor(){this.appRef=V(ps),this.taskService=V(hs),this.ngZone=V(ye),this.zonelessEnabled=V(Eg),this.disableScheduling=V(dT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ut,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ju):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(hT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof em||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?F0:vC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ju+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,F0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function hL(){return typeof $localize<"u"&&$localize.locale||Ju}var Ag=new ne("",{providedIn:"root",factory:()=>V(Ag,ve.Optional|ve.SkipSelf)||hL()});var GT=new ne("");function wu(n){return!!n.platformInjector}function fL(n){let e=wu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{wu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(hi,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),wu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(GT);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{Su(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return oL(i,t,()=>{let s=e.get($T);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ag,Ju);if($k(o||Ju),wu(n)){let a=e.get(ps);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return pL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function pL(n,e){let t=n.injector.get(ps);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new U(-403,!1);e.push(n)}var Au=null;function mL(n=[],e){return Gt.create({name:e,providers:[{provide:sd,useValue:"platform"},{provide:GT,useValue:new Set([()=>Au=null])},...n]})}function gL(n=[]){if(Au)return Au;let e=mL(n);return Au=e,iL(),yL(e),e}function yL(n){n.get(og,null)?.forEach(t=>t())}var dn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_L;let n=e;return n})();function _L(n){return vL(Vt(),pe(),(n&16)===16)}function vL(n,e,t){if(ad(n)&&!t){let i=Dr(n.index,e);return new ls(i,i)}else if(n.type&175){let i=e[yn];return new ls(i,e)}return null}var Rm=class{constructor(){}supports(e){return vT(e)}create(e){return new Om(e)}},IL=(n,e)=>e,Om=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<sb(i,r,s)?t:i,a=sb(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,h=l-r;if(u!=h){for(let m=0;m<u;m++){let y=m<s.length?s[m]:s[m]=0,v=y+m;h<=v&&v<u&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!vT(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,ek(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Nm(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Xu),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Xu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Nm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Pm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Xu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Pm,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function sb(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var km=class{constructor(){}supports(e){return e instanceof Map||Cg(e)}create(){return new Lm}},Lm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Cg(e)))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Fm(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},Fm=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ob(){return new xg([new Rm])}var xg=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ob()),deps:[[e,new id,new vn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new U(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:ob});let n=e;return n})();function ab(){return new Mg([new km])}var Mg=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ab()),deps:[[e,new id,new vn]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new U(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:ab});let n=e;return n})();function WT(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=gL(i),s=[HT({}),{provide:mo,useExisting:dL},...t||[]],o=new Ku({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return fL({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var KT=new ne("");function we(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function jn(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function To(n,e){gi("NgSignals");let t=VE(n);return e?.equal&&(t[si].equal=e.equal),t}var wL=new ne("",{providedIn:"root",factory:()=>V(EL)}),EL=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new Vm});let n=e;return n})(),Vm=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=V(hs),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Um=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=qE(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(hi,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function Rg(n,e){gi("NgSignals"),!e?.injector&&Lb(Rg);let t=e?.injector??V(Gt),i=e?.manualCleanup!==!0?t.get(pd):null,r=new Um(t.get(wL),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(dn,null,{optional:!0});return!s||!(s._lView[se]&8)?r.watcher.notify():(s._lView[bu]??=[]).push(r.watcher.notify),r}function QT(n){let e=vr(n);if(!e)return null;let t=new yo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var tD=null;function Do(){return tD}function nD(n){tD??=n}var Rd=class{};var Je=new ne(""),Vg=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(CL),providedIn:"platform"});let n=e;return n})(),iD=new ne(""),CL=(()=>{let e=class e extends Vg{constructor(){super(),this._doc=V(Je),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Do().getBaseHref(this._doc)}onPopState(i){let r=Do().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=Do().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Ug(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function YT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ji(n){return n&&n[0]!=="?"?"?"+n:n}var Bi=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(jg),providedIn:"root"});let n=e;return n})(),rD=new ne(""),jg=(()=>{let e=class e extends Bi{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(Je).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Ug(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ji(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ie(Vg),ie(rD,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),sD=(()=>{let e=class e extends Bi{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=Ug(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ji(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ie(Vg),ie(rD,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),So=(()=>{let e=class e{constructor(i){this._subject=new fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=SL(YT(ZT(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ji(r))}normalize(i){return e.stripTrailingSlash(DL(this._basePath,ZT(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ji(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ji(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ji,e.joinWithSlash=Ug,e.stripTrailingSlash=YT,e.\u0275fac=function(r){return new(r||e)(ie(Bi))},e.\u0275prov=W({token:e,factory:()=>TL(),providedIn:"root"});let n=e;return n})();function TL(){return new So(ie(Bi))}function DL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function ZT(n){return n.replace(/\/index.html$/,"")}function SL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function oD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Ng=/\s+/,JT=[],$i=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=JT,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Ng):JT}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Ng):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Ng).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(K(rt),K(Mt))},e.\u0275dir=xt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var Pg=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Nd=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Pg(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),XT(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);XT(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(K(Jn),K(Yn),K(xg))},e.\u0275dir=xt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function XT(n,e){n.context.$implicit=e.item}var Hi=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new kg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){eD("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){eD("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(K(Jn),K(Yn))},e.\u0275dir=xt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),kg=class{constructor(){this.$implicit=null,this.ngIf=null}};function eD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${rn(e)}'.`)}var zi=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:fi.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(K(rt),K(Mg),K(Mt))},e.\u0275dir=xt({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),qi=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(K(Jn))},e.\u0275dir=xt({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Zn]});let n=e;return n})();var En=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let n=e;return n})(),Bg="browser",AL="server";function bn(n){return n===Bg}function $g(n){return n===AL}var aD=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>bn(V(vt))?new Lg(V(Je),window):new Fg});let n=e;return n})(),Lg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=xL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function xL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Fg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Od=class{};var qg=class extends Rd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Gg=class n extends qg{static makeCurrent(){nD(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=ML();return t==null?null:RL(t)}resetBaseElement(){sl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oD(document.cookie,e)}},sl=null;function ML(){return sl=sl||document.querySelector("base"),sl?sl.getAttribute("href"):null}function RL(n){return new URL(n,document.baseURI).pathname}var OL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Pd=new ne(""),uD=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(ie(Pd),ie(ye))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),ol=class{constructor(e){this._doc=e}},Hg="ng-app-id",dD=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=$g(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Hg}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Hg),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Hg,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ie(Je),ie(sg),ie(lg,8),ie(vt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),zg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kg=/%COMP%/g,hD="%COMP%",NL=`_nghost-${hD}`,PL=`_ngcontent-${hD}`,kL=!0,LL=new ne("",{providedIn:"root",factory:()=>kL});function FL(n){return PL.replace(Kg,n)}function VL(n){return NL.replace(Kg,n)}function fD(n,e){return e.map(t=>t.replace(Kg,n))}var kd=(()=>{let e=class e{constructor(i,r,s,o,a,l,u,h=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=$g(l),this.defaultRenderer=new al(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ci.ShadowDom&&(r=Te(k({},r),{encapsulation:ci.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Ld?s.applyToHost(i):s instanceof ll&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case ci.Emulated:o=new Ld(u,h,r,this.appId,p,a,l,m);break;case ci.ShadowDom:return new Wg(u,h,i,r,a,l,this.nonce,m);default:o=new ll(u,h,r,p,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ie(uD),ie(dD),ie(sg),ie(LL),ie(Je),ie(vt),ie(ye),ie(lg))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),al=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(zg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(lD(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(lD(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new U(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=zg[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=zg[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(fi.DashCase|fi.Important)?e.style.setProperty(t,i,r&fi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&fi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Do().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function lD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Wg=class extends al{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=fD(r.id,r.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ll=class extends al{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?fD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ld=class extends ll{constructor(e,t,i,r,s,o,a,l){let u=r+"-"+i.id;super(e,t,i,s,o,a,l,u),this.contentAttr=FL(u),this.hostAttr=VL(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},UL=(()=>{let e=class e extends ol{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(ie(Je))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),jL=(()=>{let e=class e extends ol{constructor(i){super(i),this.delegate=V(KT,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(ie(Je))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),cD=["alt","control","meta","shift"],BL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$L={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},HL=(()=>{let e=class e extends ol{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Do().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),cD.forEach(h=>{let p=r.indexOf(h);p>-1&&(r.splice(p,1),a+=h+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=BL[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),cD.forEach(a=>{if(a!==s){let l=$L[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(ie(Je))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function pD(n,e){return WT(k({rootComponent:n},zL(e)))}function zL(n){return{appProviders:[...QL,...n?.providers??[]],platformProviders:KL}}function qL(){Gg.makeCurrent()}function GL(){return new hi}function WL(){return DC(document),document}var KL=[{provide:vt,useValue:Bg},{provide:og,useValue:qL,multi:!0},{provide:Je,useFactory:WL,deps:[]}];var QL=[{provide:sd,useValue:"root"},{provide:hi,useFactory:GL,deps:[]},{provide:Pd,useClass:UL,multi:!0,deps:[Je,ye,vt]},{provide:Pd,useClass:HL,multi:!0,deps:[Je]},{provide:Pd,useClass:jL,multi:!0},kd,dD,uD,{provide:br,useExisting:kd},{provide:Od,useClass:OL,deps:[]},[]];var mD=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(ie(Je))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var me="primary",bl=Symbol("RouteTitle"),Xg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function No(n){return new Xg(n)}function ZL(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function JL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yi(n[t],e[t]))return!1;return!0}function yi(n,e){let t=n?ey(n):void 0,i=e?ey(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!DD(n[r],e[r]))return!1;return!0}function ey(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function DD(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function SD(n){return n.length>0?n[n.length-1]:null}function Mr(n){return mp(n)?n:Co(n)?ft(Promise.resolve(n)):oe(n)}var XL={exact:xD,subset:MD},AD={exact:eF,subset:tF,ignored:()=>!0};function gD(n,e,t){return XL[t.paths](n.root,e.root,t.matrixParams)&&AD[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function eF(n,e){return yi(n,e)}function xD(n,e,t){if(!gs(n.segments,e.segments)||!Ud(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!xD(n.children[i],e.children[i],t))return!1;return!0}function tF(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DD(n[t],e[t]))}function MD(n,e,t){return RD(n,e,e.segments,t)}function RD(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!gs(r,t)||e.hasChildren()||!Ud(r,t,i))}else if(n.segments.length===t.length){if(!gs(n.segments,t)||!Ud(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!MD(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!gs(n.segments,r)||!Ud(n.segments,r,i)||!n.children[me]?!1:RD(n.children[me],e,s,i)}}function Ud(n,e,t){return e.every((i,r)=>AD[t](n[r].parameters,i.parameters))}var Wi=class{constructor(e=new je([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){return rF.serialize(this)}},je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}},ms=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=No(this.parameters),this._parameterMap}toString(){return ND(this)}};function nF(n,e){return gs(n,e)&&n.every((t,i)=>yi(t.parameters,e[i].parameters))}function gs(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function iF(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===me&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==me&&(t=t.concat(e(r,i)))}),t}var Cl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>new Po,providedIn:"root"});let n=e;return n})(),Po=class{parse(e){let t=new ny(e);return new Wi(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${cl(e.root,!0)}`,i=aF(e.queryParams),r=typeof e.fragment=="string"?`#${sF(e.fragment)}`:"";return`${t}${i}${r}`}},rF=new Po;function jd(n){return n.segments.map(e=>ND(e)).join("/")}function cl(n,e){if(!n.hasChildren())return jd(n);if(e){let t=n.children[me]?cl(n.children[me],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==me&&i.push(`${r}:${cl(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=iF(n,(i,r)=>r===me?[cl(n.children[me],!1)]:[`${r}:${cl(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[me]!=null?`${jd(n)}/${t[0]}`:`${jd(n)}/(${t.join("//")})`}}function OD(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fd(n){return OD(n).replace(/%3B/gi,";")}function sF(n){return encodeURI(n)}function ty(n){return OD(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bd(n){return decodeURIComponent(n)}function yD(n){return Bd(n.replace(/\+/g,"%20"))}function ND(n){return`${ty(n.path)}${oF(n.parameters)}`}function oF(n){return Object.entries(n).map(([e,t])=>`;${ty(e)}=${ty(t)}`).join("")}function aF(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Fd(t)}=${Fd(r)}`).join("&"):`${Fd(t)}=${Fd(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var lF=/^[^\/()?;#]+/;function Qg(n){let e=n.match(lF);return e?e[0]:""}var cF=/^[^\/()?;=#]+/;function uF(n){let e=n.match(cF);return e?e[0]:""}var dF=/^[^=?&#]+/;function hF(n){let e=n.match(dF);return e?e[0]:""}var fF=/^[^&#]+/;function pF(n){let e=n.match(fF);return e?e[0]:""}var ny=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[me]=new je(e,t)),i}parseSegment(){let e=Qg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new ms(Bd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=uF(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Qg(this.remaining);r&&(i=r,this.capture(i))}e[Bd(t)]=Bd(i)}parseQueryParam(e){let t=hF(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=pF(this.remaining);o&&(i=o,this.capture(i))}let r=yD(t),s=yD(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Qg(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new U(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=me);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[me]:new je([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}};function PD(n){return n.segments.length>0?new je([],{[me]:n}):n}function kD(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=kD(r);if(i===me&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new je(n.segments,e);return mF(t)}function mF(n){if(n.numberOfChildren===1&&n.children[me]){let e=n.children[me];return new je(n.segments.concat(e.segments),e.children)}return n}function ys(n){return n instanceof Wi}function gF(n,e,t=null,i=null){let r=LD(n);return FD(r,e,t,i)}function LD(n){let e;function t(s){let o={};for(let l of s.children){let u=t(l);o[l.outlet]=u}let a=new je(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=PD(i);return e??r}function FD(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Yg(r,r,r,t,i);let s=yF(e);if(s.toRoot())return Yg(r,r,new je([],{}),t,i);let o=_F(s,r,n),a=o.processChildren?hl(o.segmentGroup,o.index,s.commands):UD(o.segmentGroup,o.index,s.commands);return Yg(r,o.segmentGroup,a,t,i)}function $d(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ml(n){return typeof n=="object"&&n!=null&&n.outlets}function Yg(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let o;n===e?o=t:o=VD(n,e,t);let a=PD(kD(o));return new Wi(a,s,r)}function VD(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=VD(s,e,t)}),new je(n.segments,i)}var Hd=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&$d(i[0]))throw new U(4003,!1);let r=i.find(ml);if(r&&r!==SD(i))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function yF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hd(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Hd(t,e,i)}var Mo=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function _F(n,e,t){if(n.isAbsolute)return new Mo(e,!0,0);if(!t)return new Mo(e,!1,NaN);if(t.parent===null)return new Mo(t,!0,0);let i=$d(n.commands[0])?0:1,r=t.segments.length-1+i;return vF(t,r,n.numberOfDoubleDots)}function vF(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new U(4005,!1);r=i.segments.length}return new Mo(i,!1,r-s)}function IF(n){return ml(n[0])?n[0].outlets:{[me]:n}}function UD(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return hl(n,e,t);let i=wF(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new je(n.segments.slice(0,i.pathIndex),{});return s.children[me]=new je(n.segments.slice(i.pathIndex),n.children),hl(s,0,r)}else return i.match&&r.length===0?new je(n.segments,{}):i.match&&!n.hasChildren()?iy(n,e,t):i.match?hl(n,0,r):iy(n,e,t)}function hl(n,e,t){if(t.length===0)return new je(n.segments,{});{let i=IF(t),r={};if(Object.keys(i).some(s=>s!==me)&&n.children[me]&&n.numberOfChildren===1&&n.children[me].segments.length===0){let s=hl(n.children[me],e,t);return new je(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=UD(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new je(n.segments,r)}}function wF(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(ml(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!vD(l,u,o))return s;i+=2}else{if(!vD(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function iy(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(ml(s)){let l=EF(s.outlets);return new je(i,l)}if(r===0&&$d(t[0])){let l=n.segments[e];i.push(new ms(l.path,_D(t[0]))),r++;continue}let o=ml(s)?s.outlets[me]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&$d(a)?(i.push(new ms(o,_D(a))),r+=2):(i.push(new ms(o,{})),r++)}return new je(i,{})}function EF(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=iy(new je([],{}),0,i))}),e}function _D(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function vD(n,e,t){return n==t.path&&yi(e,t.parameters)}var fl="imperative",Nt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Nt||{}),Bn=class{constructor(e,t){this.id=e,this.url=t}},ko=class extends Bn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Nt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_i=class extends Bn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Nt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Tn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Tn||{}),zd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zd||{}),Gi=class extends Bn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Nt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ar=class extends Bn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Nt.NavigationSkipped}},gl=class extends Bn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Nt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qd=class extends Bn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ry=class extends Bn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sy=class extends Bn{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Nt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oy=class extends Bn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ay=class extends Bn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Nt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ly=class{constructor(e){this.route=e,this.type=Nt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cy=class{constructor(e){this.route=e,this.type=Nt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uy=class{constructor(e){this.snapshot=e,this.type=Nt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dy=class{constructor(e){this.snapshot=e,this.type=Nt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hy=class{constructor(e){this.snapshot=e,this.type=Nt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fy=class{constructor(e){this.snapshot=e,this.type=Nt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gd=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Nt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},yl=class{},Lo=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function bF(n,e){return n.providers&&!n._injector&&(n._injector=Cd(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ei(n){return n.outlet||me}function CF(n,e){let t=n.filter(i=>ei(i)===e);return t.push(...n.filter(i=>ei(i)!==e)),t}function Tl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var py=class{get injector(){return Tl(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Dl(this.rootInjector),this.attachRef=null}},Dl=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new py(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(ie(gn))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Wd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=my(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=my(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=gy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return gy(e,this._root).map(t=>t.value)}};function my(n,e){if(n===e.value)return e;for(let t of e.children){let i=my(n,t);if(i)return i}return null}function gy(n,e){if(n===e.value)return[e];for(let t of e.children){let i=gy(n,t);if(i.length)return i.unshift(e),i}return[]}var Cn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function xo(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Kd=class extends Wd{constructor(e,t){super(e),this.snapshot=t,Ty(this,e)}toString(){return this.snapshot.toString()}};function jD(n){let e=TF(n),t=new Ft([new ms("",{})]),i=new Ft({}),r=new Ft({}),s=new Ft({}),o=new Ft(""),a=new xr(t,i,s,o,r,me,n,e.root);return a.snapshot=e.root,new Kd(new Cn(a,[]),e)}function TF(n){let e={},t={},i={},r="",s=new Ro([],e,i,r,t,me,n,null,{});return new Yd("",new Cn(s,[]))}var xr=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(De(u=>u[bl]))??oe(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(De(e=>No(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(De(e=>No(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qd(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),r?.data),n._resolvedData)}:i={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&$D(r)&&(i.resolve[bl]=r.title),i}var Ro=class{get title(){return this.data?.[bl]}constructor(e,t,i,r,s,o,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=No(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=No(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Yd=class extends Wd{constructor(e,t){super(t),this.url=e,Ty(this,t)}toString(){return BD(this._root)}};function Ty(n,e){e.value._routerState=n,e.children.forEach(t=>Ty(n,t))}function BD(n){let e=n.children.length>0?` { ${n.children.map(BD).join(", ")} } `:"";return`${n.value}${e}`}function Zg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yi(e.params,t.params)||n.paramsSubject.next(t.params),JL(e.url,t.url)||n.urlSubject.next(t.url),yi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yy(n,e){let t=yi(n.params,e.params)&&nF(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||yy(n.parent,e.parent))}function $D(n){return typeof n.title=="string"||n.title===null}var Dy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new fe,this.deactivateEvents=new fe,this.attachEvents=new fe,this.detachEvents=new fe,this.parentContexts=V(Dl),this.location=V(Jn),this.changeDetector=V(dn),this.inputBinder=V(eh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new _y(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zn]});let n=e;return n})(),_y=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===xr?this.route:e===Dl?this.childContexts:this.parent.get(e,t)}},eh=new ne(""),ID=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=Va([r.queryParams,r.params,r.data]).pipe(On(([o,a,l],u)=>(l=k(k(k({},o),a),l),u===0?oe(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=QT(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function DF(n,e,t){let i=_l(n,e._root,t?t._root:void 0);return new Kd(i,e)}function _l(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=SF(n,e,t);return new Cn(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>_l(n,a)),o}}let i=AF(e.value),r=e.children.map(s=>_l(n,s));return new Cn(i,r)}}function SF(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return _l(n,i,r);return _l(n,i)})}function AF(n){return new xr(new Ft(n.url),new Ft(n.params),new Ft(n.queryParams),new Ft(n.fragment),new Ft(n.data),n.outlet,n.component,n)}var vl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},HD="ngNavigationCancelingError";function Zd(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=ys(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=zD(!1,Tn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function zD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[HD]=!0,t.cancellationCode=e,t}function xF(n){return qD(n)&&ys(n.url)}function qD(n){return!!n&&n[HD]}var MF=(n,e,t,i)=>De(r=>(new vy(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),vy=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Zg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=xo(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=xo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=xo(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dy(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Zg(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Zg(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},Jd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Oo=class{constructor(e,t){this.component=e,this.route=t}};function RF(n,e,t){let i=n._root,r=e?e._root:null;return ul(i,r,t,[i.value])}function OF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Vo(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!db(n)?n:e.get(n):i}function ul(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=xo(e);return n.children.forEach(o=>{NF(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>pl(a,t.getContext(o),r)),r}function NF(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=PF(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Jd(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ul(n,e,a?a.children:null,i,r):ul(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Oo(a.outlet.component,o))}else o&&pl(e,a,r),r.canActivateChecks.push(new Jd(i)),s.component?ul(n,null,a?a.children:null,i,r):ul(n,null,t,i,r);return r}function PF(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!gs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(n.url,e.url)||!yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yy(n,e)||!yi(n.queryParams,e.queryParams);case"paramsChange":default:return!yy(n,e)}}function pl(n,e,t){let i=xo(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?pl(o,e.children.getContext(s),t):pl(o,null,t):pl(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Oo(e.outlet.component,r)):t.canDeactivateChecks.push(new Oo(null,r)):t.canDeactivateChecks.push(new Oo(null,r))}function Sl(n){return typeof n=="function"}function kF(n){return typeof n=="boolean"}function LF(n){return n&&Sl(n.canLoad)}function FF(n){return n&&Sl(n.canActivate)}function VF(n){return n&&Sl(n.canActivateChild)}function UF(n){return n&&Sl(n.canDeactivate)}function jF(n){return n&&Sl(n.canMatch)}function GD(n){return n instanceof Ri||n?.name==="EmptyError"}var Vd=Symbol("INITIAL_VALUE");function Fo(){return On(n=>Va(n.map(e=>e.pipe(Oi(1),vp(Vd)))).pipe(De(e=>{for(let t of e)if(t!==!0){if(t===Vd)return Vd;if(t===!1||BF(t))return t}return!0}),Rn(e=>e!==Vd),Oi(1)))}function BF(n){return ys(n)||n instanceof vl}function $F(n,e){return yt(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?oe(Te(k({},t),{guardsResult:!0})):HF(o,i,r,n).pipe(yt(a=>a&&kF(a)?zF(i,s,n,e):oe(a)),De(a=>Te(k({},t),{guardsResult:a})))})}function HF(n,e,t,i){return ft(n).pipe(yt(r=>QF(r.component,r.route,t,e,i)),oi(r=>r!==!0,!0))}function zF(n,e,t,i){return ft(e).pipe(Jr(r=>Xs(GF(r.route.parent,i),qF(r.route,i),KF(n,r.path,t),WF(n,r.route,t))),oi(r=>r!==!0,!0))}function qF(n,e){return n!==null&&e&&e(new hy(n)),oe(!0)}function GF(n,e){return n!==null&&e&&e(new uy(n)),oe(!0)}function WF(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return oe(!0);let r=i.map(s=>mu(()=>{let o=Tl(e)??t,a=Vo(s,o),l=FF(a)?a.canActivate(e,n):pi(o,()=>a(e,n));return Mr(l).pipe(oi())}));return oe(r).pipe(Fo())}function KF(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>OF(o)).filter(o=>o!==null).map(o=>mu(()=>{let a=o.guards.map(l=>{let u=Tl(o.node)??t,h=Vo(l,u),p=VF(h)?h.canActivateChild(i,n):pi(u,()=>h(i,n));return Mr(p).pipe(oi())});return oe(a).pipe(Fo())}));return oe(s).pipe(Fo())}function QF(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return oe(!0);let o=s.map(a=>{let l=Tl(e)??r,u=Vo(a,l),h=UF(u)?u.canDeactivate(n,e,t,i):pi(l,()=>u(n,e,t,i));return Mr(h).pipe(oi())});return oe(o).pipe(Fo())}function YF(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return oe(!0);let s=r.map(o=>{let a=Vo(o,n),l=LF(a)?a.canLoad(e,t):pi(n,()=>a(e,t));return Mr(l)});return oe(s).pipe(Fo(),WD(i))}function WD(n){return ap(Dt(e=>{if(typeof e!="boolean")throw Zd(n,e)}),De(e=>e===!0))}function ZF(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return oe(!0);let s=r.map(o=>{let a=Vo(o,n),l=jF(a)?a.canMatch(e,t):pi(n,()=>a(e,t));return Mr(l)});return oe(s).pipe(Fo(),WD(i))}var Il=class{constructor(e){this.segmentGroup=e||null}},wl=class extends Error{constructor(e){super(),this.urlTree=e}};function Ao(n){return Zs(new Il(n))}function JF(n){return Zs(new U(4e3,!1))}function XF(n){return Zs(zD(!1,Tn.GuardRejected))}var Iy=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return oe(i);if(r.numberOfChildren>1||!r.children[me])return JF(`${e.redirectTo}`);r=r.children[me]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:h,url:p,outlet:m,params:y,data:v,title:S}=r,A=pi(s,()=>a({params:y,data:v,queryParams:l,fragment:u,routeConfig:h,url:p,outlet:m,title:S}));if(A instanceof Wi)throw new wl(A);t=A}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new wl(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new Wi(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new je(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new U(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},wy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eV(n,e,t,i,r){let s=KD(n,e,t);return s.matched?(i=bF(e,i),ZF(i,e,t,r).pipe(De(o=>o===!0?s:k({},wy)))):oe(s)}function KD(n,e,t){if(e.path==="**")return tV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},wy):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||ZL)(t,n,e);if(!r)return k({},wy);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?k(k({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function tV(n){return{matched:!0,parameters:n.length>0?SD(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function wD(n,e,t,i){return t.length>0&&rV(n,t,i)?{segmentGroup:new je(e,iV(i,new je(t,n.children))),slicedSegments:[]}:t.length===0&&sV(n,t,i)?{segmentGroup:new je(n.segments,nV(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function nV(n,e,t,i){let r={};for(let s of t)if(th(n,e,s)&&!i[ei(s)]){let o=new je([],{});r[ei(s)]=o}return k(k({},i),r)}function iV(n,e){let t={};t[me]=e;for(let i of n)if(i.path===""&&ei(i)!==me){let r=new je([],{});t[ei(i)]=r}return t}function rV(n,e,t){return t.some(i=>th(n,e,i)&&ei(i)!==me)}function sV(n,e,t){return t.some(i=>th(n,e,i))}function th(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function oV(n,e,t){return e.length===0&&!n.children[t]}var Ey=class{};function aV(n,e,t,i,r,s,o="emptyOnly"){return new by(n,e,t,i,r,o,s).recognize()}var lV=31,by=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Iy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new U(4002,`'${e.segmentGroup}'`)}recognize(){let e=wD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(De(({children:t,rootSnapshot:i})=>{let r=new Cn(i,t),s=new Yd("",r),o=gF(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Ro([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),me,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,me,t).pipe(De(i=>({children:i,rootSnapshot:t})),fr(i=>{if(i instanceof wl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Il?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(De(o=>o instanceof Cn?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return ft(s).pipe(Jr(o=>{let a=i.children[o],l=CF(t,o);return this.processSegmentGroup(e,l,a,o,r)}),_p((o,a)=>(o.push(...a),o)),pr(null),yp(),yt(o=>{if(o===null)return Ao(i);let a=QD(o);return cV(a),oe(a)}))}processSegment(e,t,i,r,s,o,a){return ft(t).pipe(Jr(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(fr(u=>{if(u instanceof Il)return oe(null);throw u}))),oi(l=>!!l),fr(l=>{if(GD(l))return oV(i,r,s)?oe(new Ey):Ao(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return ei(i)!==o&&(o===me||!th(r,s,i))?Ao(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):Ao(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=KD(t,r,s);if(!l)return Ao(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>lV&&(this.allowRedirects=!1));let y=new Ro(s,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ED(r),ei(r),r.component??r._loadedComponent??null,r,bD(r)),v=Qd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let S=this.applyRedirects.applyRedirectCommands(h,r.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(r,S).pipe(yt(A=>this.processSegment(e,i,t,A.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=eV(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(On(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(On(({routes:u})=>{let h=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=l,v=new Ro(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,ED(i),ei(i),i.component??i._loadedComponent??null,i,bD(i)),S=Qd(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let{segmentGroup:A,slicedSegments:O}=wD(t,m,y,u);if(O.length===0&&A.hasChildren())return this.processChildren(h,u,A,v).pipe(De(H=>new Cn(v,H)));if(u.length===0&&O.length===0)return oe(new Cn(v,[]));let P=ei(i)===s;return this.processSegment(h,u,A,O,P?me:s,!0,v).pipe(De(H=>new Cn(v,H instanceof Cn?[H]:[])))}))):Ao(t)))}getChildConfig(e,t,i){return t.children?oe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?oe({routes:t._loadedRoutes,injector:t._loadedInjector}):YF(e,t,i,this.urlSerializer).pipe(yt(r=>r?this.configLoader.loadChildren(e,t).pipe(Dt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):XF(t))):oe({routes:[],injector:e})}};function cV(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}function uV(n){let e=n.value.routeConfig;return e&&e.path===""}function QD(n){let e=[],t=new Set;for(let i of n){if(!uV(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=QD(i.children);e.push(new Cn(i.value,r))}return e.filter(i=>!t.has(i))}function ED(n){return n.data||{}}function bD(n){return n.resolve||{}}function dV(n,e,t,i,r,s){return yt(o=>aV(n,e,t,i,o.extractedUrl,r,s).pipe(De(({state:a,tree:l})=>Te(k({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function hV(n,e){return yt(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return oe(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of YD(l))o.add(u);let a=0;return ft(o).pipe(Jr(l=>s.has(l)?fV(l,i,n,e):(l.data=Qd(l,l.parent,n).resolve,oe(void 0))),Dt(()=>a++),eo(1),yt(l=>a===o.size?oe(t):mn))})}function YD(n){let e=n.children.map(t=>YD(t)).flat();return[n,...e]}function fV(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!$D(r)&&(s[bl]=r.title),pV(s,n,e,i).pipe(De(o=>(n._resolvedData=o,n.data=Qd(n,n.parent,t).resolve,null)))}function pV(n,e,t,i){let r=ey(n);if(r.length===0)return oe({});let s={};return ft(r).pipe(yt(o=>mV(n[o],e,t,i).pipe(oi(),Dt(a=>{if(a instanceof vl)throw Zd(new Po,a);s[o]=a}))),eo(1),gp(s),fr(o=>GD(o)?mn:Zs(o)))}function mV(n,e,t,i){let r=Tl(e)??i,s=Vo(n,r),o=s.resolve?s.resolve(e,t):pi(r,()=>s(e,t));return Mr(o)}function Jg(n){return On(e=>{let t=n(e);return t?ft(t).pipe(De(()=>e)):oe(e)})}var ZD=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(i){return i.data[bl]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(gV),providedIn:"root"});let n=e;return n})(),gV=(()=>{let e=class e extends ZD{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ie(mD))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Al=new ne("",{providedIn:"root",factory:()=>({})}),yV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ie({type:e,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(r,s){r&1&&Se(0,"router-outlet")},dependencies:[Dy],encapsulation:2});let n=e;return n})();function Sy(n){let e=n.children&&n.children.map(Sy),t=e?Te(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=yV),t}var El=new ne(""),Ay=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=V(Md)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return oe(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Mr(i.loadComponent()).pipe(De(JD),Dt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Ua(()=>{this.componentLoaders.delete(i)})),s=new Ws(r,()=>new Tt).pipe(Gs());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=_V(r,this.compiler,i,this.onLoadEndListener).pipe(Ua(()=>{this.childrenLoaders.delete(r)})),a=new Ws(o,()=>new Tt).pipe(Gs());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function _V(n,e,t,i){return Mr(n.loadChildren()).pipe(De(JD),yt(r=>r instanceof Qa||Array.isArray(r)?oe(r):ft(e.compileModuleAsync(r))),De(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(El,[],{optional:!0,self:!0}).flat()),{routes:o.map(Sy),injector:s}}))}function vV(n){return n&&typeof n=="object"&&"default"in n}function JD(n){return vV(n)?n.default:n}var xy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(IV),providedIn:"root"});let n=e;return n})(),IV=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),XD=new ne(""),eS=new ne("");function wV(n,e,t){let i=n.get(eS),r=n.get(Je);return n.get(ye).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),EV(n))),{onViewTransitionCreated:l}=i;return l&&pi(n,()=>l({transition:a,from:e,to:t})),o})}function EV(n){return new Promise(e=>{Tg({read:()=>setTimeout(e)},{injector:n})})}var bV=new ne(""),My=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Tt,this.transitionAbortSubject=new Tt,this.configLoader=V(Ay),this.environmentInjector=V(gn),this.urlSerializer=V(Cl),this.rootContexts=V(Dl),this.location=V(So),this.inputBindingEnabled=V(eh,{optional:!0})!==null,this.titleStrategy=V(ZD),this.options=V(Al,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=V(xy),this.createViewTransition=V(XD,{optional:!0}),this.navigationErrorHandler=V(bV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let i=s=>this.events.next(new ly(s)),r=s=>this.events.next(new cy(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Te(k(k({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Ft({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:fl,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rn(o=>o.id!==0),De(o=>Te(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),On(o=>{let a=!1,l=!1;return oe(o).pipe(On(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),mn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?Te(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ar(u.id,this.urlSerializer.serialize(u.rawUrl),m,zd.IgnoredSameUrlNavigation)),u.resolve(!1),mn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return oe(u).pipe(On(m=>{let y=this.transitions?.getValue();return this.events.next(new ko(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?mn:Promise.resolve(m)}),dV(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Dt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=Te(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new qd(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:y,source:v,restoredState:S,extras:A}=u,O=new ko(m,this.urlSerializer.serialize(y),v,S);this.events.next(O);let P=jD(this.rootComponentType).snapshot;return this.currentTransition=o=Te(k({},u),{targetSnapshot:P,urlAfterRedirects:y,extras:Te(k({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,oe(o)}else{let m="";return this.events.next(new Ar(u.id,this.urlSerializer.serialize(u.extractedUrl),m,zd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),mn}}),Dt(u=>{let h=new ry(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),De(u=>(this.currentTransition=o=Te(k({},u),{guards:RF(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),$F(this.environmentInjector,u=>this.events.next(u)),Dt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Zd(this.urlSerializer,u.guardsResult);let h=new sy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(h)}),Rn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Tn.GuardRejected),!1)),Jg(u=>{if(u.guards.canActivateChecks.length)return oe(u).pipe(Dt(h=>{let p=new oy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),On(h=>{let p=!1;return oe(h).pipe(hV(this.paramsInheritanceStrategy,this.environmentInjector),Dt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Tn.NoDataFromResolver)}}))}),Dt(h=>{let p=new ay(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),Jg(u=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Dt(y=>{p.component=y}),De(()=>{})));for(let y of p.children)m.push(...h(y));return m};return Va(h(u.targetSnapshot.root)).pipe(pr(null),Oi(1))}),Jg(()=>this.afterPreactivation()),On(()=>{let{currentSnapshot:u,targetSnapshot:h}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,h.root);return p?ft(p).pipe(De(()=>o)):oe(o)}),De(u=>{let h=DF(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=Te(k({},u),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,o}),Dt(()=>{this.events.next(new yl)}),MF(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Oi(1),Dt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _i(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),Ip(this.transitionAbortSubject.pipe(Dt(u=>{throw u}))),Ua(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",Tn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),fr(u=>{if(l=!0,qD(u))this.events.next(new Gi(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),xF(u)?this.events.next(new Lo(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let h=new gl(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=pi(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof vl){let{message:m,cancellationCode:y}=Zd(this.urlSerializer,p);this.events.next(new Gi(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new Lo(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=i.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return mn}))}))}cancelNavigationTransition(i,r,s){let o=new Gi(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function CV(n){return n!==fl}var TV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(DV),providedIn:"root"});let n=e;return n})(),Cy=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},DV=(()=>{let e=class e extends Cy{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=_t(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),tS=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:()=>V(SV),providedIn:"root"});let n=e;return n})(),SV=(()=>{let e=class e extends tS{constructor(){super(...arguments),this.location=V(So),this.urlSerializer=V(Cl),this.options=V(Al,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=V(xy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof ko)this.stateMemento=this.createStateMemento();else if(i instanceof Ar)this.rawUrlTree=r.initialUrl;else if(i instanceof qd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof yl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof Gi&&(i.code===Tn.GuardRejected||i.code===Tn.NoDataFromResolver)?this.restoreHistory(r):i instanceof gl?this.restoreHistory(r,!0):i instanceof _i&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof Wi?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=_t(e)))(s||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),dl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dl||{});function nS(n,e){n.events.pipe(Rn(t=>t instanceof _i||t instanceof Gi||t instanceof gl||t instanceof Ar),De(t=>t instanceof _i||t instanceof Ar?dl.COMPLETE:(t instanceof Gi?t.code===Tn.Redirect||t.code===Tn.SupersededByNewNavigation:!1)?dl.REDIRECTING:dl.FAILED),Rn(t=>t!==dl.REDIRECTING),Oi(1)).subscribe(()=>{e()})}function AV(n){throw n}var xV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ki=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=V(Sd),this.stateManager=V(tS),this.options=V(Al,{optional:!0})||{},this.pendingTasks=V(hs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=V(My),this.urlSerializer=V(Cl),this.location=V(So),this.urlHandlingStrategy=V(xy),this._events=new Tt,this.errorHandler=this.options.errorHandler||AV,this.navigated=!1,this.routeReuseStrategy=V(TV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=V(El,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!V(eh,{optional:!0}),this.eventsSubscription=new ut,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Gi&&r.code!==Tn.Redirect&&r.code!==Tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _i)this.navigated=!0;else if(r instanceof Lo){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||CV(s.source)},a);this.scheduleNavigation(l,fl,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}OV(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=k({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Sy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,h=u?this.currentUrlTree.fragment:a,p=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=LD(y)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return FD(m,i,p,h??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=ys(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,fl,null,r)}navigate(i,r={skipLocationChange:!1}){return RV(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=k({},xV):r===!1?s=k({},MV):s=r,ys(i))return gD(this.currentUrlTree,i,s);let o=this.parseUrl(i);return gD(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,h;a?(l=a.resolve,u=a.reject,h=a.promise):h=new Promise((m,y)=>{l=m,u=y});let p=this.pendingTasks.add();return nS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function RV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new U(4008,!1)}function OV(n){return!(n instanceof yl)&&!(n instanceof Lo)}var iS=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new Tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(h=>{h instanceof _i&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ys(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:MC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:ys(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(K(Ki),K(xr),ng("tabindex"),K(Mt),K(rt),K(Bi))},e.\u0275dir=xt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Ke("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&de("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",we],skipLocationChange:[2,"skipLocationChange","skipLocationChange",we],replaceUrl:[2,"replaceUrl","replaceUrl",we],routerLink:"routerLink"},standalone:!0,features:[wn,Zn]});let n=e;return n})();var Xd=class{};var NV=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(i=>i instanceof _i),Jr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Cd(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ft(s).pipe(Js())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=oe(null);let o=s.pipe(yt(a=>a===null?oe(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ft([o,a]).pipe(Js())}else return o})}};e.\u0275fac=function(r){return new(r||e)(ie(Ki),ie(Md),ie(gn),ie(Xd),ie(Ay))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),rS=new ne(""),PV=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof ko?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof _i?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Ar&&i.code===zd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Gd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Gd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){GC()},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function sS(n,...e){return Tr([{provide:El,multi:!0,useValue:n},[],{provide:xr,useFactory:oS,deps:[Ki]},{provide:xd,multi:!0,useFactory:aS},e.map(t=>t.\u0275providers)])}function oS(n){return n.routerState.root}function xl(n,e){return{\u0275kind:n,\u0275providers:e}}function aS(){let n=V(Gt);return e=>{let t=n.get(ps);if(e!==t.components[0])return;let i=n.get(Ki),r=n.get(lS);n.get(Ry)===1&&i.initialNavigation(),n.get(cS,null,ve.Optional)?.setUpPreloading(),n.get(rS,null,ve.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var lS=new ne("",{factory:()=>new Tt}),Ry=new ne("",{providedIn:"root",factory:()=>1});function kV(){return xl(2,[{provide:Ry,useValue:0},{provide:Ad,multi:!0,deps:[Gt],useFactory:e=>{let t=e.get(iD,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(Ki),s=e.get(lS);nS(r,()=>{i(!0)}),e.get(My).afterPreactivation=()=>(i(!0),s.closed?oe(void 0):s),r.initialNavigation()}))}}])}function LV(){return xl(3,[{provide:Ad,multi:!0,useFactory:()=>{let e=V(Ki);return()=>{e.setUpLocationChangeListener()}}},{provide:Ry,useValue:2}])}var cS=new ne("");function FV(n){return xl(0,[{provide:cS,useExisting:NV},{provide:Xd,useExisting:n}])}function VV(){return xl(8,[ID,{provide:eh,useExisting:ID}])}function UV(n){let e=[{provide:XD,useValue:wV},{provide:eS,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return xl(9,e)}var CD=new ne("ROUTER_FORROOT_GUARD"),jV=[So,{provide:Cl,useClass:Po},Ki,Dl,{provide:xr,useFactory:oS,deps:[Ki]},Ay,[]],Oy=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[jV,[],{provide:El,multi:!0,useValue:i},{provide:CD,useFactory:zV,deps:[[Ki,new vn,new id]]},{provide:Al,useValue:r||{}},r?.useHash?$V():HV(),BV(),r?.preloadingStrategy?FV(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?qV(r):[],r?.bindToComponentInputs?VV().\u0275providers:[],r?.enableViewTransitions?UV().\u0275providers:[],GV()]}}static forChild(i){return{ngModule:e,providers:[{provide:El,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(ie(CD,8))},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let n=e;return n})();function BV(){return{provide:rS,useFactory:()=>{let n=V(aD),e=V(ye),t=V(Al),i=V(My),r=V(Cl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new PV(r,i,n,e,t)}}}function $V(){return{provide:Bi,useClass:sD}}function HV(){return{provide:Bi,useClass:jg}}function zV(n){return"guarded"}function qV(n){return[n.initialNavigation==="disabled"?LV().\u0275providers:[],n.initialNavigation==="enabledBlocking"?kV().\u0275providers:[]]}var TD=new ne("");function GV(){return[{provide:TD,useFactory:aS},{provide:xd,multi:!0,useExisting:TD}]}var he=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),u=this.isDate(t);if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var h=e instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return k(k({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,u=t instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var h=e instanceof RegExp,p=t instanceof RegExp;if(h!=p)return!1;if(h&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},uS=0;function Rr(n="pn_id_"){return uS++,`${n}${uS}`}function KV(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var Or=KV();var dS=["*"];var Kt=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var hS=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let u of i){let h=he.resolveFieldData(l,u);if(this.filters[s](h,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=he.removeAccents(i.toString()).toLocaleLowerCase(r);return he.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=he.removeAccents(i.toString()).toLocaleLowerCase(r);return he.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=he.removeAccents(i.toString()).toLocaleLowerCase(r);return he.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=he.removeAccents(i.toString()).toLocaleLowerCase(r),o=he.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:he.removeAccents(t.toString()).toLocaleLowerCase(r)==he.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:he.removeAccents(t.toString()).toLocaleLowerCase(r)!=he.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(he.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fS=(()=>{class n{clickSource=new Tt;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Nr=(()=>{class n{ripple=!1;inputStyle=In("outlined");overlayOptions={};csp=In({nonce:void 0});filterMatchModeOptions={text:[Kt.STARTS_WITH,Kt.CONTAINS,Kt.NOT_CONTAINS,Kt.ENDS_WITH,Kt.EQUALS,Kt.NOT_EQUALS],numeric:[Kt.EQUALS,Kt.NOT_EQUALS,Kt.LESS_THAN,Kt.LESS_THAN_OR_EQUAL_TO,Kt.GREATER_THAN,Kt.GREATER_THAN_OR_EQUAL_TO],date:[Kt.DATE_IS,Kt.DATE_IS_NOT,Kt.DATE_BEFORE,Kt.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new Tt;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=k(k({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ie({type:n,selectors:[["p-header"]],standalone:!0,features:[$e],ngContentSelectors:dS,decls:1,vars:0,template:function(i,r){i&1&&(Fn(),un(0))},encapsulation:2})}return n})(),mS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ie({type:n,selectors:[["p-footer"]],standalone:!0,features:[$e],ngContentSelectors:dS,decls:1,vars:0,template:function(i,r){i&1&&(Fn(),un(0))},encapsulation:2})}return n})(),ti=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(K(Yn))};static \u0275dir=xt({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),hn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({})}return n})(),nh=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var QV=["*",[["p-header"]],[["p-footer"]]],YV=["*","p-header","p-footer"];function ZV(n,e){n&1&&Be(0)}function JV(n,e){if(n&1&&(z(0,"div",8),un(1,1),Y(2,ZV,1,0,"ng-container",6),q()),n&2){let t=F();N(2),R("ngTemplateOutlet",t.headerTemplate)}}function XV(n,e){n&1&&Be(0)}function e2(n,e){if(n&1&&(z(0,"div",9),Ot(1),Y(2,XV,1,0,"ng-container",6),q()),n&2){let t=F();N(),Vi(" ",t.header," "),N(),R("ngTemplateOutlet",t.titleTemplate)}}function t2(n,e){n&1&&Be(0)}function n2(n,e){if(n&1&&(z(0,"div",10),Ot(1),Y(2,t2,1,0,"ng-container",6),q()),n&2){let t=F();N(),Vi(" ",t.subheader," "),N(),R("ngTemplateOutlet",t.subtitleTemplate)}}function i2(n,e){n&1&&Be(0)}function r2(n,e){n&1&&Be(0)}function s2(n,e){if(n&1&&(z(0,"div",11),un(1,2),Y(2,r2,1,0,"ng-container",6),q()),n&2){let t=F();N(2),R("ngTemplateOutlet",t.footerTemplate)}}var gS=(()=>{class n{el;header;subheader;set style(t){he.equals(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=In(null);constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||n)(K(rt))};static \u0275cmp=Ie({type:n,selectors:[["p-card"]],contentQueries:function(i,r,s){if(i&1&&(Vn(s,pS,5),Vn(s,mS,5),Vn(s,ti,4)),i&2){let o;nt(o=it())&&(r.headerFacet=o.first),nt(o=it())&&(r.footerFacet=o.first),nt(o=it())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:YV,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,r){i&1&&(Fn(QV),z(0,"div",0),Y(1,JV,3,1,"div",1),z(2,"div",2),Y(3,e2,3,2,"div",3)(4,n2,3,2,"div",4),z(5,"div",5),un(6),Y(7,i2,1,0,"ng-container",6),q(),Y(8,s2,3,1,"div",7),q()()),i&2&&(Qe(r.styleClass),R("ngClass","p-card p-component")("ngStyle",r._style()),de("data-pc-name","card"),N(),R("ngIf",r.headerFacet||r.headerTemplate),N(2),R("ngIf",r.header||r.titleTemplate),N(),R("ngIf",r.subheader||r.subtitleTemplate),N(3),R("ngTemplateOutlet",r.contentTemplate),N(),R("ngIf",r.footerFacet||r.footerTemplate))},dependencies:[$i,Hi,qi,zi],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),yS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En,hn]})}return n})();var rh=new ne("");var a2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},j7=Te(k({},a2),{"[class.ng-submitted]":"isSubmitted"});var l2=new ne("CallSetDisabledState",{providedIn:"root",factory:()=>_S}),_S="always";var c2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({});let n=e;return n})();var vS=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:l2,useValue:i.callSetDisabledState??_S}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=We({type:e}),e.\u0275inj=Ge({imports:[c2]});let n=e;return n})();var L=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=P=>{if(P)return getComputedStyle(P).getPropertyValue("position")==="relative"?P:s(P.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),u=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),p=this.getViewport(),y=s(t)?.getBoundingClientRect()||{top:-1*u,left:-1*h},v,S;l.top+a+o.height>p.height?(v=l.top-y.top-o.height,t.style.transformOrigin="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-y.top,t.style.transformOrigin="top");let A=l.left+o.width-p.width,O=l.left-y.left;o.width>p.width?S=(l.left-y.left)*-1:A>0?S=O-A:S=l.left-y.left,t.style.top=v+"px",t.style.left=S+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,u=i.offsetWidth??i.getBoundingClientRect().width,h=i.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),v,S;h.top+l+o>y.height?(v=h.top+p-o,t.style.transformOrigin="bottom",v<0&&(v=p)):(v=l+h.top+p,t.style.transformOrigin="top"),h.left+a>y.width?S=Math.max(0,h.left+m+u-a):S=h.left+m,t.style.top=v+"px",t.style.left=S+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let u=l.split(",");for(let h of u){let p=this.findSingle(a,h);p&&o(p)&&i.push(p)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),h=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,p=t.scrollTop,m=t.clientHeight,y=this.getOuterHeight(i);h<0?t.scrollTop=p+h:h+y>m&&(t.scrollTop=p+h-m+y)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,u)=>{if(u!=null){let h=typeof u;if(h==="string"||h==="number")l.push(u);else if(h==="object"){let p=Array.isArray(u)?r(s,u):Object.entries(u).map(([m,y])=>s==="style"&&(y||y===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?m:void 0);l=p.length?l.concat(p.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Uo=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=L.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var IS=(()=>{class n{autofocus=!1;focused=!1;platformId=V(vt);document=V(Je);host=V(rt);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){bn(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=L.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=xt({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",we]},standalone:!0,features:[wn]})}return n})(),wS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({})}return n})();var ce=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ce||{}),vi="*";function ES(n,e){return{type:ce.Trigger,name:n,definitions:e,options:{}}}function Ny(n,e=null){return{type:ce.Animate,styles:e,timings:n}}function bS(n,e=null){return{type:ce.Sequence,steps:n,options:e}}function jo(n){return{type:ce.Style,styles:n,offset:null}}function Py(n,e,t=null){return{type:ce.Transition,expr:n,animation:e,options:t}}function ky(n,e=null){return{type:ce.Reference,animation:n,options:e}}function Ly(n,e=null){return{type:ce.AnimateRef,animation:n,options:e}}var Pr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ml=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},sh="!";var d2=["overlay"],h2=["content"],f2=["*"],p2=(n,e,t,i,r,s,o,a,l,u,h,p,m,y)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":u,"p-overlay-left-end":h,"p-overlay-right":p,"p-overlay-right-start":m,"p-overlay-right-end":y}),m2=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),g2=n=>({value:"visible",params:n}),y2=n=>({mode:n}),_2=n=>({$implicit:n});function v2(n,e){n&1&&Be(0)}function I2(n,e){if(n&1){let t=Ut();z(0,"div",3,1),Ke("click",function(r){Le(t);let s=F(2);return Fe(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){Le(t);let s=F(2);return Fe(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){Le(t);let s=F(2);return Fe(s.onOverlayContentAnimationDone(r))}),un(2),Y(3,v2,1,0,"ng-container",4),q()}if(n&2){let t=F(2);Qe(t.contentStyleClass),R("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",st(11,g2,bo(7,m2,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),N(3),R("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",st(15,_2,st(13,y2,t.overlayMode)))}}function w2(n,e){if(n&1){let t=Ut();z(0,"div",3,0),Ke("click",function(){Le(t);let r=F();return Fe(r.onOverlayClick())}),Y(2,I2,4,17,"div",2),q()}if(n&2){let t=F();Qe(t.styleClass),R("ngStyle",t.style)("ngClass",VT(5,p2,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),N(2),R("ngIf",t.visible)}}var E2={provide:rh,useExisting:us(()=>Fy),multi:!0},b2=ky([jo({transform:"{{transform}}",opacity:0}),Ny("{{showTransitionParams}}")]),C2=ky([Ny("{{hideTransitionParams}}",jo({transform:"{{transform}}",opacity:0}))]),Fy=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return he.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return he.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return he.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return he.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new fe;onBeforeShow=new fe;onShow=new fe;onBeforeHide=new fe;onHide=new fe;onAnimationStart=new fe;onAnimationDone=new fe;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(bn(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return k(k({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return k(k({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return L.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,u){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&L.focus(this.targetEl),this.modal&&L.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&L.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&Or.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),L.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&L.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Or.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Uo(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!L.isTouchDevice()}):!L.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(L.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),Or.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(K(Je),K(vt),K(rt),K(Mt),K(Nr),K(fS),K(dn),K(ye))};static \u0275cmp=Ie({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&Vn(s,ti,4),i&2){let o;nt(o=it())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(jt(d2,5),jt(h2,5)),i&2){let s;nt(s=it())&&(r.overlayViewChild=s.first),nt(s=it())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[nl([E2])],ngContentSelectors:f2,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(Fn(),Y(0,w2,3,20,"div",2)),i&2&&R("ngIf",r.modalVisible)},dependencies:[$i,Hi,qi,zi],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[ES("overlayContentAnimation",[Py(":enter",[Ly(b2)]),Py(":leave",[Ly(C2)])])]},changeDetection:0})}return n})(),Vy=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En,hn,hn]})}return n})();var CS=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){bn(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(L.removeClass(i,"p-ink-active"),!L.getHeight(i)&&!L.getWidth(i)){let a=Math.max(L.getOuterWidth(this.el.nativeElement),L.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=L.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-L.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-L.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),L.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&L.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&L.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),L.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,L.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(K(Je),K(vt),K(Mt),K(rt),K(ye),K(Nr,8))};static \u0275dir=xt({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),oh=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({})}return n})();var S2=["*"],Qt=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=he.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ie({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",we],styleClass:"styleClass"},standalone:!0,features:[wn,$e],ngContentSelectors:S2,decls:1,vars:0,template:function(i,r){i&1&&(Fn(),un(0))},encapsulation:2,changeDetection:0})}return n})();var Uy=(()=>{class n extends Qt{pathId;ngOnInit(){this.pathId="url(#"+Rr()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Rt,$e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0)(1,"g"),Se(2,"path",1),q(),z(3,"defs")(4,"clipPath",2),Se(5,"rect",3),q()()()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),N(),de("clip-path",r.pathId),N(3),R("id",r.pathId))},encapsulation:2})}return n})();var A2=["element"],x2=["content"],M2=["*"],R2=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),jy=(n,e)=>({$implicit:n,options:e}),O2=n=>({"p-scroller-loading":n}),N2=n=>({"p-component-overlay":n}),P2=n=>({numCols:n}),TS=n=>({options:n}),k2=()=>({styleClass:"p-scroller-loading-icon"}),L2=(n,e)=>({rows:n,columns:e});function F2(n,e){n&1&&Be(0)}function V2(n,e){if(n&1&&(Ye(0),Y(1,F2,1,0,"ng-container",10),Ze()),n&2){let t=F(2);N(),R("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Ui(2,jy,t.loadedItems,t.getContentOptions()))}}function U2(n,e){n&1&&Be(0)}function j2(n,e){if(n&1&&(Ye(0),Y(1,U2,1,0,"ng-container",10),Ze()),n&2){let t=e.$implicit,i=e.index,r=F(3);N(),R("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",Ui(2,jy,t,r.getOptions(i)))}}function B2(n,e){if(n&1&&(z(0,"div",11,3),Y(2,j2,2,5,"ng-container",12),q()),n&2){let t=F(2);R("ngClass",st(5,O2,t.d_loading))("ngStyle",t.contentStyle),de("data-pc-section","content"),N(2),R("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function $2(n,e){if(n&1&&Se(0,"div",13),n&2){let t=F(2);R("ngStyle",t.spacerStyle),de("data-pc-section","spacer")}}function H2(n,e){n&1&&Be(0)}function z2(n,e){if(n&1&&(Ye(0),Y(1,H2,1,0,"ng-container",10),Ze()),n&2){let t=e.index,i=F(4);N(),R("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",st(4,TS,i.getLoaderOptions(t,i.both&&st(2,P2,i._numItemsInViewport.cols))))}}function q2(n,e){if(n&1&&(Ye(0),Y(1,z2,2,6,"ng-container",15),Ze()),n&2){let t=F(3);N(),R("ngForOf",t.loaderArr)}}function G2(n,e){n&1&&Be(0)}function W2(n,e){if(n&1&&(Ye(0),Y(1,G2,1,0,"ng-container",10),Ze()),n&2){let t=F(4);N(),R("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",st(3,TS,il(2,k2)))}}function K2(n,e){n&1&&Se(0,"SpinnerIcon",16),n&2&&(R("styleClass","p-scroller-loading-icon pi-spin"),de("data-pc-section","loadingIcon"))}function Q2(n,e){if(n&1&&Y(0,W2,2,5,"ng-container",6)(1,K2,1,2,"ng-template",null,5,Xn),n&2){let t=Un(2),i=F(3);R("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function Y2(n,e){if(n&1&&(z(0,"div",14),Y(1,q2,2,1,"ng-container",6)(2,Q2,3,2,"ng-template",null,4,Xn),q()),n&2){let t=Un(3),i=F(2);R("ngClass",st(4,N2,!i.loaderTemplate)),de("data-pc-section","loader"),N(),R("ngIf",i.loaderTemplate)("ngIfElse",t)}}function Z2(n,e){if(n&1){let t=Ut();Ye(0),z(1,"div",7,1),Ke("scroll",function(r){Le(t);let s=F();return Fe(s.onContainerScroll(r))}),Y(3,V2,2,5,"ng-container",6)(4,B2,3,7,"ng-template",null,2,Xn)(6,$2,1,2,"div",8)(7,Y2,4,6,"div",9),q(),Ze()}if(n&2){let t=Un(5),i=F();N(),Qe(i._styleClass),R("ngStyle",i._style)("ngClass",bo(12,R2,i.inline,i.both,i.horizontal)),de("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),N(2),R("ngIf",i.contentTemplate)("ngIfElse",t),N(3),R("ngIf",i._showSpacer),N(),R("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function J2(n,e){n&1&&Be(0)}function X2(n,e){if(n&1&&(Ye(0),Y(1,J2,1,0,"ng-container",10),Ze()),n&2){let t=F(2);N(),R("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",Ui(5,jy,t.items,Ui(2,L2,t._items,t.loadedColumns)))}}function eU(n,e){if(n&1&&(un(0),Y(1,X2,2,8,"ng-container",17)),n&2){let t=F();N(),R("ngIf",t.contentTemplate)}}var DS=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new fe;onScroll=new fe;onScrollIndexChange=new fe;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){bn(this.platformId)&&!this.initialized&&L.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=L.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=L.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||L.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),u=this.getContentPosition(),h=this.itemSize,p=(O=0,P)=>O<=P?0:O,m=(O,P,H)=>O*P+H,y=(O=0,P=0)=>this.scrollTo({left:O,top:P,behavior:i}),v=this.both?{rows:0,cols:0}:0,S=!1,A=!1;this.both?(v={rows:p(t[0],l[0]),cols:p(t[1],l[1])},y(m(v.cols,h[1],u.left),m(v.rows,h[0],u.top)),A=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,S=v.rows!==s.rows||v.cols!==s.cols):(v=p(t,l),this.horizontal?y(m(v,h,u.left),o):y(a,m(v,h,u.top)),A=this.lastScrollPos!==(this.horizontal?a:o),S=v!==s),this.isRangeChanged=S,A&&(this.first=v)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(h=0,p=0)=>this.scrollTo({left:h,top:p,behavior:r}),l=i==="to-start",u=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let h=(o.first-1)*this._itemSize;this.horizontal?a(h,0):a(0,h)}}else if(u){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let h=(o.first+1)*this._itemSize;this.horizontal?a(h,0):a(0,h)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(u,h)=>h||u?Math.ceil(u/(h||u)):0,o=u=>Math.ceil(u/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,u,h=!1)=>this.getLast(a+l+(a<u?2:3)*u,h),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[L.getWidth(this.contentEl),L.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[L.getWidth(this.elementViewChild.nativeElement),L.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=Te(k({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=Te(k({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(A,O)=>A?A>O?A-O:A:0,o=(A,O)=>O||A?Math.floor(A/(O||A)):0,a=(A,O,P,H,G,Ee)=>A<=G?G:Ee?P-H-G:O+G-1,l=(A,O,P,H,G,Ee,X)=>A<=Ee?0:Math.max(0,X?A<O?P:A-Ee:A>O?P:A-2*Ee),u=(A,O,P,H,G,Ee=!1)=>{let X=O+H+2*G;return A>=G&&(X+=G+1),this.getLast(X,Ee)},h=s(i.scrollTop,r.top),p=s(i.scrollLeft,r.left),m=this.both?{rows:0,cols:0}:0,y=this.last,v=!1,S=this.lastScrollPos;if(this.both){let A=this.lastScrollPos.top<=h,O=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(A||O)){let P={rows:o(h,this._itemSize[0]),cols:o(p,this._itemSize[1])},H={rows:a(P.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:a(P.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)};m={rows:l(P.rows,H.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],A),cols:l(P.cols,H.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)},y={rows:u(P.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(P.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=m.rows!==this.first.rows||y.rows!==this.last.rows||m.cols!==this.first.cols||y.cols!==this.last.cols||this.isRangeChanged,S={top:h,left:p}}}else{let A=this.horizontal?p:h,O=this.lastScrollPos<=A;if(!this._appendOnly||this._appendOnly&&O){let P=o(A,this._itemSize),H=a(P,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O);m=l(P,H,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O),y=u(P,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=m!==this.first||y!==this.last||this.isRangeChanged,S=A}}return{first:m,last:y,isRangeChanged:v,scrollPos:S}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){bn(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=L.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(L.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[L.getWidth(this.elementViewChild?.nativeElement),L.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=L.getWidth(this.contentEl),this.defaultContentHeight=L.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return k({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(K(Je),K(vt),K(Mt),K(dn),K(ye))};static \u0275cmp=Ie({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&Vn(s,ti,4),i&2){let o;nt(o=it())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(jt(A2,5),jt(x2,5)),i&2){let s;nt(s=it())&&(r.elementViewChild=s.first),nt(s=it())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[Zn],ngContentSelectors:M2,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(Fn(),Y(0,Z2,8,16,"ng-container",6)(1,eU,2,1,"ng-template",null,0,Xn)),i&2){let s=Un(2);R("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[$i,Nd,Hi,qi,zi,Uy],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),By=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En,hn,Uy,hn]})}return n})();var SS=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:Rr()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){bn(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=k(k({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(L.hasClass(t.relatedTarget,"p-tooltip")||L.hasClass(t.relatedTarget,"p-tooltip-text")||L.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?L.appendChild(this.container,this.el.nativeElement):L.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),L.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?Or.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&Or.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof Yn){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+L.getWindowScrollLeft(),r=t.top+L.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+L.getOuterWidth(t),s=i.top+(L.getOuterHeight(t)-L.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?L.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-L.getOuterWidth(this.container),r=t.top+(L.getOuterHeight(this.el.nativeElement)-L.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top-L.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(L.getOuterWidth(this.el.nativeElement)-L.getOuterWidth(this.container))/2,r=t.top+L.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=k(k({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return L.hasClass(t,"p-inputwrapper")?L.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=L.getOuterWidth(this.container),o=L.getOuterHeight(this.container),a=L.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Uo(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):L.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&Or.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(K(vt),K(rt),K(ye),K(Nr),K(Mt),K(Jn))};static \u0275dir=xt({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&Ke("keydown.escape",function(o){return r.onPressEscape(o)},!1,OC)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",we],showDelay:[2,"showDelay","showDelay",jn],hideDelay:[2,"hideDelay","hideDelay",jn],life:[2,"life","life",jn],positionTop:[2,"positionTop","positionTop",jn],positionLeft:[2,"positionLeft","positionLeft",jn],autoHide:[2,"autoHide","autoHide",we],fitContent:[2,"fitContent","fitContent",we],hideOnEscape:[2,"hideOnEscape","hideOnEscape",we],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[wn,Zn]})}return n})(),Rl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En]})}return n})();var $y=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"path",1),q()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Hy=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"path",1),q()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var zy=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"rect",1),q())},encapsulation:2})}return n})();var qy=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"path",1),q()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Gy=(()=>{class n extends Qt{pathId;ngOnInit(){this.pathId="url(#"+Rr()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Rt,$e],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0)(1,"g"),Se(2,"path",1),q(),z(3,"defs")(4,"clipPath",2),Se(5,"rect",3),q()()()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),N(),de("clip-path",r.pathId),N(3),R("id",r.pathId))},encapsulation:2})}return n})();var Ol=n=>({height:n}),iU=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),Wy=n=>({$implicit:n});function rU(n,e){n&1&&Se(0,"CheckIcon",4),n&2&&R("styleClass","p-dropdown-check-icon")}function sU(n,e){n&1&&Se(0,"BlankIcon",4),n&2&&R("styleClass","p-dropdown-blank-icon")}function oU(n,e){if(n&1&&(Ye(0),Y(1,rU,1,1,"CheckIcon",3)(2,sU,1,1,"BlankIcon",3),Ze()),n&2){let t=F();N(),R("ngIf",t.selected),N(),R("ngIf",!t.selected)}}function aU(n,e){if(n&1&&(z(0,"span"),Ot(1),q()),n&2){let t,i=F();N(),Fi((t=i.label)!==null&&t!==void 0?t:"empty")}}function lU(n,e){n&1&&Be(0)}var cU=["container"],uU=["filter"],dU=["focusInput"],hU=["editableInput"],fU=["items"],pU=["scroller"],mU=["overlay"],gU=["firstHiddenFocusableEl"],yU=["lastHiddenFocusableEl"],_U=n=>({"max-height":n}),AS=n=>({options:n}),vU=n=>({"p-variant-filled":n}),xS=(n,e)=>({$implicit:n,options:e}),IU=()=>({});function wU(n,e){if(n&1&&(Ye(0),Ot(1),Ze()),n&2){let t=F(2);N(),Fi(t.label()==="p-emptylabel"?"\xA0":t.label())}}function EU(n,e){if(n&1&&Be(0,25),n&2){let t=F(2);R("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",st(2,Wy,t.selectedOption))}}function bU(n,e){if(n&1&&(z(0,"span"),Ot(1),q()),n&2){let t=F(3);N(),Fi(t.label()==="p-emptylabel"?"\xA0":t.label())}}function CU(n,e){if(n&1&&Y(0,bU,2,1,"span",18),n&2){let t=F(2);R("ngIf",t.isSelectedOptionEmpty())}}function TU(n,e){if(n&1){let t=Ut();z(0,"span",23,3),Ke("focus",function(r){Le(t);let s=F();return Fe(s.onInputFocus(r))})("blur",function(r){Le(t);let s=F();return Fe(s.onInputBlur(r))})("keydown",function(r){Le(t);let s=F();return Fe(s.onKeyDown(r))}),Y(2,wU,2,1,"ng-container",20)(3,EU,1,4,"ng-container",24)(4,CU,1,1,"ng-template",null,4,Xn),q()}if(n&2){let t,i=Un(5),r=F();R("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),de("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),N(2),R("ngIf",!r.selectedItemTemplate)("ngIfElse",i),N(),R("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function DU(n,e){if(n&1){let t=Ut();z(0,"input",26,5),Ke("input",function(r){Le(t);let s=F();return Fe(s.onEditableInput(r))})("keydown",function(r){Le(t);let s=F();return Fe(s.onKeyDown(r))})("focus",function(r){Le(t);let s=F();return Fe(s.onInputFocus(r))})("blur",function(r){Le(t);let s=F();return Fe(s.onInputBlur(r))}),q()}if(n&2){let t=F();R("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),de("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function SU(n,e){if(n&1){let t=Ut();z(0,"TimesIcon",29),Ke("click",function(r){Le(t);let s=F(2);return Fe(s.clear(r))}),q()}n&2&&(R("styleClass","p-dropdown-clear-icon"),de("data-pc-section","clearicon"))}function AU(n,e){}function xU(n,e){n&1&&Y(0,AU,0,0,"ng-template")}function MU(n,e){if(n&1){let t=Ut();z(0,"span",30),Ke("click",function(r){Le(t);let s=F(2);return Fe(s.clear(r))}),Y(1,xU,1,0,null,31),q()}if(n&2){let t=F(2);de("data-pc-section","clearicon"),N(),R("ngTemplateOutlet",t.clearIconTemplate)}}function RU(n,e){if(n&1&&(Ye(0),Y(1,SU,1,2,"TimesIcon",27)(2,MU,2,2,"span",28),Ze()),n&2){let t=F();N(),R("ngIf",!t.clearIconTemplate),N(),R("ngIf",t.clearIconTemplate)}}function OU(n,e){n&1&&Be(0)}function NU(n,e){if(n&1&&(Ye(0),Y(1,OU,1,0,"ng-container",31),Ze()),n&2){let t=F(2);N(),R("ngTemplateOutlet",t.loadingIconTemplate)}}function PU(n,e){if(n&1&&Se(0,"span",34),n&2){let t=F(3);R("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function kU(n,e){n&1&&Se(0,"span",35),n&2&&Qe("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function LU(n,e){if(n&1&&(Ye(0),Y(1,PU,1,1,"span",32)(2,kU,1,2,"span",33),Ze()),n&2){let t=F(2);N(),R("ngIf",t.loadingIcon),N(),R("ngIf",!t.loadingIcon)}}function FU(n,e){if(n&1&&(Ye(0),Y(1,NU,2,1,"ng-container",18)(2,LU,3,2,"ng-container",18),Ze()),n&2){let t=F();N(),R("ngIf",t.loadingIconTemplate),N(),R("ngIf",!t.loadingIconTemplate)}}function VU(n,e){if(n&1&&Se(0,"span",39),n&2){let t=F(3);R("ngClass",t.dropdownIcon)}}function UU(n,e){n&1&&Se(0,"ChevronDownIcon",40),n&2&&R("styleClass","p-dropdown-trigger-icon")}function jU(n,e){if(n&1&&(Ye(0),Y(1,VU,1,1,"span",37)(2,UU,1,1,"ChevronDownIcon",38),Ze()),n&2){let t=F(2);N(),R("ngIf",t.dropdownIcon),N(),R("ngIf",!t.dropdownIcon)}}function BU(n,e){}function $U(n,e){n&1&&Y(0,BU,0,0,"ng-template")}function HU(n,e){if(n&1&&(z(0,"span",41),Y(1,$U,1,0,null,31),q()),n&2){let t=F(2);N(),R("ngTemplateOutlet",t.dropdownIconTemplate)}}function zU(n,e){if(n&1&&Y(0,jU,3,2,"ng-container",18)(1,HU,2,1,"span",36),n&2){let t=F();R("ngIf",!t.dropdownIconTemplate),N(),R("ngIf",t.dropdownIconTemplate)}}function qU(n,e){n&1&&Be(0)}function GU(n,e){n&1&&Be(0)}function WU(n,e){if(n&1&&(Ye(0),Y(1,GU,1,0,"ng-container",48),Ze()),n&2){let t=F(3);N(),R("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",st(2,AS,t.filterOptions))}}function KU(n,e){n&1&&Se(0,"SearchIcon",40),n&2&&R("styleClass","p-dropdown-filter-icon")}function QU(n,e){}function YU(n,e){n&1&&Y(0,QU,0,0,"ng-template")}function ZU(n,e){if(n&1&&(z(0,"span",52),Y(1,YU,1,0,null,31),q()),n&2){let t=F(4);N(),R("ngTemplateOutlet",t.filterIconTemplate)}}function JU(n,e){if(n&1){let t=Ut();z(0,"div",49)(1,"input",50,10),Ke("input",function(r){Le(t);let s=F(3);return Fe(s.onFilterInputChange(r))})("keydown",function(r){Le(t);let s=F(3);return Fe(s.onFilterKeyDown(r))})("blur",function(r){Le(t);let s=F(3);return Fe(s.onFilterBlur(r))}),q(),Y(3,KU,1,1,"SearchIcon",38)(4,ZU,2,1,"span",51),q()}if(n&2){let t=F(3);N(),R("value",t._filterValue()||"")("ngClass",st(8,vU,t.variant==="filled"||t.config.inputStyle()==="filled")),de("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),N(2),R("ngIf",!t.filterIconTemplate),N(),R("ngIf",t.filterIconTemplate)}}function XU(n,e){if(n&1){let t=Ut();z(0,"div",47),Ke("click",function(r){return Le(t),Fe(r.stopPropagation())}),Y(1,WU,2,4,"ng-container",20)(2,JU,5,10,"ng-template",null,9,Xn),q()}if(n&2){let t=Un(3),i=F(2);N(),R("ngIf",i.filterTemplate)("ngIfElse",t)}}function ej(n,e){n&1&&Be(0)}function tj(n,e){if(n&1&&Y(0,ej,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;F(2);let r=Un(9);R("ngTemplateOutlet",r)("ngTemplateOutletContext",Ui(2,xS,t,i))}}function nj(n,e){n&1&&Be(0)}function ij(n,e){if(n&1&&Y(0,nj,1,0,"ng-container",48),n&2){let t=e.options,i=F(4);R("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",st(2,AS,t))}}function rj(n,e){n&1&&(Ye(0),Y(1,ij,1,4,"ng-template",54),Ze())}function sj(n,e){if(n&1){let t=Ut();z(0,"p-scroller",53,11),Ke("onLazyLoad",function(r){Le(t);let s=F(2);return Fe(s.onLazyLoad.emit(r))}),Y(2,tj,1,5,"ng-template",22)(3,rj,2,0,"ng-container",18),q()}if(n&2){let t=F(2);DT(st(8,Ol,t.scrollHeight)),R("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),N(3),R("ngIf",t.loaderTemplate)}}function oj(n,e){n&1&&Be(0)}function aj(n,e){if(n&1&&(Ye(0),Y(1,oj,1,0,"ng-container",48),Ze()),n&2){F();let t=Un(9),i=F();N(),R("ngTemplateOutlet",t)("ngTemplateOutletContext",Ui(3,xS,i.visibleOptions(),il(2,IU)))}}function lj(n,e){if(n&1&&(z(0,"span"),Ot(1),q()),n&2){let t=F(2).$implicit,i=F(3);N(),Fi(i.getOptionGroupLabel(t.optionGroup))}}function cj(n,e){n&1&&Be(0)}function uj(n,e){if(n&1&&(Ye(0),z(1,"li",58),Y(2,lj,2,1,"span",18)(3,cj,1,0,"ng-container",48),q(),Ze()),n&2){let t=F(),i=t.$implicit,r=t.index,s=F().options,o=F(2);N(),R("ngStyle",st(5,Ol,s.itemSize+"px")),de("id",o.id+"_"+o.getOptionIndex(r,s)),N(),R("ngIf",!o.groupTemplate),N(),R("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",st(7,Wy,i.optionGroup))}}function dj(n,e){if(n&1){let t=Ut();Ye(0),z(1,"p-dropdownItem",59),Ke("onClick",function(r){Le(t);let s=F().$implicit,o=F(3);return Fe(o.onOptionSelect(r,s))})("onMouseEnter",function(r){Le(t);let s=F().index,o=F().options,a=F(2);return Fe(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),q(),Ze()}if(n&2){let t=F(),i=t.$implicit,r=t.index,s=F().options,o=F(2);N(),R("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function hj(n,e){if(n&1&&Y(0,uj,4,9,"ng-container",18)(1,dj,2,10,"ng-container",18),n&2){let t=e.$implicit,i=F(3);R("ngIf",i.isOptionGroup(t)),N(),R("ngIf",!i.isOptionGroup(t))}}function fj(n,e){if(n&1&&(Ye(0),Ot(1),Ze()),n&2){let t=F(4);N(),Vi(" ",t.emptyFilterMessageLabel," ")}}function pj(n,e){n&1&&Be(0,null,13)}function mj(n,e){if(n&1&&(z(0,"li",60),Y(1,fj,2,1,"ng-container",20)(2,pj,2,0,"ng-container",31),q()),n&2){let t=F().options,i=F(2);R("ngStyle",st(4,Ol,t.itemSize+"px")),N(),R("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),N(),R("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function gj(n,e){if(n&1&&(Ye(0),Ot(1),Ze()),n&2){let t=F(4);N(),Vi(" ",t.emptyMessageLabel," ")}}function yj(n,e){n&1&&Be(0,null,14)}function _j(n,e){if(n&1&&(z(0,"li",60),Y(1,gj,2,1,"ng-container",20)(2,yj,2,0,"ng-container",31),q()),n&2){let t=F().options,i=F(2);R("ngStyle",st(4,Ol,t.itemSize+"px")),N(),R("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),N(),R("ngTemplateOutlet",i.emptyTemplate)}}function vj(n,e){if(n&1&&(z(0,"ul",55,12),Y(2,hj,2,2,"ng-template",56)(3,mj,3,6,"li",57)(4,_j,3,6,"li",57),q()),n&2){let t=e.$implicit,i=e.options,r=F(2);R("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),de("id",r.id+"_list")("aria-label",r.listLabel),N(2),R("ngForOf",t),N(),R("ngIf",r.filterValue&&r.isEmpty()),N(),R("ngIf",!r.filterValue&&r.isEmpty())}}function Ij(n,e){n&1&&Be(0)}function wj(n,e){if(n&1){let t=Ut();z(0,"div",42)(1,"span",43,6),Ke("focus",function(r){Le(t);let s=F();return Fe(s.onFirstHiddenFocus(r))}),q(),Y(3,qU,1,0,"ng-container",31)(4,XU,4,2,"div",44),z(5,"div",45),Y(6,sj,4,10,"p-scroller",46)(7,aj,2,6,"ng-container",18)(8,vj,5,7,"ng-template",null,7,Xn),q(),Y(10,Ij,1,0,"ng-container",31),z(11,"span",43,8),Ke("focus",function(r){Le(t);let s=F();return Fe(s.onLastHiddenFocus(r))}),q()()}if(n&2){let t=F();Qe(t.panelStyleClass),R("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),N(),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),N(2),R("ngTemplateOutlet",t.headerTemplate),N(),R("ngIf",t.filter),N(),R("ngStyle",st(16,_U,t.virtualScroll?"auto":t.scrollHeight||"auto")),N(),R("ngIf",t.virtualScroll),N(),R("ngIf",!t.virtualScroll),N(3),R("ngTemplateOutlet",t.footerTemplate),N(),de("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var Ej={provide:rh,useExisting:us(()=>Cj),multi:!0},bj=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new fe;onMouseEnter=new fe;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Ie({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",we],focused:[2,"focused","focused",we],label:"label",disabled:[2,"disabled","disabled",we],visible:[2,"visible","visible",we],itemSize:[2,"itemSize","itemSize",jn],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",we]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[wn],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(z(0,"li",0),Ke("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),Y(1,oU,3,2,"ng-container",1)(2,aU,2,1,"span",1)(3,lU,1,0,"ng-container",2),q()),i&2&&(R("id",r.id)("ngStyle",st(14,Ol,r.itemSize+"px"))("ngClass",bo(16,iU,r.selected,r.disabled,r.focused)),de("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),N(),R("ngIf",r.checkmark),N(),R("ngIf",!r.template),N(),R("ngTemplateOutlet",r.template)("ngTemplateOutletContext",st(20,Wy,r.option)))},dependencies:()=>[$i,Hi,qi,zi,CS,zy,Hy],encapsulation:2})}return n})(),Cj=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){he.deepEquals(t,this._options())||this._options.set(t)}onChange=new fe;onFilter=new fe;onFocus=new fe;onBlur=new fe;onClick=new fe;onShow=new fe;onHide=new fe;onClear=new fe;onLazyLoad=new fe;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=In(null);_placeholder=In(void 0);modelValue=In(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=In(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=In(-1);labelId;listId;clicked=In(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(nh.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(nh.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(nh.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=To(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let u=this.getOptionGroupChildren(a).filter(h=>r.includes(h));u.length>0&&o.push(Te(k({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...u]}))}),this.flatOptions(o)}return r}return t});label=To(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=To(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=To(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,Rg(()=>{let l=this.modelValue(),u=this.visibleOptions();if(u&&he.isNotEmpty(u)){let h=this.findSelectedOptionIndex();(h!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=u[h])}he.isEmpty(u)&&(l===void 0||this.isModelValueNotSet())&&he.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||Rr(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&L.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return he.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return he.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?he.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?he.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?he.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?he.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?he.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&he.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&L.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=L.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=L.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&L.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{L.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{L.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&he.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=L.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?he.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return he.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())L.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;L.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?L.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;L.focus(i)}hasFocusableElements(){return L.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?L.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():L.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(K(rt),K(Mt),K(dn),K(ye),K(hS),K(Nr))};static \u0275cmp=Ie({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&Vn(s,ti,4),i&2){let o;nt(o=it())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&(jt(cU,5),jt(uU,5),jt(dU,5),jt(hU,5),jt(fU,5),jt(pU,5),jt(mU,5),jt(gU,5),jt(yU,5)),i&2){let s;nt(s=it())&&(r.containerViewChild=s.first),nt(s=it())&&(r.filterViewChild=s.first),nt(s=it())&&(r.focusInputViewChild=s.first),nt(s=it())&&(r.editableInputViewChild=s.first),nt(s=it())&&(r.itemsViewChild=s.first),nt(s=it())&&(r.scroller=s.first),nt(s=it())&&(r.overlayViewChild=s.first),nt(s=it())&&(r.firstHiddenFocusableElementOnOverlay=s.first),nt(s=it())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&Td("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",we],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",we],required:[2,"required","required",we],editable:[2,"editable","editable",we],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",jn],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",we],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",we],checkmark:[2,"checkmark","checkmark",we],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",we],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",we],group:[2,"group","group",we],showClear:[2,"showClear","showClear",we],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",we],virtualScroll:[2,"virtualScroll","virtualScroll",we],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",jn],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",jn],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",we],selectOnFocus:[2,"selectOnFocus","selectOnFocus",we],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",we],autofocusFilter:[2,"autofocusFilter","autofocusFilter",we],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[nl([Ej]),wn],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=Ut();z(0,"div",15,0),Ke("click",function(a){return Le(s),Fe(r.onContainerClick(a))}),Y(2,TU,6,20,"span",16)(3,DU,2,8,"input",17)(4,RU,3,2,"ng-container",18),z(5,"div",19),Ke("mousedown",function(a){return Le(s),Fe(r.onMouseDown(a))}),Y(6,FU,3,2,"ng-container",20)(7,zU,2,2,"ng-template",null,1,Xn),q(),z(9,"p-overlay",21,2),Sg("visibleChange",function(a){return Le(s),LT(r.overlayVisible,a)||(r.overlayVisible=a),Fe(a)}),Ke("onAnimationStart",function(a){return Le(s),Fe(r.onOverlayAnimationStart(a))})("onHide",function(){return Le(s),Fe(r.hide())}),Y(11,wj,13,18,"ng-template",22),q()()}if(i&2){let s,o=Un(8);Qe(r.styleClass),R("ngClass",r.containerClass)("ngStyle",r.style),de("id",r.id),N(2),R("ngIf",!r.editable),N(),R("ngIf",r.editable),N(),R("ngIf",r.isVisibleClearIcon),N(),de("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),N(),R("ngIf",r.loading)("ngIfElse",o),N(3),Dg("visible",r.overlayVisible),R("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[$i,Nd,Hi,qi,zi,Fy,ti,SS,DS,IS,$y,qy,Gy,bj],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),MS=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En,Vy,hn,Rl,oh,By,wS,$y,qy,Gy,zy,Hy,Vy,hn,By]})}return n})();var OS=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},Tj=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),i.push(t[h],t[p],t[m],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(OS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Tj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new Qy;let m=s<<2|a>>4;if(i.push(m),u!==64){let y=a<<4&240|u>>2;if(i.push(y),p!==64){let v=u<<6&192|p;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Qy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Dj=function(n){let e=OS(n);return NS.encodeByteArray(e,!0)},Nl=function(n){return Dj(n).replace(/\./g,"")},Zy=function(n){try{return NS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Aj=()=>Sj().__FIREBASE_DEFAULTS__,xj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Mj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Zy(n[1]);return e&&JSON.parse(e)},lh=()=>{try{return Aj()||xj()||Mj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},PS=n=>{var e,t;return(t=(e=lh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},kS=n=>{let e=PS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Jy=()=>{var n;return(n=lh())===null||n===void 0?void 0:n.config},LS=n=>{var e;return(e=lh())===null||e===void 0?void 0:e[`_${n}`]};var ah=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function FS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Nl(JSON.stringify(t)),Nl(JSON.stringify(o)),""].join(".")}function Dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dn())}function Rj(){var n;let e=(n=lh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function US(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BS(){return!Rj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xy(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Oj="FirebaseError",$n=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=Oj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}},Qi=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?Nj(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $n(r,a,i)}};function Nj(n,e){return n.replace(Pj,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var Pj=/\{\$([^}]+)}/g;function Bo(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(RS(s)&&RS(o)){if(!Bo(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function RS(n){return n!==null&&typeof n=="object"}function e_(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function HS(n,e){let t=new Yy(n,e);return t.subscribe.bind(t)}var Yy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kj(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=Ky),r.error===void 0&&(r.error=Ky),r.complete===void 0&&(r.complete=Ky);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function kj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Ky(){}var UQ=4*60*60*1e3;function Ii(n){return n&&n._delegate?n._delegate:n}var Hn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _s="[DEFAULT]";var t_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new ah;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fj(e))try{this.getOrInitializeService({instanceIdentifier:_s})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=_s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=_s){return this.instances.has(e)}getOptions(e=_s){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Lj(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_s){return this.component?this.component.multipleInstances?e:_s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Lj(n){return n===_s?void 0:n}function Fj(n){return n.instantiationMode==="EAGER"}var ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new t_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Vj=[],Ce=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ce||{}),Uj={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},jj=Ce.INFO,Bj={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},$j=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=Bj[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=jj,this._logHandler=$j,this._userLogHandler=null,Vj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Uj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}};var Hj=(n,e)=>e.some(t=>n instanceof t),zS,qS;function zj(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qj(){return qS||(qS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var GS=new WeakMap,i_=new WeakMap,WS=new WeakMap,n_=new WeakMap,s_=new WeakMap;function Gj(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(wi(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&GS.set(t,n)}).catch(()=>{}),s_.set(e,n),e}function Wj(n){if(i_.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});i_.set(n,e)}var r_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return i_.get(n);if(e==="objectStoreNames")return n.objectStoreNames||WS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KS(n){r_=n(r_)}function Kj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(uh(this),e,...t);return WS.set(i,e.sort?e.sort():[e]),wi(i)}:qj().includes(n)?function(...e){return n.apply(uh(this),e),wi(GS.get(this))}:function(...e){return wi(n.apply(uh(this),e))}}function Qj(n){return typeof n=="function"?Kj(n):(n instanceof IDBTransaction&&Wj(n),Hj(n,zj())?new Proxy(n,r_):n)}function wi(n){if(n instanceof IDBRequest)return Gj(n);if(n_.has(n))return n_.get(n);let e=Qj(n);return e!==n&&(n_.set(n,e),s_.set(e,n)),e}var uh=n=>s_.get(n);function YS(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=wi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(wi(o.result),l.oldVersion,l.newVersion,wi(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Yj=["get","getKey","getAll","getAllKeys","count"],Zj=["put","add","delete","clear"],o_=new Map;function QS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(o_.get(e))return o_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=Zj.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Yj.includes(t)))return;let s=function(o,...a){return M(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&l.done]))[0]})};return o_.set(e,s),s}KS(n=>Te(k({},n),{get:(e,t,i)=>QS(e,t)||n.get(e,t,i),has:(e,t)=>!!QS(e,t)||n.has(e,t)}));var l_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Jj(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function Jj(n){let e=n.getComponent();return e?.type==="VERSION"}var c_="@firebase/app",ZS="0.10.10";var Yi=new kr("@firebase/app"),Xj="@firebase/app-compat",eB="@firebase/analytics-compat",tB="@firebase/analytics",nB="@firebase/app-check-compat",iB="@firebase/app-check",rB="@firebase/auth",sB="@firebase/auth-compat",oB="@firebase/database",aB="@firebase/database-compat",lB="@firebase/functions",cB="@firebase/functions-compat",uB="@firebase/installations",dB="@firebase/installations-compat",hB="@firebase/messaging",fB="@firebase/messaging-compat",pB="@firebase/performance",mB="@firebase/performance-compat",gB="@firebase/remote-config",yB="@firebase/remote-config-compat",_B="@firebase/storage",vB="@firebase/storage-compat",IB="@firebase/firestore",wB="@firebase/vertexai-preview",EB="@firebase/firestore-compat",bB="firebase",CB="10.13.1";var u_="[DEFAULT]",TB={[c_]:"fire-core",[Xj]:"fire-core-compat",[tB]:"fire-analytics",[eB]:"fire-analytics-compat",[iB]:"fire-app-check",[nB]:"fire-app-check-compat",[rB]:"fire-auth",[sB]:"fire-auth-compat",[oB]:"fire-rtdb",[aB]:"fire-rtdb-compat",[lB]:"fire-fn",[cB]:"fire-fn-compat",[uB]:"fire-iid",[dB]:"fire-iid-compat",[hB]:"fire-fcm",[fB]:"fire-fcm-compat",[pB]:"fire-perf",[mB]:"fire-perf-compat",[gB]:"fire-rc",[yB]:"fire-rc-compat",[_B]:"fire-gcs",[vB]:"fire-gcs-compat",[IB]:"fire-fst",[EB]:"fire-fst-compat",[wB]:"fire-vertex","fire-js":"fire-js",[bB]:"fire-js-all"};var Pl=new Map,DB=new Map,d_=new Map;function JS(n,e){try{n.container.addComponent(e)}catch(t){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Fr(n){let e=n.name;if(d_.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;d_.set(e,n);for(let t of Pl.values())JS(t,n);for(let t of DB.values())JS(t,n);return!0}function m_(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function $o(n){return n.settings!==void 0}var SB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new Qi("app","Firebase",SB);var h_=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};var Ho=CB;function g_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:u_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Lr.create("bad-app-name",{appName:String(r)});if(t||(t=Jy()),!t)throw Lr.create("no-options");let s=Pl.get(r);if(s){if(Bo(t,s.options)&&Bo(i,s.config))return s;throw Lr.create("duplicate-app",{appName:r})}let o=new ch(r);for(let l of d_.values())o.addComponent(l);let a=new h_(t,i,o);return Pl.set(r,a),a}function Ll(n=u_){let e=Pl.get(n);if(!e&&n===u_&&Jy())return g_();if(!e)throw Lr.create("no-app",{appName:n});return e}function dh(){return Array.from(Pl.values())}function Pt(n,e,t){var i;let r=(i=TB[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(a.join(" "));return}Fr(new Hn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var AB="firebase-heartbeat-database",xB=1,kl="firebase-heartbeat-store",a_=null;function nA(){return a_||(a_=YS(AB,xB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(kl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),a_}function MB(n){return M(this,null,function*(){try{let t=(yield nA()).transaction(kl),i=yield t.objectStore(kl).get(iA(n));return yield t.done,i}catch(e){if(e instanceof $n)Yi.warn(e.message);else{let t=Lr.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(t.message)}}})}function XS(n,e){return M(this,null,function*(){try{let i=(yield nA()).transaction(kl,"readwrite");yield i.objectStore(kl).put(e,iA(n)),yield i.done}catch(t){if(t instanceof $n)Yi.warn(t.message);else{let i=Lr.create("idb-set",{originalErrorMessage:t?.message});Yi.warn(i.message)}}})}function iA(n){return`${n.name}!${n.options.appId}`}var RB=1024,OB=30*24*60*60*1e3,f_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new p_(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=OB}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Yi.warn(i)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=eA(),{heartbeatsToSend:i,unsentEntries:r}=NB(this._heartbeatsCache.heartbeats),s=Nl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Yi.warn(t),""}})}};function eA(){return new Date().toISOString().substring(0,10)}function NB(n,e=RB){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),tA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),tA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var p_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return Xy()?$S().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield MB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return XS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function tA(n){return Nl(JSON.stringify({version:2,heartbeats:n})).length}function PB(n){Fr(new Hn("platform-logger",e=>new l_(e),"PRIVATE")),Fr(new Hn("heartbeat",e=>new f_(e),"PRIVATE")),Pt(c_,ZS,n),Pt(c_,ZS,"esm2017"),Pt("fire-js","")}PB("");var rA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sA={};var Vr,y_;(function(){var n;function e(E,_){function I(){}I.prototype=_.prototype,E.D=_.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(b,C,D){for(var w=Array(arguments.length-2),xn=2;xn<arguments.length;xn++)w[xn-2]=arguments[xn];return _.prototype[C].apply(b,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)b[C]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(C=0;16>C;++C)b[C]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=E.g[0],I=E.g[1],C=E.g[2];var D=E.g[3],w=_+(D^I&(C^D))+b[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=D+(C^_&(I^C))+b[1]+3905402710&4294967295,D=_+(w<<12&4294967295|w>>>20),w=C+(I^D&(_^I))+b[2]+606105819&4294967295,C=D+(w<<17&4294967295|w>>>15),w=I+(_^C&(D^_))+b[3]+3250441966&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(D^I&(C^D))+b[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=D+(C^_&(I^C))+b[5]+1200080426&4294967295,D=_+(w<<12&4294967295|w>>>20),w=C+(I^D&(_^I))+b[6]+2821735955&4294967295,C=D+(w<<17&4294967295|w>>>15),w=I+(_^C&(D^_))+b[7]+4249261313&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(D^I&(C^D))+b[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=D+(C^_&(I^C))+b[9]+2336552879&4294967295,D=_+(w<<12&4294967295|w>>>20),w=C+(I^D&(_^I))+b[10]+4294925233&4294967295,C=D+(w<<17&4294967295|w>>>15),w=I+(_^C&(D^_))+b[11]+2304563134&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(D^I&(C^D))+b[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=D+(C^_&(I^C))+b[13]+4254626195&4294967295,D=_+(w<<12&4294967295|w>>>20),w=C+(I^D&(_^I))+b[14]+2792965006&4294967295,C=D+(w<<17&4294967295|w>>>15),w=I+(_^C&(D^_))+b[15]+1236535329&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(C^D&(I^C))+b[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=D+(I^C&(_^I))+b[6]+3225465664&4294967295,D=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(D^_))+b[11]+643717713&4294967295,C=D+(w<<14&4294967295|w>>>18),w=I+(D^_&(C^D))+b[0]+3921069994&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^D&(I^C))+b[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=D+(I^C&(_^I))+b[10]+38016083&4294967295,D=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(D^_))+b[15]+3634488961&4294967295,C=D+(w<<14&4294967295|w>>>18),w=I+(D^_&(C^D))+b[4]+3889429448&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^D&(I^C))+b[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=D+(I^C&(_^I))+b[14]+3275163606&4294967295,D=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(D^_))+b[3]+4107603335&4294967295,C=D+(w<<14&4294967295|w>>>18),w=I+(D^_&(C^D))+b[8]+1163531501&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^D&(I^C))+b[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=D+(I^C&(_^I))+b[2]+4243563512&4294967295,D=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(D^_))+b[7]+1735328473&4294967295,C=D+(w<<14&4294967295|w>>>18),w=I+(D^_&(C^D))+b[12]+2368359562&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(I^C^D)+b[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=D+(_^I^C)+b[8]+2272392833&4294967295,D=_+(w<<11&4294967295|w>>>21),w=C+(D^_^I)+b[11]+1839030562&4294967295,C=D+(w<<16&4294967295|w>>>16),w=I+(C^D^_)+b[14]+4259657740&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^D)+b[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=D+(_^I^C)+b[4]+1272893353&4294967295,D=_+(w<<11&4294967295|w>>>21),w=C+(D^_^I)+b[7]+4139469664&4294967295,C=D+(w<<16&4294967295|w>>>16),w=I+(C^D^_)+b[10]+3200236656&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^D)+b[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=D+(_^I^C)+b[0]+3936430074&4294967295,D=_+(w<<11&4294967295|w>>>21),w=C+(D^_^I)+b[3]+3572445317&4294967295,C=D+(w<<16&4294967295|w>>>16),w=I+(C^D^_)+b[6]+76029189&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^D)+b[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=D+(_^I^C)+b[12]+3873151461&4294967295,D=_+(w<<11&4294967295|w>>>21),w=C+(D^_^I)+b[15]+530742520&4294967295,C=D+(w<<16&4294967295|w>>>16),w=I+(C^D^_)+b[2]+3299628645&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(C^(I|~D))+b[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=D+(I^(_|~C))+b[7]+1126891415&4294967295,D=_+(w<<10&4294967295|w>>>22),w=C+(_^(D|~I))+b[14]+2878612391&4294967295,C=D+(w<<15&4294967295|w>>>17),w=I+(D^(C|~_))+b[5]+4237533241&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~D))+b[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=D+(I^(_|~C))+b[3]+2399980690&4294967295,D=_+(w<<10&4294967295|w>>>22),w=C+(_^(D|~I))+b[10]+4293915773&4294967295,C=D+(w<<15&4294967295|w>>>17),w=I+(D^(C|~_))+b[1]+2240044497&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~D))+b[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=D+(I^(_|~C))+b[15]+4264355552&4294967295,D=_+(w<<10&4294967295|w>>>22),w=C+(_^(D|~I))+b[6]+2734768916&4294967295,C=D+(w<<15&4294967295|w>>>17),w=I+(D^(C|~_))+b[13]+1309151649&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~D))+b[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=D+(I^(_|~C))+b[11]+3174756917&4294967295,D=_+(w<<10&4294967295|w>>>22),w=C+(_^(D|~I))+b[2]+718787259&4294967295,C=D+(w<<15&4294967295|w>>>17),w=I+(D^(C|~_))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+D&4294967295}i.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var I=_-this.blockSize,b=this.B,C=this.h,D=0;D<_;){if(C==0)for(;D<=I;)r(this,E,D),D+=this.blockSize;if(typeof E=="string"){for(;D<_;)if(b[C++]=E.charCodeAt(D++),C==this.blockSize){r(this,b),C=0;break}}else for(;D<_;)if(b[C++]=E[D++],C==this.blockSize){r(this,b),C=0;break}}this.h=C,this.o+=_},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var I=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=I&255,I/=256;for(this.u(E),E=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)E[I++]=this.g[_]>>>b&255;return E};function s(E,_){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=_(E)}function o(E,_){this.h=_;for(var I=[],b=!0,C=E.length-1;0<=C;C--){var D=E[C]|0;b&&D==_||(I[C]=D,b=!1)}this.g=I}var a={};function l(E){return-128<=E&&128>E?s(E,function(_){return new o([_|0],0>_?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return A(u(-E));for(var _=[],I=1,b=0;E>=I;b++)_[b]=E/I|0,I*=4294967296;return new o(_,0)}function h(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return A(h(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),b=p,C=0;C<E.length;C+=8){var D=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+D),_);8>D?(D=u(Math.pow(_,D)),b=b.j(D).add(u(w))):(b=b.j(I),b=b.add(u(w)))}return b}var p=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(S(this))return-A(this).m();for(var E=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);E+=(0<=b?b:4294967296+b)*_,_*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(S(this))return"-"+A(this).toString(E);for(var _=u(Math.pow(E,6)),I=this,b="";;){var C=G(I,_).g;I=O(I,C.j(_));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,v(I))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function S(E){return E.h==-1}n.l=function(E){return E=O(this,E),S(E)?-1:v(E)?0:1};function A(E){for(var _=E.g.length,I=[],b=0;b<_;b++)I[b]=~E.g[b];return new o(I,~E.h).add(m)}n.abs=function(){return S(this)?A(this):this},n.add=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0,C=0;C<=_;C++){var D=b+(this.i(C)&65535)+(E.i(C)&65535),w=(D>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);b=w>>>16,D&=65535,w&=65535,I[C]=w<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function O(E,_){return E.add(A(_))}n.j=function(E){if(v(this)||v(E))return p;if(S(this))return S(E)?A(this).j(A(E)):A(A(this).j(E));if(S(E))return A(this.j(A(E)));if(0>this.l(y)&&0>E.l(y))return u(this.m()*E.m());for(var _=this.g.length+E.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<E.g.length;C++){var D=this.i(b)>>>16,w=this.i(b)&65535,xn=E.i(C)>>>16,rr=E.i(C)&65535;I[2*b+2*C]+=w*rr,P(I,2*b+2*C),I[2*b+2*C+1]+=D*rr,P(I,2*b+2*C+1),I[2*b+2*C+1]+=w*xn,P(I,2*b+2*C+1),I[2*b+2*C+2]+=D*xn,P(I,2*b+2*C+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new o(I,0)};function P(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function H(E,_){this.g=E,this.h=_}function G(E,_){if(v(_))throw Error("division by zero");if(v(E))return new H(p,p);if(S(E))return _=G(A(E),_),new H(A(_.g),A(_.h));if(S(_))return _=G(E,A(_)),new H(A(_.g),_.h);if(30<E.g.length){if(S(E)||S(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,b=_;0>=b.l(E);)I=Ee(I),b=Ee(b);var C=X(I,1),D=X(b,1);for(b=X(b,2),I=X(I,2);!v(b);){var w=D.add(b);0>=w.l(E)&&(C=C.add(I),D=w),b=X(b,1),I=X(I,1)}return _=O(E,C.j(_)),new H(C,_)}for(C=p;0<=E.l(_);){for(I=Math.max(1,Math.floor(E.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(I),w=D.j(_);S(w)||0<w.l(E);)I-=b,D=u(I),w=D.j(_);v(D)&&(D=m),C=C.add(D),E=O(E,w)}return new H(C,E)}n.A=function(E){return G(this,E).h},n.and=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&E.i(b);return new o(I,this.h&E.h)},n.or=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|E.i(b);return new o(I,this.h|E.h)},n.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^E.i(b);return new o(I,this.h^E.h)};function Ee(E){for(var _=E.g.length+1,I=[],b=0;b<_;b++)I[b]=E.i(b)<<1|E.i(b-1)>>>31;return new o(I,E.h)}function X(E,_){var I=_>>5;_%=32;for(var b=E.g.length-I,C=[],D=0;D<b;D++)C[D]=0<_?E.i(D+I)>>>_|E.i(D+I+1)<<32-_:E.i(D+I);return new o(C,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,y_=sA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Vr=sA.Integer=o}).apply(typeof rA<"u"?rA:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Zi={};var __,v_,zo,I_,Fl,fh,w_,E_,b_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(c,d){if(d)e:{var f=i;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var x=f++;return{value:d(x,c[x]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function v(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,x){for(var $=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)$[ze-2]=arguments[ze];return d.prototype[T].apply(g,$)}}function S(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function A(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(l(g)){let T=c.length||0,x=g.length||0;c.length=T+x;for(let $=0;$<x;$++)c[T+$]=g[$]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function P(c){return/^[\s\xa0]*$/.test(c)}function H(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var Ee=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function X(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function _(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let x=0;x<I.length;x++)f=I[x],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function w(){var c=be;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class xn{constructor(){this.h=this.g=null}add(d,f){let g=rr.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var rr=new O(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,te=!1,be=new xn,ht=()=>{let c=a.Promise.resolve(void 0);ee=()=>{c.then(Mn)}};var Mn=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){D(f)}var d=rr;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}te=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Xe(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Xe.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function sr(c,d){if(Xe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Ee){e:{try{G(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Df[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&sr.aa.h.call(this)}}v(sr,Xe);var Df={2:"touch",3:"pen",4:"mouse"};sr.prototype.h=function(){sr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Si=0;function on(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Si,this.da=this.fa=!1}function Ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function or(c){this.src=c,this.g={},this.h=0}or.prototype.add=function(c,d,f,g,T){var x=c.toString();c=this.g[x],c||(c=this.g[x]=[],this.h++);var $=Af(c,d,g,T);return-1<$?(d=c[$],f||(d.fa=!1)):(d=new on(d,this.src,x,!!g,T),d.fa=f,c.push(d)),d};function Sf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),x;(x=0<=T)&&Array.prototype.splice.call(g,T,1),x&&(Ai(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Af(c,d,f,g){for(var T=0;T<c.length;++T){var x=c[T];if(!x.da&&x.listener==d&&x.capture==!!f&&x.ha==g)return T}return-1}var xf="closure_lm_"+(1e6*Math.random()|0),Mf={};function Tw(c,d,f,g,T){if(g&&g.once)return Sw(c,d,f,g,T);if(Array.isArray(d)){for(var x=0;x<d.length;x++)Tw(c,d[x],f,g,T);return null}return f=Pf(f),c&&c[lt]?c.K(d,f,u(g)?!!g.capture:!!g,T):Dw(c,d,f,!1,g,T)}function Dw(c,d,f,g,T,x){if(!d)throw Error("Invalid event type");var $=u(T)?!!T.capture:!!T,ze=Of(c);if(ze||(c[xf]=ze=new or(c)),f=ze.add(d,f,g,$,x),f.proxy)return f;if(g=Ux(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)et||(T=$),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(xw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Ux(){function c(f){return d.call(c.src,c.listener,f)}let d=jx;return c}function Sw(c,d,f,g,T){if(Array.isArray(d)){for(var x=0;x<d.length;x++)Sw(c,d[x],f,g,T);return null}return f=Pf(f),c&&c[lt]?c.L(d,f,u(g)?!!g.capture:!!g,T):Dw(c,d,f,!0,g,T)}function Aw(c,d,f,g,T){if(Array.isArray(d))for(var x=0;x<d.length;x++)Aw(c,d[x],f,g,T);else g=u(g)?!!g.capture:!!g,f=Pf(f),c&&c[lt]?(c=c.i,d=String(d).toString(),d in c.g&&(x=c.g[d],f=Af(x,f,g,T),-1<f&&(Ai(x[f]),Array.prototype.splice.call(x,f,1),x.length==0&&(delete c.g[d],c.h--)))):c&&(c=Of(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Af(d,f,g,T)),(f=-1<c?d[c]:null)&&Rf(f))}function Rf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[lt])Sf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(xw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Of(d))?(Sf(f,c),f.h==0&&(f.src=null,d[xf]=null)):Ai(c)}}}function xw(c){return c in Mf?Mf[c]:Mf[c]="on"+c}function jx(c,d){if(c.da)c=!0;else{d=new sr(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Rf(c),c=f.call(g,d)}return c}function Of(c){return c=c[xf],c instanceof or?c:null}var Nf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pf(c){return typeof c=="function"?c:(c[Nf]||(c[Nf]=function(d){return c.handleEvent(d)}),c[Nf])}function Bt(){at.call(this),this.i=new or(this),this.M=this,this.F=null}v(Bt,at),Bt.prototype[lt]=!0,Bt.prototype.removeEventListener=function(c,d,f,g){Aw(this,c,d,f,g)};function en(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Xe(d,c);else if(d instanceof Xe)d.target=d.target||c;else{var T=d;d=new Xe(g,c),b(d,T)}if(T=!0,f)for(var x=f.length-1;0<=x;x--){var $=d.g=f[x];T=Ac($,g,!0,d)&&T}if($=d.g=c,T=Ac($,g,!0,d)&&T,T=Ac($,g,!1,d)&&T,f)for(x=0;x<f.length;x++)$=d.g=f[x],T=Ac($,g,!1,d)&&T}Bt.prototype.N=function(){if(Bt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Ai(f[g]);delete c.g[d],c.h--}}this.F=null},Bt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Bt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ac(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,x=0;x<d.length;++x){var $=d[x];if($&&!$.da&&$.capture==f){var ze=$.listener,Lt=$.ha||$.src;$.fa&&Sf(c.i,$),T=ze.call(Lt,g)!==!1&&T}}return T&&!g.defaultPrevented}function Mw(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Rw(c){c.g=Mw(()=>{c.g=null,c.i&&(c.i=!1,Rw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Bx extends at{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Rw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){at.call(this),this.h=c,this.g={}}v(va,at);var Ow=[];function Nw(c){X(c.g,function(d,f){this.g.hasOwnProperty(f)&&Rf(d)},c),c.g={}}va.prototype.N=function(){va.aa.N.call(this),Nw(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kf=a.JSON.stringify,$x=a.JSON.parse,Hx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Lf(){}Lf.prototype.h=null;function Pw(c){return c.h||(c.h=c.i())}function kw(){}var Ia={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ff(){Xe.call(this,"d")}v(Ff,Xe);function Vf(){Xe.call(this,"c")}v(Vf,Xe);var zr={},Lw=null;function xc(){return Lw=Lw||new Bt}zr.La="serverreachability";function Fw(c){Xe.call(this,zr.La,c)}v(Fw,Xe);function wa(c){let d=xc();en(d,new Fw(d))}zr.STAT_EVENT="statevent";function Vw(c,d){Xe.call(this,zr.STAT_EVENT,c),this.stat=d}v(Vw,Xe);function tn(c){let d=xc();en(d,new Vw(d,c))}zr.Ma="timingevent";function Uw(c,d){Xe.call(this,zr.Ma,c),this.size=d}v(Uw,Xe);function Ea(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function ba(){this.g=!0}ba.prototype.xa=function(){this.g=!1};function zx(c,d,f,g,T,x){c.info(function(){if(c.g)if(x)for(var $="",ze=x.split("&"),Lt=0;Lt<ze.length;Lt++){var Pe=ze[Lt].split("=");if(1<Pe.length){var $t=Pe[0];Pe=Pe[1];var Ht=$t.split("_");$=2<=Ht.length&&Ht[1]=="type"?$+($t+"="+Pe+"&"):$+($t+"=redacted&")}}else $=null;else $=x;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+$})}function qx(c,d,f,g,T,x,$){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+x+" "+$})}function Ls(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Wx(c,f)+(g?" "+g:"")})}function Gx(c,d){c.info(function(){return"TIMEOUT: "+d})}ba.prototype.info=function(){};function Wx(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(var $=1;$<T.length;$++)T[$]=""}}}}return kf(f)}catch{return d}}var Mc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uf;function Rc(){}v(Rc,Lf),Rc.prototype.g=function(){return new XMLHttpRequest},Rc.prototype.i=function(){return{}},Uf=new Rc;function ar(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bw}function Bw(){this.i=null,this.g="",this.h=!1}var $w={},jf={};function Bf(c,d,f){c.L=1,c.v=kc(xi(d)),c.m=f,c.P=!0,Hw(c,null)}function Hw(c,d){c.F=Date.now(),Oc(c),c.A=xi(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),iE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new Bw,c.g=wE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Bx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(Ow[0]=T.toString()),T=Ow);for(var x=0;x<T.length;x++){var $=Tw(f,T[x],g||d.handleEvent,!1,d.h||d);if(!$)break;d.g[$.key]=$}d=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),wa(),zx(c.i,c.u,c.A,c.l,c.R,c.m)}ar.prototype.ca=function(c){c=c.target;let d=this.M;d&&Mi(c)==3?d.j():this.Y(c)},ar.prototype.Y=function(c){try{if(c==this.g)e:{let Ht=Mi(this.g);var d=this.g.Ba();let Us=this.g.Z();if(!(3>Ht)&&(Ht!=3||this.g&&(this.h.h||this.g.oa()||uE(this.g)))){this.J||Ht!=4||d==7||(d==8||0>=Us?wa(3):wa(2)),$f(this);var f=this.g.Z();this.X=f;t:if(zw(this)){var g=uE(this.g);c="";var T=g.length,x=Mi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qr(this),Ca(this);var $="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(x&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=f==200,qx(this.i,this.u,this.A,this.l,this.R,Ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Lt=this.g;if((ze=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(ze)){var Pe=ze;break t}}Pe=null}if(f=Pe)Ls(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hf(this,f);else{this.o=!1,this.s=3,tn(12),qr(this),Ca(this);break e}}if(this.P){f=!0;let Gn;for(;!this.J&&this.C<$.length;)if(Gn=Kx(this,$),Gn==jf){Ht==4&&(this.s=4,tn(14),f=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Gn==$w){this.s=4,tn(15),Ls(this.i,this.l,$,"[Invalid Chunk]"),f=!1;break}else Ls(this.i,this.l,Gn,null),Hf(this,Gn);if(zw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||$.length!=0||this.h.h||(this.s=1,tn(16),f=!1),this.o=this.o&&f,!f)Ls(this.i,this.l,$,"[Invalid Chunked Response]"),qr(this),Ca(this);else if(0<$.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Qf($t),$t.M=!0,tn(11))}}else Ls(this.i,this.l,$,null),Hf(this,$);Ht==4&&qr(this),this.o&&!this.J&&(Ht==4?yE(this.j,this):(this.o=!1,Oc(this)))}else dM(this.g),f==400&&0<$.indexOf("Unknown SID")?(this.s=3,tn(12)):(this.s=0,tn(13)),qr(this),Ca(this)}}}catch{}finally{}};function zw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Kx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?jf:(f=Number(d.substring(f,g)),isNaN(f)?$w:(g+=1,g+f>d.length?jf:(d=d.slice(g,g+f),c.C=g+f,d)))}ar.prototype.cancel=function(){this.J=!0,qr(this)};function Oc(c){c.S=Date.now()+c.I,qw(c,c.I)}function qw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ea(m(c.ba,c),d)}function $f(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ar.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Gx(this.i,this.A),this.L!=2&&(wa(),tn(17)),qr(this),this.s=2,Ca(this)):qw(this,this.S-c)};function Ca(c){c.j.G==0||c.J||yE(c.j,c)}function qr(c){$f(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Nw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Hf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||zf(f.h,c))){if(!c.K&&zf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)jc(f),Vc(f);else break e;Kf(f),tn(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ea(m(f.Za,f),6e3));if(1>=Kw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Wr(f,11)}else if((c.K||f.g==c)&&jc(f),!P(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let Pe=T[d];if(f.T=Pe[0],Pe=Pe[1],f.G==2)if(Pe[0]=="c"){f.K=Pe[1],f.ia=Pe[2];let $t=Pe[3];$t!=null&&(f.la=$t,f.j.info("VER="+f.la));let Ht=Pe[4];Ht!=null&&(f.Aa=Ht,f.j.info("SVER="+f.Aa));let Us=Pe[5];Us!=null&&typeof Us=="number"&&0<Us&&(g=1.5*Us,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Gn=c.g;if(Gn){let $c=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var x=g.h;x.g||$c.indexOf("spdy")==-1&&$c.indexOf("quic")==-1&&$c.indexOf("h2")==-1||(x.j=x.l,x.g=new Set,x.h&&(qf(x,x.h),x.h=null))}if(g.D){let Yf=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Yf&&(g.ya=Yf,tt(g.I,g.D,Yf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var $=c;if(g.qa=IE(g,g.J?g.ia:null,g.W),$.K){Qw(g.h,$);var ze=$,Lt=g.L;Lt&&(ze.I=Lt),ze.B&&($f(ze),Oc(ze)),g.g=$}else mE(g);0<f.i.length&&Uc(f)}else Pe[0]!="stop"&&Pe[0]!="close"||Wr(f,7);else f.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Wr(f,7):Wf(f):Pe[0]!="noop"&&f.l&&f.l.ta(Pe),f.v=0)}}wa(4)}catch{}}var Qx=class{constructor(c,d){this.g=c,this.map=d}};function Gw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ww(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Kw(c){return c.h?1:c.g?c.g.size:0}function zf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function qf(c,d){c.g?c.g.add(d):c.h=d}function Qw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Gw.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Yw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return S(c.i)}function Yx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Zx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function Zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Zx(c),g=Yx(c),T=g.length,x=0;x<T;x++)d.call(void 0,g[x],f&&f[x],c)}var Jw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var x=c[f].substring(0,g);T=c[f].substring(g+1)}else x=c[f];d(x,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function Gr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Gr){this.h=c.h,Nc(this,c.j),this.o=c.o,this.g=c.g,Pc(this,c.s),this.l=c.l;var d=c.i,f=new Sa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Xw(this,f),this.m=c.m}else c&&(d=String(c).match(Jw))?(this.h=!1,Nc(this,d[1]||"",!0),this.o=Ta(d[2]||""),this.g=Ta(d[3]||"",!0),Pc(this,d[4]),this.l=Ta(d[5]||"",!0),Xw(this,d[6]||"",!0),this.m=Ta(d[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}Gr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Da(d,eE,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Da(d,eE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Da(f,f.charAt(0)=="/"?tM:eM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Da(f,iM)),c.join("")};function xi(c){return new Gr(c)}function Nc(c,d,f){c.j=f?Ta(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Pc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Xw(c,d,f){d instanceof Sa?(c.i=d,rM(c.i,c.h)):(f||(d=Da(d,nM)),c.i=new Sa(d,c.h))}function tt(c,d,f){c.i.set(d,f)}function kc(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ta(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Da(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Xx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Xx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var eE=/[#\/\?@]/g,eM=/[#\?:]/g,tM=/[#\?]/g,nM=/[#\?@]/g,iM=/#/g;function Sa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function lr(c){c.g||(c.g=new Map,c.h=0,c.i&&Jx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Sa.prototype,n.add=function(c,d){lr(this),this.i=null,c=Fs(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function tE(c,d){lr(c),d=Fs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function nE(c,d){return lr(c),d=Fs(c,d),c.g.has(d)}n.forEach=function(c,d){lr(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},n.na=function(){lr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let x=0;x<T.length;x++)f.push(d[g])}return f},n.V=function(c){lr(this);let d=[];if(typeof c=="string")nE(this,c)&&(d=d.concat(this.g.get(Fs(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return lr(this),this.i=null,c=Fs(this,c),nE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function iE(c,d,f){tE(c,d),0<f.length&&(c.i=null,c.g.set(Fs(c,d),S(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let x=encodeURIComponent(String(g)),$=this.V(g);for(g=0;g<$.length;g++){var T=x;$[g]!==""&&(T+="="+encodeURIComponent(String($[g]))),c.push(T)}}return this.i=c.join("&")};function Fs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function rM(c,d){d&&!c.j&&(lr(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(tE(this,g),iE(this,T,f))},c)),c.j=d}function sM(c,d){let f=new ba;if(a.Image){let g=new Image;g.onload=y(cr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(cr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(cr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(cr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function oM(c,d){let f=new ba,g=new AbortController,T=setTimeout(()=>{g.abort(),cr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(x=>{clearTimeout(T),x.ok?cr(f,"TestPingServer: ok",!0,d):cr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),cr(f,"TestPingServer: error",!1,d)})}function cr(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function aM(){this.g=new Hx}function lM(c,d,f){let g=f||"";try{Zw(c,function(T,x){let $=T;u(T)&&($=kf(T)),d.push(g+x+"="+encodeURIComponent($))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function Aa(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Aa,Lf),Aa.prototype.g=function(){return new Lc(this.l,this.j)},Aa.prototype.i=function(c){return function(){return c}}({});function Lc(c,d){Bt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Lc,Bt),n=Lc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ma(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ma(this)),this.g&&(this.readyState=3,Ma(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function rE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xa(this):Ma(this),this.readyState==3&&rE(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xa(this))},n.Qa=function(c){this.g&&(this.response=c,xa(this))},n.ga=function(){this.g&&xa(this)};function xa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ma(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ma(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Lc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sE(c){let d="";return X(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Gf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):tt(c,d,f))}function ct(c){Bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(ct,Bt);var cM=/^https?$/i,uM=["POST","PUT"];n=ct.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uf.g(),this.v=this.o?Pw(this.o):Pw(Uf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(x){oE(this,x);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let x of g.keys())f.set(x,g.get(x));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(x=>x.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(uM,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[x,$]of f)this.g.setRequestHeader(x,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{cE(this),this.u=!0,this.g.send(c),this.u=!1}catch(x){oE(this,x)}};function oE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,aE(c),Fc(c)}function aE(c){c.A||(c.A=!0,en(c,"complete"),en(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,en(this,"complete"),en(this,"abort"),Fc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fc(this,!0)),ct.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?lE(this):this.bb())},n.bb=function(){lE(this)};function lE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Mi(c)!=4||c.Z()!=2)){if(c.u&&Mi(c)==4)Mw(c.Ea,0,c);else if(en(c,"readystatechange"),Mi(c)==4){c.h=!1;try{let $=c.Z();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=$===0){var T=String(c.D).match(Jw)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!cM.test(T?T.toLowerCase():"")}f=g}if(f)en(c,"complete"),en(c,"success");else{c.m=6;try{var x=2<Mi(c)?c.g.statusText:""}catch{x=""}c.l=x+" ["+c.Z()+"]",aE(c)}}finally{Fc(c)}}}}function Fc(c,d){if(c.g){cE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||en(c,"ready");try{f.onreadystatechange=g}catch{}}}function cE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Mi(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Mi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),$x(d)}};function uE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function dM(c){let d={};c=(c.g&&2<=Mi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(P(c[g]))continue;var f=C(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let x=d[T]||[];d[T]=x,x.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ra(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function dE(c){this.Aa=0,this.i=[],this.j=new ba,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ra("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ra("baseRetryDelayMs",5e3,c),this.cb=Ra("retryDelaySeedMs",1e4,c),this.Wa=Ra("forwardChannelMaxRetries",2,c),this.wa=Ra("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Gw(c&&c.concurrentRequestLimit),this.Da=new aM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=dE.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){tn(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=IE(this,null,this.W),Uc(this)};function Wf(c){if(hE(c),c.G==3){var d=c.U++,f=xi(c.I);if(tt(f,"SID",c.K),tt(f,"RID",d),tt(f,"TYPE","terminate"),Oa(c,f),d=new ar(c,c.j,d),d.L=2,d.v=kc(xi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=wE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Oc(d)}vE(c)}function Vc(c){c.g&&(Qf(c),c.g.cancel(),c.g=null)}function hE(c){Vc(c),c.u&&(a.clearTimeout(c.u),c.u=null),jc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Uc(c){if(!Ww(c.h)&&!c.s){c.s=!0;var d=c.Ga;ee||ht(),te||(ee(),te=!0),be.add(d,c),c.B=0}}function hM(c,d){return Kw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ea(m(c.Ga,c,d),_E(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new ar(this,this.j,c),x=this.o;if(this.S&&(x?(x=_(x),b(x,this.S)):x=this.S),this.m!==null||this.O||(T.H=x,x=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=pE(this,T,d),f=xi(this.I),tt(f,"RID",c),tt(f,"CVER",22),this.D&&tt(f,"X-HTTP-Session-Id",this.D),Oa(this,f),x&&(this.O?d="headers="+encodeURIComponent(String(sE(x)))+"&"+d:this.m&&Gf(f,this.m,x)),qf(this.h,T),this.Ua&&tt(f,"TYPE","init"),this.P?(tt(f,"$req",d),tt(f,"SID","null"),T.T=!0,Bf(T,f,null)):Bf(T,f,d),this.G=2}}else this.G==3&&(c?fE(this,c):this.i.length==0||Ww(this.h)||fE(this))};function fE(c,d){var f;d?f=d.l:f=c.U++;let g=xi(c.I);tt(g,"SID",c.K),tt(g,"RID",f),tt(g,"AID",c.T),Oa(c,g),c.m&&c.o&&Gf(g,c.m,c.o),f=new ar(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=pE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),qf(c.h,f),Bf(f,g,d)}function Oa(c,d){c.H&&X(c.H,function(f,g){tt(d,g,f)}),c.l&&Zw({},function(f,g){tt(d,g,f)})}function pE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let x=-1;for(;;){let $=["count="+f];x==-1?0<f?(x=T[0].g,$.push("ofs="+x)):x=0:$.push("ofs="+x);let ze=!0;for(let Lt=0;Lt<f;Lt++){let Pe=T[Lt].g,$t=T[Lt].map;if(Pe-=x,0>Pe)x=Math.max(0,T[Lt].g-100),ze=!1;else try{lM($t,$,"req"+Pe+"_")}catch{g&&g($t)}}if(ze){g=$.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;ee||ht(),te||(ee(),te=!0),be.add(d,c),c.v=0}}function Kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ea(m(c.Fa,c),_E(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,gE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ea(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tn(10),Vc(this),gE(this))};function Qf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function gE(c){c.g=new ar(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=xi(c.qa);tt(d,"RID","rpc"),tt(d,"SID",c.K),tt(d,"AID",c.T),tt(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(d,"TO",c.ja),tt(d,"TYPE","xmlhttp"),Oa(c,d),c.m&&c.o&&Gf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=kc(xi(d)),f.m=null,f.P=!0,Hw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Vc(this),Kf(this),tn(19))};function jc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function yE(c,d){var f=null;if(c.g==d){jc(c),Qf(c),c.g=null;var g=2}else if(zf(c.h,d))f=d.D,Qw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=xc(),en(g,new Uw(g,f)),Uc(c)}else mE(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&hM(c,d)||g==2&&Kf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function _E(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Wr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new Gr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nc(g,"https"),kc(g),T?sM(g.toString(),f):oM(g.toString(),f)}else tn(2);c.G=0,c.l&&c.l.sa(d),vE(c),hE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tn(2)):(this.j.info("Failed to ping google.com"),tn(1))};function vE(c){if(c.G=0,c.ka=[],c.l){let d=Yw(c.h);(d.length!=0||c.i.length!=0)&&(A(c.ka,d),A(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function IE(c,d,f){var g=f instanceof Gr?xi(f):new Gr(f);if(g.g!="")d&&(g.g=d+"."+g.g),Pc(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var x=new Gr(null);g&&Nc(x,g),d&&(x.g=d),T&&Pc(x,T),f&&(x.l=f),g=x}return f=c.D,d=c.ya,f&&d&&tt(g,f,d),tt(g,"VER",c.la),Oa(c,g),g}function wE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ct(new Aa({eb:f})):new ct(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function EE(){}n=EE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Bc(){}Bc.prototype.g=function(c,d){return new fn(c,d)};function fn(c,d){Bt.call(this),this.g=new dE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!P(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!P(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Vs(this)}v(fn,Bt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Wf(this.g)},fn.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=kf(c),c=f);d.i.push(new Qx(d.Ya++,c)),d.G==3&&Uc(d)},fn.prototype.N=function(){this.g.l=null,delete this.j,Wf(this.g),delete this.g,fn.aa.N.call(this)};function bE(c){Ff.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}v(bE,Ff);function CE(){Vf.call(this),this.status=1}v(CE,Vf);function Vs(c){this.g=c}v(Vs,EE),Vs.prototype.ua=function(){en(this.g,"a")},Vs.prototype.ta=function(c){en(this.g,new bE(c))},Vs.prototype.sa=function(c){en(this.g,new CE)},Vs.prototype.ra=function(){en(this.g,"b")},Bc.prototype.createWebChannel=Bc.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,b_=Zi.createWebChannelTransport=function(){return new Bc},E_=Zi.getStatEventTarget=function(){return xc()},w_=Zi.Event=zr,fh=Zi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mc.NO_ERROR=0,Mc.TIMEOUT=8,Mc.HTTP_ERROR=6,Fl=Zi.ErrorCode=Mc,jw.COMPLETE="complete",I_=Zi.EventType=jw,kw.EventType=Ia,Ia.OPEN="a",Ia.CLOSE="b",Ia.ERROR="c",Ia.MESSAGE="d",Bt.prototype.listen=Bt.prototype.K,zo=Zi.WebChannel=kw,v_=Zi.FetchXmlHttpFactory=Aa,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,__=Zi.XhrIo=ct}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});var oA="@firebase/firestore";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var ha="10.13.1";var Es=new kr("@firebase/firestore");function Vl(){return Es.logLevel}function J(n,...e){if(Es.logLevel<=Ce.DEBUG){let t=e.map(hI);Es.debug(`Firestore (${ha}): ${n}`,...t)}}function er(n,...e){if(Es.logLevel<=Ce.ERROR){let t=e.map(hI);Es.error(`Firestore (${ha}): ${n}`,...t)}}function ea(n,...e){if(Es.logLevel<=Ce.WARN){let t=e.map(hI);Es.warn(`Firestore (${ha}): ${n}`,...t)}}function hI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ue(n="Unexpected state"){let e=`FIRESTORE (${ha}) INTERNAL ASSERTION FAILED: `+n;throw er(e),new Error(e)}function bt(n,e){n||ue()}function Re(n,e){return n}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Z=class extends $n{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Xi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var yh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},x_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}},M_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},R_=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Xi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>M(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Xi)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string"),new yh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new kt(e)}},O_=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},N_=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new O_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},P_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},k_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string"),this.R=t.token,new P_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function LB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var L_=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=LB(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function Ve(n,e){return n<e?-1:n>e?1:0}function ta(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Zt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Z(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ge=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Zt(0,0))}static max(){return new n(new Zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _h=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ue(),i===void 0?i=e.length-t:i>e.length-t&&ue(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},mt=class n extends _h{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Z(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},FB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zn=class n extends _h{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return FB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Z(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Z(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(mt.fromString(e))}static fromName(e){return new n(mt.fromString(e).popFirst(5))}static empty(){return new n(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new mt(e.slice()))}};var F_=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};F_.UNKNOWN_ID=-1;function VB(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ge.fromTimestamp(i===1e9?new Zt(t+1,0):new Zt(t,i));return new bs(r,re.empty(),e)}function UB(n){return new bs(n.readTime,n.key,-1)}var bs=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ge.min(),re.empty(),-1)}static max(){return new n(ge.max(),re.empty(),-1)}};function jB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}var BB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",V_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fI(n){return M(this,null,function*(){if(n.code!==j.FAILED_PRECONDITION||n.message!==BB)throw n;J("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;t(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function $B(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ac(n){return n.name==="IndexedDbTransactionError"}var UA=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Bh(n){return n==null}function ql(n){return n===0&&1/n==-1/0}function HB(n){return typeof n=="number"&&Number.isInteger(n)&&!ql(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var zB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_Y=[...zB,"documentOverlays"],qB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],GB=qB,WB=[...GB,"indexConfiguration","indexState","indexEntries"];var vY=[...WB,"globals"];function aA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function lc(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var gt=class n{constructor(e,t){this.comparator=e,this.root=t||bi.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ko(this.root,e,this.comparator,!0)}},Ko=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},bi=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();let e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,t,i,r,s){return this}insert(e,t,i){return new bi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Jt=class n{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new vh(this.data.getIterator())}getIteratorFrom(e){return new vh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},vh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vs=class n{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Jt(zn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Ih=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Xt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Ih("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Xt.EMPTY_BYTE_STRING=new Xt("");var KB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(n){if(bt(!!n),typeof n=="string"){let e=0,t=KB.exec(n);if(bt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ot(n.seconds),nanos:ot(n.nanos)}}function ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ur(n){return typeof n=="string"?Xt.fromBase64String(n):Xt.fromUint8Array(n)}function pI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function mI(n){let e=n.mapValue.fields.__previous_value__;return pI(e)?mI(e):e}function Gl(n){let e=tr(n.mapValue.fields.__local_write_time__.timestampValue);return new Zt(e.seconds,e.nanos)}var U_=class{constructor(e,t,i,r,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},wh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pI(n)?4:$A(n)?9007199254740991:BA(n)?10:11:ue()}function Ti(n,e){if(n===e)return!0;let t=Cs(n);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Gl(n).isEqual(Gl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=tr(r.timestampValue),a=tr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Ur(r.bytesValue).isEqual(Ur(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return ot(r.geoPointValue.latitude)===ot(s.geoPointValue.latitude)&&ot(r.geoPointValue.longitude)===ot(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ot(r.integerValue)===ot(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ot(r.doubleValue),a=ot(s.doubleValue);return o===a?ql(o)===ql(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ta(n.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(aA(o)!==aA(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ti(o[l],a[l])))return!1;return!0}(n,e);default:return ue()}}function Wl(n,e){return(n.values||[]).find(t=>Ti(t,e))!==void 0}function na(n,e){if(n===e)return 0;let t=Cs(n),i=Cs(e);if(t!==i)return Ve(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ot(s.integerValue||s.doubleValue),l=ot(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return lA(n.timestampValue,e.timestampValue);case 4:return lA(Gl(n),Gl(e));case 5:return Ve(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Ur(s),l=Ur(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=Ve(a[u],l[u]);if(h!==0)return h}return Ve(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Ve(ot(s.latitude),ot(o.latitude));return a!==0?a:Ve(ot(s.longitude),ot(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,v=(l=m.value)===null||l===void 0?void 0:l.arrayValue,S=Ve(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((h=v?.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:cA(y,v)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===ph.mapValue&&o===ph.mapValue)return 0;if(s===ph.mapValue)return 1;if(o===ph.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let p=0;p<l.length&&p<h.length;++p){let m=Ve(l[p],h[p]);if(m!==0)return m;let y=na(a[l[p]],u[h[p]]);if(y!==0)return y}return Ve(l.length,h.length)}(n.mapValue,e.mapValue);default:throw ue()}}function lA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);let t=tr(n),i=tr(e),r=Ve(t.seconds,i.seconds);return r!==0?r:Ve(t.nanos,i.nanos)}function cA(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=na(t[r],i[r]);if(s)return s}return Ve(t.length,i.length)}function ia(n){return j_(n)}function j_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=tr(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ur(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=j_(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${j_(t.fields[o])}`;return r+"}"}(n.mapValue):ue()}function uA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function B_(n){return!!n&&"integerValue"in n}function gI(n){return!!n&&"arrayValue"in n}function dA(n){return!!n&&"nullValue"in n}function hA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C_(n){return!!n&&"mapValue"in n}function BA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function jl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return lc(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=jl(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function $A(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ji=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!C_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(t)}setAll(e){let t=zn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=jl(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());C_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];C_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){lc(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(jl(this.value))}};var ni=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ge.min(),ge.min(),ge.min(),Ji.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ge.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ge.min(),ge.min(),Ji.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ge.min(),ge.min(),Ji.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ra=class{constructor(e,t){this.position=e,this.inclusive=t}};function fA(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=re.comparator(re.fromName(o.referenceValue),t.key):i=na(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function pA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ti(n.position[t],e.position[t]))return!1;return!0}var sa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function QB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Eh=class{},Et=class n extends Eh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new H_(e,t,i):t==="array-contains"?new G_(e,i):t==="in"?new W_(e,i):t==="not-in"?new K_(e,i):t==="array-contains-any"?new Q_(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new z_(e,i):new q_(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(na(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},ii=class n extends Eh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return HA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function HA(n){return n.op==="and"}function zA(n){return YB(n)&&HA(n)}function YB(n){for(let e of n.filters)if(e instanceof ii)return!1;return!0}function $_(n){if(n instanceof Et)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(zA(n))return n.filters.map(e=>$_(e)).join(",");{let e=n.filters.map(t=>$_(t)).join(",");return`${n.op}(${e})`}}function qA(n,e){return n instanceof Et?function(i,r){return r instanceof Et&&i.op===r.op&&i.field.isEqual(r.field)&&Ti(i.value,r.value)}(n,e):n instanceof ii?function(i,r){return r instanceof ii&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&qA(o,r.filters[a]),!0):!1}(n,e):void ue()}function GA(n){return n instanceof Et?function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`}(n):n instanceof ii?function(t){return t.op.toString()+" {"+t.getFilters().map(GA).join(" ,")+"}"}(n):"Filter"}var H_=class extends Et{constructor(e,t,i){super(e,t,i),this.key=re.fromName(i.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},z_=class extends Et{constructor(e,t){super(e,"in",t),this.keys=WA("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},q_=class extends Et{constructor(e,t){super(e,"not-in",t),this.keys=WA("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function WA(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>re.fromName(i.referenceValue))}var G_=class extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return gI(t)&&Wl(t.arrayValue,this.value)}},W_=class extends Et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Wl(this.value.arrayValue,t)}},K_=class extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Wl(this.value.arrayValue,t)}},Q_=class extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!gI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Wl(this.value.arrayValue,i))}};var Y_=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function mA(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Y_(n,e,t,i,r,s,o)}function yI(n){let e=Re(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>$_(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Bh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ue=t}return e.ue}function _I(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!QB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!pA(n.startAt,e.startAt)&&pA(n.endAt,e.endAt)}function Z_(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ts=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function ZB(n,e,t,i,r,s,o,a){return new Ts(n,e,t,i,r,s,o,a)}function KA(n){return new Ts(n)}function gA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function QA(n){return n.collectionGroup!==null}function Bl(n){let e=Re(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Jt(zn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new sa(s,i))}),t.has(zn.keyField().canonicalString())||e.ce.push(new sa(zn.keyField(),i))}return e.ce}function Ci(n){let e=Re(n);return e.le||(e.le=JB(e,Bl(n))),e.le}function JB(n,e){if(n.limitType==="F")return mA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new sa(r.field,s)});let t=n.endAt?new ra(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ra(n.startAt.position,n.startAt.inclusive):null;return mA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function J_(n,e){let t=n.filters.concat([e]);return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function X_(n,e,t){return new Ts(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return _I(Ci(n),Ci(e))&&n.limitType===e.limitType}function YA(n){return`${yI(Ci(n))}|lt:${n.limitType}`}function qo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>GA(r)).join(", ")}]`),Bh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ia(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ia(r)).join(",")),`Target(${i})`}(Ci(n))}; limitType=${n.limitType})`}function Hh(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):re.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Bl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let u=fA(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Bl(i),r)||i.endAt&&!function(o,a,l){let u=fA(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Bl(i),r))}(n,e)}function XB(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZA(n){return(e,t)=>{let i=!1;for(let r of Bl(n)){let s=e4(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function e4(n,e,t){let i=n.field.isKeyField()?re.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?na(l,u):ue()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ue()}}var jr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){lc(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return jA(this.inner)}size(){return this.innerSize}};var t4=new gt(re.comparator);function Br(){return t4}var JA=new gt(re.comparator);function Ul(...n){let e=JA;for(let t of n)e=e.insert(t.key,t);return e}function n4(n){let e=JA;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Is(){return $l()}function XA(){return $l()}function $l(){return new jr(n=>n.toString(),(n,e)=>n.isEqual(e))}var wY=new gt(re.comparator),i4=new Jt(re.comparator);function Ne(...n){let e=i4;for(let t of n)e=e.add(t);return e}var r4=new Jt(Ve);function s4(){return r4}function vI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ql(e)?"-0":e}}function e1(n){return{integerValue:""+n}}function o4(n,e){return HB(e)?e1(e):vI(n,e)}var oa=class{constructor(){this._=void 0}};function a4(n,e,t){return n instanceof Kl?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&pI(s)&&(s=mI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof aa?t1(n,e):n instanceof la?n1(n,e):function(r,s){let o=c4(r,s),a=yA(o)+yA(r.Pe);return B_(o)&&B_(r.Pe)?e1(a):vI(r.serializer,a)}(n,e)}function l4(n,e,t){return n instanceof aa?t1(n,e):n instanceof la?n1(n,e):t}function c4(n,e){return n instanceof Ql?function(i){return B_(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var Kl=class extends oa{},aa=class extends oa{constructor(e){super(),this.elements=e}};function t1(n,e){let t=i1(e);for(let i of n.elements)t.some(r=>Ti(r,i))||t.push(i);return{arrayValue:{values:t}}}var la=class extends oa{constructor(e){super(),this.elements=e}};function n1(n,e){let t=i1(e);for(let i of n.elements)t=t.filter(r=>!Ti(r,i));return{arrayValue:{values:t}}}var Ql=class extends oa{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function yA(n){return ot(n.integerValue||n.doubleValue)}function i1(n){return gI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function u4(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof aa&&r instanceof aa||i instanceof la&&r instanceof la?ta(i.elements,r.elements,Ti):i instanceof Ql&&r instanceof Ql?Ti(i.Pe,r.Pe):i instanceof Kl&&r instanceof Kl}(n.transform,e.transform)}var Hl=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Yl=class{};function r1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ev(n.key,Hl.none()):new Zl(n.key,n.data,Hl.none());{let t=n.data,i=Ji.empty(),r=new Jt(zn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new ca(n.key,i,new vs(r.toArray()),Hl.none())}}function d4(n,e,t){n instanceof Zl?function(r,s,o){let a=r.value.clone(),l=vA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof ca?function(r,s,o){if(!gh(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=vA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(s1(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function zl(n,e,t,i){return n instanceof Zl?function(s,o,a,l){if(!gh(s.precondition,o))return a;let u=s.value.clone(),h=IA(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof ca?function(s,o,a,l){if(!gh(s.precondition,o))return a;let u=IA(s.fieldTransforms,l,o),h=o.data;return h.setAll(s1(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,o,a){return gh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function _A(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ta(i,r,(s,o)=>u4(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Zl=class extends Yl{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},ca=class extends Yl{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function s1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function vA(n,e,t){let i=new Map;bt(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,l4(o,a,t[r]))}return i}function IA(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,a4(s,o,e))}return i}var ev=class extends Yl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}};var tv=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&d4(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=zl(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=zl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=XA();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=r1(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ne())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(t,i)=>_A(t,i))&&ta(this.baseMutations,e.baseMutations,(t,i)=>_A(t,i))}};var nv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var iv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var It,Me;function o1(n){if(n===void 0)return er("GRPC error has no .code"),j.UNKNOWN;switch(n){case It.OK:return j.OK;case It.CANCELLED:return j.CANCELLED;case It.UNKNOWN:return j.UNKNOWN;case It.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case It.INTERNAL:return j.INTERNAL;case It.UNAVAILABLE:return j.UNAVAILABLE;case It.UNAUTHENTICATED:return j.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case It.NOT_FOUND:return j.NOT_FOUND;case It.ALREADY_EXISTS:return j.ALREADY_EXISTS;case It.PERMISSION_DENIED:return j.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case It.ABORTED:return j.ABORTED;case It.OUT_OF_RANGE:return j.OUT_OF_RANGE;case It.UNIMPLEMENTED:return j.UNIMPLEMENTED;case It.DATA_LOSS:return j.DATA_LOSS;default:return ue()}}(Me=It||(It={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var wA=null;function h4(){return new TextEncoder}var f4=new Vr([4294967295,4294967295],0);function EA(n){let e=h4().encode(n),t=new y_;return t.update(e),new Uint8Array(t.digest())}function bA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Vr([t,i],0),new Vr([r,s],0)]}var rv=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ws(`Invalid padding: ${t}`);if(i<0)throw new ws(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ws(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ws(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Vr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(Vr.fromNumber(i)));return r.compare(f4)===1&&(r=new Vr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=EA(e),[i,r]=bA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=EA(e),[i,r]=bA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},ws=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bh=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ge.min(),r,new gt(Ve),Br(),Ne())}},Jl=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Ne(),Ne(),Ne())}};var Yo=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},Ch=class{constructor(e,t){this.targetId=e,this.me=t}},Th=class{constructor(e,t,i=Xt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},Dh=class{constructor(){this.fe=0,this.ge=TA(),this.pe=Xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ne(),t=Ne(),i=Ne();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ue()}}),new Jl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=TA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},sv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Br(),this.qe=CA(),this.Qe=new gt(Ve)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Z_(s))if(i===0){let o=new re(s.path);this.Ue(t,o,ni.newNoDocument(o,ge.min()))}else bt(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}wA?.et(function(h,p,m,y,v){var S,A,O,P,H,G;let Ee={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},X=p.unchangedNames;return X&&(Ee.bloomFilter={applied:v===0,hashCount:(S=X?.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(P=(O=(A=X?.bits)===null||A===void 0?void 0:A.bitmap)===null||O===void 0?void 0:O.length)!==null&&P!==void 0?P:0,padding:(G=(H=X?.bits)===null||H===void 0?void 0:H.padding)!==null&&G!==void 0?G:0,mightContain:E=>{var _;return(_=y?.mightContain(E))!==null&&_!==void 0&&_}}),Ee}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Ur(i).toUint8Array()}catch(l){if(l instanceof Ih)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rv(o,r,s)}catch(l){return ea(l instanceof ws?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Z_(a.target)){let l=new re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ni.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=Ne();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new bh(e,t,this.Qe,this.ke,i);return this.ke=Br(),this.qe=CA(),this.Qe=new gt(Ve),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Dh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Jt(Ve),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Dh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function CA(){return new gt(re.comparator)}function TA(){return new gt(re.comparator)}var p4={asc:"ASCENDING",desc:"DESCENDING"},m4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},g4={and:"AND",or:"OR"},ov=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function av(n,e){return n.useProto3Json||Bh(e)?e:{value:e}}function lv(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Zo(n){return bt(!!n),ge.fromTimestamp(function(t){let i=tr(t);return new Zt(i.seconds,i.nanos)}(n))}function l1(n,e){return cv(n,e).canonicalString()}function cv(n,e){let t=function(r){return new mt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function c1(n){let e=mt.fromString(n);return bt(p1(e)),e}function T_(n,e){let t=c1(e);if(t.get(1)!==n.databaseId.projectId)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Z(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(d1(t))}function u1(n,e){return l1(n.databaseId,e)}function y4(n){let e=c1(n);return e.length===4?mt.emptyPath():d1(e)}function DA(n){return new mt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function d1(n){return bt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function _4(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(bt(h===void 0||typeof h=="string"),Xt.fromBase64String(h||"")):(bt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),Xt.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let h=u.code===void 0?j.UNKNOWN:o1(u.code);return new Z(h,u.message||"")}(o);t=new Th(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=T_(n,i.document.name),s=Zo(i.document.updateTime),o=i.document.createTime?Zo(i.document.createTime):ge.min(),a=new Ji({mapValue:{fields:i.document.fields}}),l=ni.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];t=new Yo(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=T_(n,i.document),s=i.readTime?Zo(i.readTime):ge.min(),o=ni.newNoDocument(r,s),a=i.removedTargetIds||[];t=new Yo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=T_(n,i.document),s=i.removedTargetIds||[];t=new Yo([],s,r,null)}else{if(!("filter"in e))return ue();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new iv(r,s),a=i.targetId;t=new Ch(a,o)}}return t}function v4(n,e){return{documents:[u1(n,e.path)]}}function I4(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=u1(n,r);let s=function(u){if(u.length!==0)return f1(ii.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Go(m.field),direction:b4(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=av(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function w4(n){let e=y4(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){bt(i===1);let h=t.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=h1(p);return m instanceof ii&&zA(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(v){return new sa(Wo(v.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Bh(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(p){let m=!!p.before,y=p.values||[];return new ra(y,m)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new ra(y,m)}(t.endAt)),ZB(e,r,o,s,a,"F",l,u)}function E4(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function h1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=Wo(t.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Wo(t.unaryFilter.field);return Et.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Wo(t.unaryFilter.field);return Et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Wo(t.unaryFilter.field);return Et.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(n):n.fieldFilter!==void 0?function(t){return Et.create(Wo(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ii.create(t.compositeFilter.filters.map(i=>h1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ue()}}(t.compositeFilter.op))}(n):ue()}function b4(n){return p4[n]}function C4(n){return m4[n]}function T4(n){return g4[n]}function Go(n){return{fieldPath:n.canonicalString()}}function Wo(n){return zn.fromServerFormat(n.fieldPath)}function f1(n){return n instanceof Et?function(t){if(t.op==="=="){if(hA(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NAN"}};if(dA(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hA(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NAN"}};if(dA(t.value))return{unaryFilter:{field:Go(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Go(t.field),op:C4(t.op),value:t.value}}}(n):n instanceof ii?function(t){let i=t.getFilters().map(r=>f1(r));return i.length===1?i[0]:{compositeFilter:{op:T4(t.op),filters:i}}}(n):ue()}function p1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xl=class n{constructor(e,t,i,r,s=ge.min(),o=ge.min(),a=Xt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var uv=class{constructor(e){this.ct=e}};function D4(n){let e=w4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?X_(e,e.limit,"L"):e}var Sh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ot(e.integerValue));else if("doubleValue"in e){let i=ot(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),ql(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=tr(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ur(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?$A(e)?this.dt(t,Number.MAX_SAFE_INTEGER):BA(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ue()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(ot(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Sh.vt=new Sh;var dv=class{constructor(){this.un=new hv}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(bs.min())}updateCollectionGroup(e,t,i){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},hv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Jt(mt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Jt(mt.comparator)).toArray()}};var EY=new Uint8Array(0);var Ei=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(41943040,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);var ec=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var fv=class{constructor(){this.changes=new jr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?B.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var pv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var mv=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&zl(i.mutation,r,vs.empty(),Zt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ne()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ne()){let r=Is();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Ul();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Is();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ne()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=Br(),o=$l(),a=function(){return $l()}();return t.forEach((l,u)=>{let h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof ca)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),zl(h.mutation,u,h.mutation.getFieldMask(),Zt.now())):o.set(u.key,vs.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new pv(h,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=$l(),r=new gt((o,a)=>o-a),s=Ne();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=i.get(l)||vs.empty();h=a.applyToLocalView(u,h),i.set(l,h);let p=(r.get(a.batchId)||Ne()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,p=XA();h.forEach(m=>{if(!s.has(m)){let y=r1(t.get(m),i.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return B.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):QA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):B.resolve(Is()),a=-1,l=s;return o.next(u=>B.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ne())).next(h=>({batchId:a,changes:n4(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(i=>{let r=Ul();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Ul();return this.indexManager.getCollectionParents(e,s).next(a=>B.forEach(a,l=>{let u=function(p,m){return new Ts(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,u)=>{let h=u.getKey();o.get(h)===null&&(o=o.insert(h,ni.newInvalidDocument(h)))});let a=Ul();return o.forEach((l,u)=>{let h=s.get(l);h!==void 0&&zl(h.mutation,u,vs.empty(),Zt.now()),Hh(t,u)&&(a=a.insert(l,u))}),a})}};var gv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Zo(r.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:D4(r.bundledQuery),readTime:Zo(r.readTime)}}(t)),B.resolve()}};var yv=class{constructor(){this.overlays=new gt(re.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Is();return B.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),B.resolve()}getOverlaysForCollection(e,t,i){let r=Is(),s=t.length+1,o=new re(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return B.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new gt((u,h)=>u-h),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=Is(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Is(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return B.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new nv(t,i));let s=this.Ir.get(t);s===void 0&&(s=Ne(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var _v=class{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var tc=class{constructor(){this.Tr=new Jt(wt.Er),this.dr=new Jt(wt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new wt(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new wt(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new re(new mt([])),i=new wt(t,e),r=new wt(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new re(new mt([])),i=new wt(t,e),r=new wt(t,e+1),s=Ne();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new wt(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},wt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return re.comparator(e.key,t.key)||Ve(e.wr,t.wr)}static Ar(e,t){return Ve(e.wr,t.wr)||re.comparator(e.key,t.key)}};var vv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Jt(wt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new tv(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new wt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new wt(t,0),r=new wt(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Jt(Ve);return t.forEach(r=>{let s=new wt(r,0),o=new wt(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),B.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;re.isDocumentKey(s)||(s=s.child(""));let o=new wt(new re(s),0),a=new Jt(Ve);return this.br.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),B.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){bt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return B.forEach(t.mutations,r=>{let s=new wt(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new wt(t,0),r=this.br.firstAfterOrEqual(i);return B.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Iv=class{constructor(e){this.Mr=e,this.docs=function(){return new gt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return B.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let i=Br();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ni.newInvalidDocument(r))}),B.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=Br(),o=t.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||jB(UB(h),i)<=0||(r.has(h.key)||Hh(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ue()}Or(e,t){return B.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new wv(this)}getSize(e){return B.resolve(this.size)}},wv=class extends fv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Ev=class{constructor(e){this.persistence=e,this.Nr=new jr(t=>yI(t),_I),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tc,this.targetCount=0,this.kr=ec.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ec(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),B.waitFor(s).next(()=>r)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return B.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),B.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return B.resolve(i)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}};var bv=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new UA(0),this.Kr=!1,this.Kr=!0,this.$r=new _v,this.referenceDelegate=e(this),this.Ur=new Ev(this),this.indexManager=new dv,this.remoteDocumentCache=function(r){return new Iv(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new uv(t),this.Gr=new gv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new yv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new vv(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){J("MemoryPersistence","Starting transaction:",e);let r=new Cv(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return B.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},Cv=class extends V_{constructor(e){super(),this.currentSequenceNumber=e}},Tv=class n{constructor(e){this.persistence=e,this.Jr=new tc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),B.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,i=>{let r=re.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ge.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Dv=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Ne(),r=Ne();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var Sv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Av=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return BS()?8:$B(Dn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new Sv;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Vl()<=Ce.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",qo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(Vl()<=Ce.DEBUG&&J("QueryEngine","Query:",qo(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Vl()<=Ce.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",qo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):B.resolve())}Yi(e,t){if(gA(t))return B.resolve(null);let i=Ci(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=X_(t,null,"F"),i=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Ne(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,X_(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,i,r){return gA(t)||r.isEqual(ge.min())?B.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?B.resolve(null):(Vl()<=Ce.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qo(t)),this.rs(e,o,t,VB(r,-1)).next(a=>a))})}ts(e,t){let i=new Jt(ZA(e));return t.forEach((r,s)=>{Hh(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Vl()<=Ce.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",qo(t)),this.Ji.getDocumentsMatchingQuery(e,t,bs.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var xv=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new gt(Ve),this._s=new jr(s=>yI(s),_I),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function S4(n,e,t,i){return new xv(n,e,t,i)}function m1(n,e){return M(this,null,function*(){let t=Re(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Ne();for(let u of r){o.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of s){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function g1(n){let e=Re(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function A4(n,e){let t=Re(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=r.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Xt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,i)),r=r.insert(p,y),function(S,A,O){return S.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,h)&&a.push(t.Ur.updateTargetData(s,y))});let l=Br(),u=Ne();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(x4(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!i.isEqual(ge.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return B.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.os=r,s))}function x4(n,e,t){let i=Ne(),r=Ne();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=Br();return t.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function M4(n,e){let t=Re(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,B.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new Xl(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function Mv(n,e,t){return M(this,null,function*(){let i=Re(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!ac(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function SA(n,e,t){let i=Re(n),r=ge.min(),s=Ne();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){let p=Re(l),m=p._s.get(h);return m!==void 0?B.resolve(p.os.get(m)):p.Ur.getTargetData(u,h)}(i,o,Ci(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ge.min(),t?s:Ne())).next(a=>(R4(i,XB(e),a),{documents:a,Ts:s})))}function R4(n,e,t){let i=n.us.get(e)||ge.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var Ah=class{constructor(){this.activeTargetIds=s4()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rv=class{constructor(){this.so=new Ah,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ah,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Ov=class{_o(e){}shutdown(){}};var xh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var mh=null;function D_(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}var O4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Nv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Yt="WebChannelConnection",Pv=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=D_(),l=this.xo(t,i.toUriEncodedString());J("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,l,u,r).then(h=>(J("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw ea("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=O4[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=D_();return new Promise((o,a)=>{let l=new __;l.setWithCredentials(!0),l.listenOnce(I_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Fl.NO_ERROR:let h=l.getResponseJson();J(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Fl.TIMEOUT:J(Yt,`RPC '${e}' ${s} timed out`),a(new Z(j.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:let p=l.getStatus();if(J(Yt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let v=function(A){let O=A.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(O)>=0?O:j.UNKNOWN}(y.status);a(new Z(v,y.message))}else a(new Z(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(j.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{J(Yt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);J(Yt,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=D_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=b_(),a=E_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new v_({})),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let h=s.join("");J(Yt,`Creating RPC '${e}' stream ${r}: ${h}`,l);let p=o.createWebChannel(h,l),m=!1,y=!1,v=new Nv({Io:A=>{y?J(Yt,`Not sending because RPC '${e}' stream ${r} is closed:`,A):(m||(J(Yt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),J(Yt,`RPC '${e}' stream ${r} sending:`,A),p.send(A))},To:()=>p.close()}),S=(A,O,P)=>{A.listen(O,H=>{try{P(H)}catch(G){setTimeout(()=>{throw G},0)}})};return S(p,zo.EventType.OPEN,()=>{y||(J(Yt,`RPC '${e}' stream ${r} transport opened.`),v.yo())}),S(p,zo.EventType.CLOSE,()=>{y||(y=!0,J(Yt,`RPC '${e}' stream ${r} transport closed`),v.So())}),S(p,zo.EventType.ERROR,A=>{y||(y=!0,ea(Yt,`RPC '${e}' stream ${r} transport errored:`,A),v.So(new Z(j.UNAVAILABLE,"The operation could not be completed")))}),S(p,zo.EventType.MESSAGE,A=>{var O;if(!y){let P=A.data[0];bt(!!P);let H=P,G=H.error||((O=H[0])===null||O===void 0?void 0:O.error);if(G){J(Yt,`RPC '${e}' stream ${r} received error:`,G);let Ee=G.status,X=function(I){let b=It[I];if(b!==void 0)return o1(b)}(Ee),E=G.message;X===void 0&&(X=j.INTERNAL,E="Unknown error status: "+Ee+" with message "+G.message),y=!0,v.So(new Z(X,E)),p.close()}else J(Yt,`RPC '${e}' stream ${r} received:`,P),v.bo(P)}}),S(a,w_.STAT_EVENT,A=>{A.stat===fh.PROXY?J(Yt,`RPC '${e}' stream ${r} detected buffering proxy`):A.stat===fh.NOPROXY&&J(Yt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function S_(){return typeof document<"u"?document:null}function zh(n){return new ov(n,!0)}var Mh=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var kv=class{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Mh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===j.RESOURCE_EXHAUSTED?(er(t.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new Z(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Lv=class extends kv{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=_4(this.serializer,e),i=function(s){if(!("targetChange"in s))return ge.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Zo(o.readTime):ge.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=DA(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Z_(l)?{documents:v4(s,l)}:{query:I4(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=a1(s,o.resumeToken);let u=av(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=lv(s,o.snapshotVersion.toTimestamp());let u=av(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=E4(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=DA(this.serializer),t.removeTarget=e,this.a_(t)}};var Fv=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,cv(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(j.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,cv(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Vv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(er(t),this.D_=!1):J("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Uv=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>M(this,null,function*(){uc(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(l){return M(this,null,function*(){let u=Re(l);u.L_.add(4),yield cc(u),u.q_.set("Unknown"),u.L_.delete(4),yield qh(u)})}(this))}))}),this.q_=new Vv(i,r)}};function qh(n){return M(this,null,function*(){if(uc(n))for(let e of n.B_)yield e(!0)})}function cc(n){return M(this,null,function*(){for(let e of n.B_)yield e(!1)})}function y1(n,e){let t=Re(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),bI(t)?EI(t):fa(t).r_()&&wI(t,e))}function II(n,e){let t=Re(n),i=fa(t);t.N_.delete(e),i.r_()&&_1(t,e),t.N_.size===0&&(i.r_()?i.o_():uc(t)&&t.q_.set("Unknown"))}function wI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}fa(n).A_(e)}function _1(n,e){n.Q_.xe(e),fa(n).R_(e)}function EI(n){n.Q_=new sv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),fa(n).start(),n.q_.v_()}function bI(n){return uc(n)&&!fa(n).n_()&&n.N_.size>0}function uc(n){return Re(n).L_.size===0}function v1(n){n.Q_=void 0}function N4(n){return M(this,null,function*(){n.q_.set("Online")})}function P4(n){return M(this,null,function*(){n.N_.forEach((e,t)=>{wI(n,e)})})}function k4(n,e){return M(this,null,function*(){v1(n),bI(n)?(n.q_.M_(e),EI(n)):n.q_.set("Unknown")})}function L4(n,e,t){return M(this,null,function*(){if(n.q_.set("Online"),e instanceof Th&&e.state===2&&e.cause)try{yield function(r,s){return M(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield AA(n,i)}else if(e instanceof Yo?n.Q_.Ke(e):e instanceof Ch?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ge.min()))try{let i=yield g1(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(Xt.EMPTY_BYTE_STRING,h.snapshotVersion)),_1(s,l);let p=new Xl(h.target,l,u,h.sequenceNumber);wI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){J("RemoteStore","Failed to raise snapshot:",i),yield AA(n,i)}})}function AA(n,e,t){return M(this,null,function*(){if(!ac(e))throw e;n.L_.add(1),yield cc(n),n.q_.set("Offline"),t||(t=()=>g1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield qh(n)}))})}function xA(n,e){return M(this,null,function*(){let t=Re(n);t.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let i=uc(t);t.L_.add(3),yield cc(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield qh(t)})}function F4(n,e){return M(this,null,function*(){let t=Re(n);e?(t.L_.delete(2),yield qh(t)):e||(t.L_.add(2),yield cc(t),t.q_.set("Unknown"))})}function fa(n){return n.K_||(n.K_=function(t,i,r){let s=Re(t);return s.w_(),new Lv(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:N4.bind(null,n),Ro:P4.bind(null,n),mo:k4.bind(null,n),d_:L4.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.K_.s_(),bI(n)?EI(n):n.q_.set("Unknown")):(yield n.K_.stop(),v1(n))}))),n.K_}var jv=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function I1(n,e){if(er("AsyncQueue",`${e}: ${n}`),ac(n))return new Z(j.UNAVAILABLE,`${e}: ${n}`);throw n}var Rh=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||re.comparator(t.key,i.key):(t,i)=>re.comparator(t.key,i.key),this.keyedMap=Ul(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var Oh=class{constructor(){this.W_=new gt(re.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ue():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},ua=class n{constructor(e,t,i,r,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Rh.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var Bv=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},$v=class{constructor(){this.queries=MA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=Re(t),s=r.queries;r.queries=MA(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(i)})})(this,new Z(j.ABORTED,"Firestore shutting down"))}};function MA(){return new jr(n=>YA(n),$h)}function V4(n,e){return M(this,null,function*(){let t=Re(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new Bv,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=I1(o,`Initialization of query '${qo(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&CI(t)})}function U4(n,e){return M(this,null,function*(){let t=Re(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function j4(n,e){let t=Re(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&CI(t)}function B4(n,e,t){let i=Re(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function CI(n){n.Y_.forEach(e=>{e.next()})}var Hv,RA;(RA=Hv||(Hv={})).ea="default",RA.Cache="cache";var zv=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ua(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hv.Cache}};var Nh=class{constructor(e){this.key=e}},Ph=class{constructor(e){this.key=e}},qv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ne(),this.mutatedKeys=Ne(),this.Aa=ZA(e),this.Ra=new Rh(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new Oh,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,p)=>{let m=r.get(h),y=Hh(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),S=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),A=!1;m&&y?m.data.isEqual(y.data)?v!==S&&(i.track({type:3,doc:y}),A=!0):this.ga(m,y)||(i.track({type:2,doc:y}),A=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(i.track({type:0,doc:y}),A=!0):m&&!y&&(i.track({type:1,doc:m}),A=!0,(l||u)&&(a=!0)),A&&(y?(o=o.add(y),s=S?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,v){let S=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue()}};return S(y)-S(v)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new ua(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Oh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ne(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new Ph(i))}),this.da.forEach(i=>{e.has(i)||t.push(new Nh(i))}),t}ba(e){this.Ta=e.Ts,this.da=Ne();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ua.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Gv=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},Wv=class{constructor(e){this.key=e,this.va=!1}},Kv=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new jr(a=>YA(a),$h),this.Ma=new Map,this.xa=new Set,this.Oa=new gt(re.comparator),this.Na=new Map,this.La=new tc,this.Ba={},this.ka=new Map,this.qa=ec.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function $4(n,e,t=!0){return M(this,null,function*(){let i=T1(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield w1(i,e,t,!0),r})}function H4(n,e){return M(this,null,function*(){let t=T1(n);yield w1(t,e,!0,!1)})}function w1(n,e,t,i){return M(this,null,function*(){let r=yield M4(n.localStore,Ci(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield z4(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&y1(n.remoteStore,r),a})}function z4(n,e,t,i,r){return M(this,null,function*(){n.Ka=(p,m,y)=>function(S,A,O,P){return M(this,null,function*(){let H=A.view.ma(O);H.ns&&(H=yield SA(S.localStore,A.query,!1).then(({documents:E})=>A.view.ma(E,H)));let G=P&&P.targetChanges.get(A.targetId),Ee=P&&P.targetMismatches.get(A.targetId)!=null,X=A.view.applyChanges(H,S.isPrimaryClient,G,Ee);return NA(S,A.targetId,X.wa),X.snapshot})}(n,p,m,y);let s=yield SA(n.localStore,e,!0),o=new qv(e,s.Ts),a=o.ma(s.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,l);NA(n,t,u.wa);let h=new Gv(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function q4(n,e,t){return M(this,null,function*(){let i=Re(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!$h(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mv(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&II(i.remoteStore,r.targetId),Qv(i,r.targetId)}).catch(fI))):(Qv(i,r.targetId),yield Mv(i.localStore,r.targetId,!0))})}function G4(n,e){return M(this,null,function*(){let t=Re(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),II(t.remoteStore,i.targetId))})}function E1(n,e){return M(this,null,function*(){let t=Re(n);try{let i=yield A4(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(bt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?bt(o.va):r.removedDocuments.size>0&&(bt(o.va),o.va=!1))}),yield C1(t,i,e)}catch(i){yield fI(i)}})}function OA(n,e,t){let i=Re(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=Re(o);l.onlineState=a;let u=!1;l.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(u=!0)}),u&&CI(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function W4(n,e,t){return M(this,null,function*(){let i=Re(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new gt(re.comparator);o=o.insert(s,ni.newNoDocument(s,ge.min()));let a=Ne().add(s),l=new bh(ge.min(),new Map,new gt(Ve),o,a);yield E1(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),TI(i)}else yield Mv(i.localStore,e,!1).then(()=>Qv(i,e,t)).catch(fI)})}function Qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||b1(n,i)})}function b1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(II(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),TI(n))}function NA(n,e,t){for(let i of t)i instanceof Nh?(n.La.addReference(i.key,e),K4(n,i)):i instanceof Ph?(J("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||b1(n,i.key)):ue()}function K4(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(J("SyncEngine","New document in limbo: "+t),n.xa.add(i),TI(n))}function TI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new re(mt.fromString(e)),i=n.qa.next();n.Na.set(i,new Wv(t)),n.Oa=n.Oa.insert(t,i),y1(n.remoteStore,new Xl(Ci(KA(t.path)),i,"TargetPurposeLimboResolution",UA.oe))}}function C1(n,e,t){return M(this,null,function*(){let i=Re(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(u=>{var h;if((u||t)&&i.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=Dv.Wi(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,u){return M(this,null,function*(){let h=Re(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(u,m=>B.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>B.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ac(p))throw p;J("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),v=y.snapshotVersion,S=y.withLastLimboFreeSnapshotVersion(v);h.os=h.os.insert(m,S)}}})}(i.localStore,s))})}function Q4(n,e){return M(this,null,function*(){let t=Re(n);if(!t.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let i=yield m1(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Z(j.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield C1(t,i.hs)}})}function Y4(n,e){let t=Re(n),i=t.Na.get(e);if(i&&i.va)return Ne().add(i.key);{let r=Ne(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function T1(n){let e=Re(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=E1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W4.bind(null,e),e.Ca.d_=j4.bind(null,e.eventManager),e.Ca.$a=B4.bind(null,e.eventManager),e}var kh=class{constructor(){this.synchronizeTabs=!1}initialize(e){return M(this,null,function*(){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return S4(this.persistence,new Av,e.initialUser,this.serializer)}createPersistence(e){return new bv(Tv.Zr,this.serializer)}createSharedClientState(e){return new Rv}terminate(){return M(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Yv=class{initialize(e,t){return M(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>OA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Q4.bind(null,this.syncEngine),yield F4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new $v}()}createDatastore(e){let t=zh(e.databaseInfo.databaseId),i=function(s){return new Pv(s)}(e.databaseInfo);return function(s,o,a,l){return new Fv(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new Uv(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>OA(this.syncEngine,t,0),function(){return xh.D()?new xh:new Ov}())}createSyncEngine(e,t){return function(r,s,o,a,l,u,h){let p=new Kv(r,s,o,a,l,u);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return M(this,null,function*(){var e,t;yield function(r){return M(this,null,function*(){let s=Re(r);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield cc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var Zv=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):er("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var Jv=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=kt.UNAUTHENTICATED,this.clientId=L_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>M(this,null,function*(){J("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=I1(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function A_(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>M(this,null,function*(){i.isEqual(r)||(yield m1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function PA(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield J4(n);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>xA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>xA(e.remoteStore,r)),n._onlineComponents=e})}function Z4(n){return n.name==="FirebaseError"?n.code===j.FAILED_PRECONDITION||n.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function J4(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield A_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!Z4(t))throw t;ea("Error using user provided cache. Falling back to memory cache: "+t),yield A_(n,new kh)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield A_(n,new kh);return n._offlineComponents})}function X4(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield PA(n,n._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield PA(n,new Yv))),n._onlineComponents})}function e3(n){return M(this,null,function*(){let e=yield X4(n),t=e.eventManager;return t.onListen=$4.bind(null,e.syncEngine),t.onUnlisten=q4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=H4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=G4.bind(null,e.syncEngine),t})}function t3(n,e,t={}){let i=new Xi;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(s,o,a,l,u){let h=new Zv({next:m=>{o.enqueueAndForget(()=>U4(s,p)),m.fromCache&&l.source==="server"?u.reject(new Z(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new zv(a,h,{includeMetadataChanges:!0,_a:!0});return V4(s,p)}(yield e3(n),n.asyncQueue,e,t,i)})),i.promise}function D1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var kA=new Map;function n3(n,e,t){if(!t)throw new Z(j.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function i3(n,e,t,i){if(e===!0&&i===!0)throw new Z(j.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function LA(n){if(re.isDocumentKey(n))throw new Z(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Gh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue()}function Xv(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Z(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Gh(n);throw new Z(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Lh=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}i3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D1((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Z(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},nc=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lh(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new x_;switch(i.type){case"firstParty":return new N_(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Z(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=kA.get(t);i&&(J("ComponentProvider","Removing Datastore"),kA.delete(t),i.terminate())}(this),Promise.resolve()}};function S1(n,e,t,i={}){var r;let s=(n=Xv(n,nc))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=kt.MOCK_USER;else{a=FS(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Z(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new kt(u)}n._authCredentials=new M_(new yh(a,l))}}var da=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},nr=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},Jo=class n extends da{constructor(e,t,i){super(e,t,KA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function DI(n,e,...t){if(n=Ii(n),n3("collection","path",e),n instanceof nc){let i=mt.fromString(e,...t);return LA(i),new Jo(n,null,i)}{if(!(n instanceof nr||n instanceof Jo))throw new Z(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(mt.fromString(e,...t));return LA(i),new Jo(n.firestore,null,i)}}var eI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Mh(this,"async_queue_retry"),this.Eu=()=>{let t=S_();t&&J("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=S_();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=S_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Xi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return M(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ac(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw er("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=jv.createAndSchedule(this,e,t,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&ue()}verifyOperationInProgress(){}mu(){return M(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};var Fh=class extends nc{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new eI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||x1(this),this._firestoreClient.terminate()}};function A1(n,e){let t=typeof n=="object"?n:Ll(),i=typeof n=="string"?n:e||"(default)",r=m_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=kS("firestore");s&&S1(r,...s)}return r}function r3(n){return n._firestoreClient||x1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function x1(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,u,h){return new U_(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,D1(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new Jv(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var ic=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Xt.fromBase64String(e))}catch(t){throw new Z(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Vh=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Z(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Uh=class{constructor(e){this._methodName=e}};var rc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Z(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Z(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}};var sc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var s3=/^__.*__$/;function M1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}var tI=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return iI(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(M1(this.wu)&&s3.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},nI=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||zh(e)}Nu(e,t,i,r=!1){return new tI({wu:e,methodName:t,Ou:i,path:zn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function o3(n){let e=n._freezeSettings(),t=zh(n._databaseId);return new nI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function a3(n,e,t,i=!1){return SI(t,n.Nu(i?4:3,e))}function SI(n,e){if(R1(n=Ii(n)))return c3("Unsupported field value:",e,n),l3(n,e);if(n instanceof Uh)return function(i,r){if(!M1(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=SI(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Ii(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return o4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Zt.fromDate(i);return{timestampValue:lv(r.serializer,s)}}if(i instanceof Zt){let s=new Zt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lv(r.serializer,s)}}if(i instanceof rc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ic)return{bytesValue:a1(r.serializer,i._byteString)};if(i instanceof nr){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:l1(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof sc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return vI(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Gh(i)}`)}(n,e)}function l3(n,e){let t={};return jA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):lc(n,(i,r)=>{let s=SI(r,e.bu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function R1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Zt||n instanceof rc||n instanceof ic||n instanceof nr||n instanceof Uh||n instanceof sc)}function c3(n,e,t){if(!R1(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Gh(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}var u3=new RegExp("[~\\*/\\[\\]]");function d3(n,e,t){if(e.search(u3)>=0)throw iI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vh(...e.split("."))._internalPath}catch{throw iI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function iI(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Z(j.INVALID_ARGUMENT,a+n+l)}var jh=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new rI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(O1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},rI=class extends jh{data(){return super.data()}};function O1(n,e){return typeof e=="string"?d3(n,e):e instanceof Vh?e._internalPath:e._delegate._internalPath}function h3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Z(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var oc=class{},sI=class extends oc{};function AI(n,e,...t){let i=[];e instanceof oc&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof aI).length,a=s.filter(l=>l instanceof oI).length;if(o>1||o>0&&a>0)throw new Z(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var oI=class n extends sI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return N1(e._query,t),new da(e.firestore,e.converter,J_(e._query,t))}_parse(e){let t=o3(e.firestore);return function(s,o,a,l,u,h,p){let m;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Z(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){VA(p,h);let y=[];for(let v of p)y.push(FA(l,s,v));m={arrayValue:{values:y}}}else m=FA(l,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||VA(p,h),m=a3(a,o,p,h==="in"||h==="not-in");return Et.create(u,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var aI=class n extends oc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ii.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)N1(o,l),o=J_(o,l)}(e._query,t),new da(e.firestore,e.converter,J_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function FA(n,e,t){if(typeof(t=Ii(t))=="string"){if(t==="")throw new Z(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&t.indexOf("/")!==-1)throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(mt.fromString(t));if(!re.isDocumentKey(i))throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return uA(n,new re(i))}if(t instanceof nr)return uA(n,t._key);throw new Z(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gh(t)}.`)}function VA(n,e){if(!Array.isArray(n)||n.length===0)throw new Z(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function N1(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var lI=class{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ur(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return lc(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ot(o.doubleValue));return new sc(s)}convertGeoPoint(e){return new rc(ot(e.latitude),ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=mI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){let t=tr(e);return new Zt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=mt.fromString(e);bt(p1(i));let r=new wh(i.get(1),i.get(3)),s=new re(i.popFirst(5));return r.isEqual(t)||er(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};var Qo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},cI=class extends jh{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(O1("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},Xo=class extends cI{data(e={}){return super.data(e)}},uI=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Qo(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Xo(this._firestore,this._userDataWriter,i.key,i,new Qo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Z(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new Xo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Qo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new Xo(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Qo(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:f3(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function f3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue()}}var dI=class extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new ic(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}};function xI(n){n=Xv(n,da);let e=Xv(n.firestore,Fh),t=r3(e),i=new dI(e);return h3(n._query),t3(t,n._query).then(r=>new uI(e,i,n,r))}(function(e,t=!0){(function(r){ha=r})(Ho),Fr(new Hn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new Fh(new R_(i.getProvider("auth-internal")),new k_(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Z(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Pt(oA,"4.7.1",e),Pt(oA,"4.7.1","esm2017")})();var p3="firebase",m3="10.13.1";Pt(p3,m3,"app");var ma=new Pi("ANGULARFIRE2_VERSION");function RI(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var hc=(n,e)=>{let t=e?[e]:dh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},dc=class{constructor(){return hc(g3)}},g3="app-check";function pa(){}var Wh=class{zone;delegate;constructor(e,t=fp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},MI=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pa,{},pa,pa)),t.pipe(Dt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},fc=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Wh(Zone.current)),this.insideAngular=t.run(()=>new Wh(Zone.current,hp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ie(ye))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function y3(n){return Kh().ngZone.runOutsideAngular(()=>n())}function Ds(n){return Kh().ngZone.run(()=>n())}function _3(n){return v3(Kh())(n)}function v3(n){return function(t){return t=t.lift(new MI(n.ngZone)),t.pipe(hr(n.outsideAngular),dr(n.insideAngular))}}var I3=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ds(()=>n.apply(void 0,i))},pc=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Ds(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pa,{},pa,pa))),i[s]=I3(i[s],t));let r=y3(()=>n.apply(this,i));if(!e)if(r instanceof ke){let s=Kh();return r.pipe(hr(s.outsideAngular),dr(s.insideAngular))}else return Ds(()=>r);return r instanceof ke?r.pipe(_3):r instanceof Promise?Ds(()=>new Promise((s,o)=>r.then(a=>Ds(()=>s(a)),a=>Ds(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Ds(()=>r)};var Ss=class{constructor(e){return e}},mc=class{constructor(){return dh()}};function w3(n){return n&&n.length===1?n[0]:new Ss(Ll())}var OI=new ne("angularfire2._apps"),E3={provide:Ss,useFactory:w3,deps:[[new vn,OI]]},b3={provide:mc,deps:[[new vn,OI]]};function C3(n){return(e,t)=>{let i=t.get(vt);Pt("angularfire",ma.full,"core"),Pt("angularfire",ma.full,"app"),Pt("angular",UT.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Ss(r)}}function P1(n,...e){return Tr([E3,b3,{provide:OI,useFactory:C3(n),multi:!0,deps:[ye,Gt,fc,...e]}])}var k1=pc(g_,!0);function H1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var z1=H1,q1=new Qi("auth","Firebase",H1());var Jh=new kr("@firebase/auth");function T3(n,...e){Jh.logLevel<=Ce.WARN&&Jh.warn(`Auth (${Ho}): ${n}`,...e)}function Yh(n,...e){Jh.logLevel<=Ce.ERROR&&Jh.error(`Auth (${Ho}): ${n}`,...e)}function L1(n,...e){throw zI(n,...e)}function HI(n,...e){return zI(n,...e)}function G1(n,e,t){let i=Object.assign(Object.assign({},z1()),{[e]:t});return new Qi("auth","Firebase",i).create(e,{appName:n.name})}function Zh(n){return G1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zI(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return q1.create(n,...e)}function Ue(n,e,...t){if(!n)throw zI(e,...t)}function gc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Yh(e),new Error(e)}function Xh(n,e){n||gc(e)}function D3(){return F1()==="http:"||F1()==="https:"}function F1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function S3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(D3()||US()||"connection"in navigator)?navigator.onLine:!0}function A3(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var xs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Xh(t>e,"Short delay should be less than long delay!"),this.isMobile=VS()||jS()}get(){return S3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function x3(n,e){Xh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ef=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var M3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var R3=new xs(3e4,6e4);function W1(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function sf(s,o,a,l){return M(this,arguments,function*(n,e,t,i,r={}){return K1(n,r,()=>M(this,null,function*(){let u={},h={};i&&(e==="GET"?h=i:u={body:JSON.stringify(i)});let p=e_(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),ef.fetch()(Q1(n,n.config.apiHost,t,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function K1(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},M3),e);try{let r=new kI(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Qh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qh(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Qh(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw Qh(n,"user-disabled",o);let h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw G1(n,h,u);L1(n,h)}}catch(r){if(r instanceof $n)throw r;L1(n,"network-request-failed",{message:String(r)})}})}function Q1(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?x3(n.config,r):`${n.config.apiScheme}://${r}`}var kI=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(HI(this.auth,"network-request-failed")),R3.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Qh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=HI(n,e,i);return r.customData._tokenResponse=t,r}function O3(n,e){return M(this,null,function*(){return sf(n,"POST","/v1/accounts:delete",e)})}function Y1(n,e){return M(this,null,function*(){return sf(n,"POST","/v1/accounts:lookup",e)})}function yc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function qI(n,e=!1){return M(this,null,function*(){let t=Ii(n),i=yield t.getIdToken(e),r=Z1(i);Ue(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:yc(NI(r.auth_time)),issuedAtTime:yc(NI(r.iat)),expirationTime:yc(NI(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function NI(n){return Number(n)*1e3}function Z1(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Yh("JWT malformed, contained fewer than 3 sections"),null;try{let r=Zy(t);return r?JSON.parse(r):(Yh("Failed to decode base64 JWT payload"),null)}catch(r){return Yh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function V1(n){let e=Z1(n);return Ue(e,"internal-error"),Ue(typeof e.exp<"u","internal-error"),Ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function LI(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof $n&&N3(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function N3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var FI=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var vc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=yc(this.lastLoginAt),this.creationTime=yc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function tf(n){return M(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield LI(n,Y1(t,{idToken:i}));Ue(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?J1(s.providerUserInfo):[],a=P3(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,h=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new vc(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function GI(n){return M(this,null,function*(){let e=Ii(n);yield tf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function P3(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function J1(n){return n.map(e=>{var{providerId:t}=e,i=pp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function k3(n,e){return M(this,null,function*(){let t=yield K1(n,{},()=>M(this,null,function*(){let i=e_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=Q1(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ef.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function L3(n,e){return M(this,null,function*(){return sf(n,"POST","/v2/accounts:revokeToken",W1(n,e))})}var _c=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ue(e.idToken,"internal-error"),Ue(typeof e.idToken<"u","internal-error"),Ue(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):V1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ue(e.length!==0,"internal-error");let t=V1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield k3(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(Ue(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ue(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ue(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return gc("not implemented")}};function $r(n,e){Ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ic=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=pp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new vc(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield LI(this,this.stsTokenManager.getToken(this.auth,e));return Ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return qI(this,e)}reload(){return GI(this)}_assign(e){this!==e&&(Ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield tf(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if($o(this.auth.app))return Promise.reject(Zh(this.auth));let e=yield this.getIdToken();return yield LI(this,O3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,u,h;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,A=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,O=(u=t.createdAt)!==null&&u!==void 0?u:void 0,P=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:H,emailVerified:G,isAnonymous:Ee,providerData:X,stsTokenManager:E}=t;Ue(H&&E,e,"internal-error");let _=_c.fromJSON(this.name,E);Ue(typeof H=="string",e,"internal-error"),$r(p,e.name),$r(m,e.name),Ue(typeof G=="boolean",e,"internal-error"),Ue(typeof Ee=="boolean",e,"internal-error"),$r(y,e.name),$r(v,e.name),$r(S,e.name),$r(A,e.name),$r(O,e.name),$r(P,e.name);let I=new n({uid:H,auth:e,email:m,emailVerified:G,displayName:p,isAnonymous:Ee,photoURL:v,phoneNumber:y,tenantId:S,stsTokenManager:_,createdAt:O,lastLoginAt:P});return X&&Array.isArray(X)&&(I.providerData=X.map(b=>Object.assign({},b))),A&&(I._redirectEventId=A),I}static _fromIdTokenResponse(e,t,i=!1){return M(this,null,function*(){let r=new _c;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield tf(s),s})}static _fromGetAccountInfoResponse(e,t,i){return M(this,null,function*(){let r=t.users[0];Ue(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?J1(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new _c;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new vc(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var U1=new Map;function As(n){Xh(n instanceof Function,"Expected a class definition");let e=U1.get(n);return e?(Xh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,U1.set(n,e),e)}var F3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,i){return M(this,null,function*(){this.storage[t]=i})}_get(t){return M(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),VI=F3;function PI(n,e,t){return`firebase:${n}:${e}:${t}`}var nf=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=PI(this.userKey,r.apiKey,s),this.fullPersistenceKey=PI("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ic._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return M(this,null,function*(){if(!t.length)return new n(As(VI),e,i);let r=(yield Promise.all(t.map(u=>M(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||As(VI),o=PI(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(o);if(h){let p=Ic._fromJSON(e,h);u!==s&&(a=p),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>M(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function j1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H3(e))return"Blackberry";if(z3(e))return"Webos";if(U3(e))return"Safari";if((e.includes("chrome/")||j3(e))&&!e.includes("edge/"))return"Chrome";if($3(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function V3(n=Dn()){return/firefox\//i.test(n)}function U3(n=Dn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function j3(n=Dn()){return/crios\//i.test(n)}function B3(n=Dn()){return/iemobile/i.test(n)}function $3(n=Dn()){return/android/i.test(n)}function H3(n=Dn()){return/blackberry/i.test(n)}function z3(n=Dn()){return/webos/i.test(n)}function X1(n,e=[]){let t;switch(n){case"Browser":t=j1(Dn());break;case"Worker":t=`${j1(Dn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ho}/${i}`}var UI=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function q3(t){return M(this,arguments,function*(n,e={}){return sf(n,"GET","/v2/passwordPolicy",W1(n,e))})}var G3=6,jI=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:G3,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var BI=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rf(this),this.idTokenSubscription=new rf(this),this.beforeStateQueue=new UI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=As(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield nf.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield Y1(this,{idToken:e}),i=yield Ic._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if($o(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield tf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=A3()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if($o(this.app))return Promise.reject(Zh(this));let t=e?Ii(e):null;return t&&Ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return $o(this.app)?Promise.reject(Zh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $o(this.app)?Promise.reject(Zh(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(As(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield q3(this),t=new jI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield L3(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&As(e)||this._popupRedirectResolver;Ue(t,this,"argument-error"),this.redirectPersistenceManager=yield nf.create(this,[As(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ue(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return M(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&T3(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function W3(n){return Ii(n)}var rf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HS(t=>this.observer=t)}get next(){return Ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var K3={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Q3(n){K3=n}function Y3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function Z3(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(As);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var rZ=Y3("rcb"),sZ=new xs(3e4,6e4);var oZ=new xs(2e3,1e4);var aZ=10*60*1e3;var lZ=new xs(3e4,6e4);var cZ=new xs(5e3,15e3);var uZ=encodeURIComponent("fac");var B1="@firebase/auth",$1="1.7.8";var $I=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function J3(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function X3(n){Fr(new Hn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ue(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(n)},u=new BI(i,r,s,l);return Z3(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Fr(new Hn("auth-internal",e=>{let t=W3(e.getProvider("auth").getImmediate());return(i=>new $I(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pt(B1,$1,J3(n)),Pt(B1,$1,"esm2017")}var e$=5*60,dZ=LS("authIdTokenMaxAge")||e$;function t$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Q3({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=HI("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",t$().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});X3("Browser");var eH="auth";var of=class{constructor(){return hc(eH)}};var Ms=class{constructor(e){return e}},ex="firestore",WI=class{constructor(){return hc(ex)}};var KI=new ne("angularfire2.firestore-instances");function tH(n,e){let t=RI(ex,n,e);return t&&new Ms(t)}function nH(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ms(i)}}var iH={provide:WI,deps:[[new vn,KI]]},rH={provide:Ms,useFactory:tH,deps:[[new vn,KI],Ss]};function tx(n,...e){return Pt("angularfire",ma.full,"fst"),Tr([rH,iH,{provide:KI,useFactory:nH(n),multi:!0,deps:[ye,Gt,fc,mc,[new vn,of],[new vn,dc],...e]}])}var nx=pc(A1,!0);var af=class n{constructor(e){this.firestore=e}getGamesFromLastXDays(e=31){return M(this,null,function*(){let t=DI(this.firestore,"trio");return(yield xI(AI(t))).docs.map(r=>k({id:r.id},r.data()))})}static \u0275fac=function(t){return new(t||n)(ie(Ms))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};var lf=class n{constructor(e){this.trioService=e}cities;ngOnInit(){return M(this,null,function*(){console.log("trio",yield this.trioService.getGamesFromLastXDays(-31)),this.cities=[{name:"New York",code:"NY"},{name:"Rome",code:"RM"},{name:"London",code:"LDN"},{name:"Istanbul",code:"IST"},{name:"Paris",code:"PRS"}]})}static \u0275fac=function(t){return new(t||n)(K(af))};static \u0275cmp=Ie({type:n,selectors:[["app-statistics"]],standalone:!0,features:[$e],decls:3,vars:0,consts:[["header","Trio","subheader","Meilleur ratio (parties gagn\xE9es/jou\xE9ees)"],[1,"m-0"]],template:function(t,i){t&1&&(z(0,"p-card",0)(1,"p",1),Ot(2," Lorem ipsum dolor sit amet... "),q()())},dependencies:[yS,gS,MS,vS]})};var wc=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ie({type:n,selectors:[["app-new-game-scores"]],standalone:!0,features:[$e],decls:2,vars:0,template:function(t,i){t&1&&(z(0,"p"),Ot(1,"new-game-scores works!"),q())}})};var rx=[{path:"",component:lf},{path:"scores",component:wc},{path:"addScores",component:wc}];function sx(n){return new U(3e3,!1)}function aH(){return new U(3100,!1)}function lH(){return new U(3101,!1)}function cH(n){return new U(3001,!1)}function uH(n){return new U(3003,!1)}function dH(n){return new U(3004,!1)}function hH(n,e){return new U(3005,!1)}function fH(){return new U(3006,!1)}function pH(){return new U(3007,!1)}function mH(n,e){return new U(3008,!1)}function gH(n){return new U(3002,!1)}function yH(n,e,t,i,r){return new U(3010,!1)}function _H(){return new U(3011,!1)}function vH(){return new U(3012,!1)}function IH(){return new U(3200,!1)}function wH(){return new U(3202,!1)}function EH(){return new U(3013,!1)}function bH(n){return new U(3014,!1)}function CH(n){return new U(3015,!1)}function TH(n){return new U(3016,!1)}function DH(n,e){return new U(3404,!1)}function SH(n){return new U(3502,!1)}function AH(n){return new U(3503,!1)}function xH(){return new U(3300,!1)}function MH(n){return new U(3504,!1)}function RH(n){return new U(3301,!1)}function OH(n,e){return new U(3302,!1)}function NH(n){return new U(3303,!1)}function PH(n,e){return new U(3400,!1)}function kH(n){return new U(3401,!1)}function LH(n){return new U(3402,!1)}function FH(n,e){return new U(3505,!1)}function Hr(n){switch(n.length){case 0:return new Pr;case 1:return n[0];default:return new Ml(n)}}function vx(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),h=u==o,p=h&&a||new Map;l.forEach((m,y)=>{let v=y,S=m;if(y!=="offset")switch(v=n.normalizePropertyName(v,r),S){case sh:S=t.get(y);break;case vi:S=i.get(y);break;default:S=n.normalizeStyleValue(y,v,S,r);break}p.set(v,S)}),h||s.push(p),a=p,o=u}),r.length)throw SH(r);return s}function yw(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&QI(t,"start",n)));break;case"done":n.onDone(()=>i(t&&QI(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&QI(t,"destroy",n)));break}}function QI(n,e,t){let i=t.totalTime,r=!!t.disabled,s=_w(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function _w(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function An(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function ox(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var VH=typeof document>"u"?null:document.documentElement;function vw(n){let e=n.parentNode||n.host||null;return e===VH?null:e}function UH(n){return n.substring(1,6)=="ebkit"}var Rs=null,ax=!1;function jH(n){Rs||(Rs=BH()||{},ax=Rs.style?"WebkitAppearance"in Rs.style:!1);let e=!0;return Rs.style&&!UH(n)&&(e=n in Rs.style,!e&&ax&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Rs.style)),e}function BH(){return typeof document<"u"?document.body:null}function Ix(n,e){for(;e;){if(e===n)return!0;e=vw(e)}return!1}function wx(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var Iw=(()=>{let e=class e{validateStyleProperty(i){return jH(i)}containsElement(i,r){return Ix(i,r)}getParentElement(i){return vw(i)}query(i,r,s){return wx(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],u){return new Pr(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})(),Cw=class Cw{};Cw.NOOP=new Iw;var Ps=Cw,ks=class{};var $H=1e3,Ex="{{",HH="}}",bx="ng-enter",tw="ng-leave",cf="ng-trigger",pf=".ng-trigger",lx="ng-animating",nw=".ng-animating";function ir(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:iw(parseFloat(e[1]),e[2])}function iw(n,e){switch(e){case"s":return n*$H;default:return n}}function mf(n,e,t){return n.hasOwnProperty("duration")?n:zH(n,e,t)}function zH(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(sx(n)),{duration:0,delay:0,easing:""};r=iw(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=iw(parseFloat(l),a[4]));let u=a[5];u&&(o=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(aH()),a=!0),s<0&&(e.push(lH()),a=!0),a&&e.splice(l,0,sx(n))}return{duration:r,delay:s,easing:o}}function qH(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function Di(n,e,t){e.forEach((i,r)=>{let s=ww(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ns(n,e){e.forEach((t,i)=>{let r=ww(i);n.style[r]=""})}function Ec(n){return Array.isArray(n)?n.length==1?n[0]:bS(n):n}function GH(n,e,t){let i=e.params||{},r=Cx(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(cH(s))})}var rw=new RegExp(`${Ex}\\s*(.+?)\\s*${HH}`,"g");function Cx(n){let e=[];if(typeof n=="string"){let t;for(;t=rw.exec(n);)e.push(t[1]);rw.lastIndex=0}return e}function Cc(n,e,t){let i=`${n}`,r=i.replace(rw,(s,o)=>{let a=e[o];return a==null&&(t.push(uH(o)),a=""),a.toString()});return r==i?n:r}var WH=/-+([a-z0-9])/g;function ww(n){return n.replace(WH,(...e)=>e[1].toUpperCase())}function KH(n,e){return n===0||e===0}function QH(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Ew(n,a)))}}return e}function Sn(n,e,t){switch(e.type){case ce.Trigger:return n.visitTrigger(e,t);case ce.State:return n.visitState(e,t);case ce.Transition:return n.visitTransition(e,t);case ce.Sequence:return n.visitSequence(e,t);case ce.Group:return n.visitGroup(e,t);case ce.Animate:return n.visitAnimate(e,t);case ce.Keyframes:return n.visitKeyframes(e,t);case ce.Style:return n.visitStyle(e,t);case ce.Reference:return n.visitReference(e,t);case ce.AnimateChild:return n.visitAnimateChild(e,t);case ce.AnimateRef:return n.visitAnimateRef(e,t);case ce.Query:return n.visitQuery(e,t);case ce.Stagger:return n.visitStagger(e,t);default:throw dH(e.type)}}function Ew(n,e){return window.getComputedStyle(n)[e]}var YH=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),gf=class extends ks{normalizePropertyName(e,t){return ww(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(YH.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(hH(e,i))}return o+s}};var yf="*";function ZH(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>JH(i,t,e)):t.push(n),t}function JH(n,e,t){if(n[0]==":"){let l=XH(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(CH(n)),e;let r=i[1],s=i[2],o=i[3];e.push(cx(r,o));let a=r==yf&&o==yf;s[0]=="<"&&!a&&e.push(cx(o,r))}function XH(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(TH(n)),"* => *"}}var uf=new Set(["true","1"]),df=new Set(["false","0"]);function cx(n,e){let t=uf.has(n)||df.has(n),i=uf.has(e)||df.has(e);return(r,s)=>{let o=n==yf||n==r,a=e==yf||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?uf.has(n):df.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?uf.has(e):df.has(e)),o&&a}}var Tx=":self",ez=new RegExp(`s*${Tx}s*,?`,"g");function Dx(n,e,t,i){return new sw(n).build(e,t,i)}var ux="",sw=class{constructor(e){this._driver=e}build(e,t,i){let r=new ow(t);return this._resetContextStyleTimingState(r),Sn(this,Ec(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=ux,e.collectedStyles=new Map,e.collectedStyles.set(ux,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(fH()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ce.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(h=>{l.name=h,s.push(this.visitState(l,t))}),l.name=u}else if(a.type==ce.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(pH())}),{type:ce.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Cx(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(mH(e.name,[...s.values()]))}return{type:ce.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=Sn(this,Ec(e.animation),t),r=ZH(e.expr,t.errors);return{type:ce.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Os(e.options)}}visitSequence(e,t){return{type:ce.Sequence,steps:e.steps.map(i=>Sn(this,i,t)),options:Os(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=Sn(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:ce.Group,steps:s,options:Os(e.options)}}visitAnimate(e,t){let i=rz(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:jo({});if(s.type==ce.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=jo(u)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:ce.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===vi?i.push(a):t.errors.push(gH(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Ex)>=0){s=!0;break}}}),{type:ce.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(l),p=!0;h&&(s!=r&&s>=h.startTime&&r<=h.endTime&&(t.errors.push(yH(l,h.startTime,h.endTime,s,r)),p=!1),s=h.startTime),p&&u.set(l,{startTime:s,endTime:r}),t.options&&GH(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:ce.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(_H()),i;let r=1,s=0,o=[],a=!1,l=!1,u=0,h=e.steps.map(O=>{let P=this._makeStyleAst(O,t),H=P.offset!=null?P.offset:iz(P.styles),G=0;return H!=null&&(s++,G=P.offset=H),l=l||G<0||G>1,a=a||G<u,u=G,o.push(G),P});l&&t.errors.push(vH()),a&&t.errors.push(IH());let p=e.steps.length,m=0;s>0&&s<p?t.errors.push(wH()):s==0&&(m=r/(p-1));let y=p-1,v=t.currentTime,S=t.currentAnimateTimings,A=S.duration;return h.forEach((O,P)=>{let H=m>0?P==y?1:m*P:o[P],G=H*A;t.currentTime=v+S.delay+G,S.duration=G,this._validateStyleAst(O,t),O.offset=H,i.styles.push(O)}),i}visitReference(e,t){return{type:ce.Reference,animation:Sn(this,Ec(e.animation),t),options:Os(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ce.AnimateChild,options:Os(e.options)}}visitAnimateRef(e,t){return{type:ce.AnimateRef,animation:this.visitReference(e.animation,t),options:Os(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=tz(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,An(t.collectedStyles,t.currentQuerySelector,new Map);let a=Sn(this,Ec(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:ce.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Os(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(EH());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:mf(e.timings,t.errors,!0);return{type:ce.Stagger,animation:Sn(this,Ec(e.animation),t),timings:i,options:null}}};function tz(n){let e=!!n.split(/\s*,\s*/).find(t=>t==Tx);return e&&(n=n.replace(ez,"")),n=n.replace(/@\*/g,pf).replace(/@\w+/g,t=>pf+"-"+t.slice(1)).replace(/:animating/g,nw),[n,e]}function nz(n){return n?k({},n):null}var ow=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function iz(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function rz(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=mf(n,e).duration;return YI(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=YI(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=mf(t,e);return YI(r.duration,r.delay,r.easing)}function Os(n){return n?(n=k({},n),n.params&&(n.params=nz(n.params))):n={},n}function YI(n,e,t){return{duration:n,delay:e,easing:t}}function bw(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Tc=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},sz=1,oz=":enter",az=new RegExp(oz,"g"),lz=":leave",cz=new RegExp(lz,"g");function Sx(n,e,t,i,r,s=new Map,o=new Map,a,l,u=[]){return new aw().buildKeyframes(n,e,t,i,r,s,o,a,l,u)}var aw=class{buildKeyframes(e,t,i,r,s,o,a,l,u,h=[]){u=u||new Tc;let p=new lw(e,t,u,r,s,h,[]);p.options=l;let m=l.delay?ir(l.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([o],null,p.errors,l),Sn(this,i,p);let y=p.timelines.filter(v=>v.containsAnimation());if(y.length&&a.size){let v;for(let S=y.length-1;S>=0;S--){let A=y[S];if(A.element===t){v=A;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,p.errors,l)}return y.length?y.map(v=>v.buildKeyframes()):[bw(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:ir(Cc(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?ir(i.duration):null,a=i.delay!=null?ir(i.delay):null;return o!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Sn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==ce.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=_f);let o=ir(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Sn(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?ir(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),Sn(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?Cc(i,t.params,t.errors):i;return mf(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==ce.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?ir(r.delay):0;s&&(t.previousNode.type===ce.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=_f);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,h)=>{t.currentQueryIndex=h;let p=t.createSubContext(e.options,u);s&&p.delayNextStep(s),u===t.element&&(l=p.currentTimeline),Sn(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let h=t.currentTimeline;l&&h.delayNextStep(l);let p=h.currentTime;Sn(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},_f={},lw=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_f,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new vf(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=ir(i.duration)),i.delay!=null&&(r.delay=ir(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Cc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=_f,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new cw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(az,"."+this._enterClassName),e=e.replace(cz,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,e,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&a.length==0&&o.push(bH(t)),a}},vf=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=sz,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||vi),this._currentKeyframe.set(t,vi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=uz(e,this._globalTimelineStyles);for(let[a,l]of o){let u=Cc(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??vi),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((h,p)=>{h===sh?e.add(p):h===vi&&t.add(p)}),i||u.set("offset",l/this.duration),r.push(u)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return bw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},cw=class extends vf{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let u=new Map(e[0]);u.set("offset",dx(a)),s.push(u);let h=e.length-1;for(let p=1;p<=h;p++){let m=new Map(e[p]),y=m.get("offset"),v=t+y*i;m.set("offset",dx(v/o)),s.push(m)}i=o,t=0,r="",e=s}return bw(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function dx(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function uz(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,vi)}else for(let[s,o]of r)t.set(s,o)}),t}function hx(n,e,t,i,r,s,o,a,l,u,h,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:h,totalTime:p,errors:m}}var ZI={},If=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return dz(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,u,h){let p=[],m=this.ast.options&&this.ast.options.params||ZI,y=a&&a.params||ZI,v=this.buildStyles(i,y,p),S=l&&l.params||ZI,A=this.buildStyles(r,S,p),O=new Set,P=new Map,H=new Map,G=r==="void",Ee={params:Ax(S,m),delay:this.ast.options?.delay},X=h?[]:Sx(e,t,this.ast.animation,s,o,v,A,Ee,u,p),E=0;return X.forEach(_=>{E=Math.max(_.duration+_.delay,E)}),p.length?hx(t,this._triggerName,i,r,G,v,A,[],[],P,H,E,p):(X.forEach(_=>{let I=_.element,b=An(P,I,new Set);_.preStyleProps.forEach(D=>b.add(D));let C=An(H,I,new Set);_.postStyleProps.forEach(D=>C.add(D)),I!==t&&O.add(I)}),hx(t,this._triggerName,i,r,G,v,A,X,[...O.values()],P,H,E))}};function dz(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function Ax(n,e){let t=k({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var uw=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=Ax(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=Cc(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function hz(n,e,t){return new dw(n,e,t)}var dw=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new uw(r.style,s,i))}),fx(this.states,"true","1"),fx(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new If(e,r,this.states))}),this.fallbackTransition=fz(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function fz(n,e,t){let i=[(o,a)=>!0],r={type:ce.Sequence,steps:[],options:null},s={type:ce.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new If(n,s,e)}function fx(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var pz=new Tc,hw=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=Dx(this._driver,t,i,r);if(i.length)throw AH(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=vx(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=Sx(this._driver,t,s,bx,tw,new Map,new Map,i,pz,r),o.forEach(h=>{let p=An(a,h.element,new Map);h.postStyleProps.forEach(m=>p.set(m,null))})):(r.push(xH()),o=[]),r.length)throw MH(r);a.forEach((h,p)=>{h.forEach((m,y)=>{h.set(y,this._driver.computeStyle(p,y,vi))})});let l=o.map(h=>{let p=a.get(h.element);return this._buildPlayer(h,new Map,p)}),u=Hr(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw RH(e);return t}listen(e,t,i,r){let s=_w(t,"","","");return yw(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},px="ng-animate-queued",mz=".ng-animate-queued",JI="ng-animate-disabled",gz=".ng-animate-disabled",yz="ng-star-inserted",_z=".ng-star-inserted",vz=[],xx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ri="__ng_removed",Dc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=Ez(r),i){let s=e,{value:o}=s,a=AE(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},bc="void",XI=new Dc(bc),fw=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,qn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw OH(i,t);if(i==null||i.length==0)throw NH(t);if(!bz(i))throw PH(i,t);let s=An(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=An(this._engine.statesByElement,e,new Map);return a.has(t)||(qn(e,cf),qn(e,cf+"-"+t),a.set(t,XI)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw kH(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Sc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(qn(e,cf),qn(e,cf+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new Dc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=XI),!(u.value===bc)&&l.value===u.value){if(!Dz(l.params,u.params)){let S=[],A=s.matchStyles(l.value,l.params,S),O=s.matchStyles(u.value,u.params,S);S.length?this._engine.reportError(S):this._engine.afterFlush(()=>{Ns(e,A),Di(e,O)})}return}let m=An(this._engine.playersByElement,e,[]);m.forEach(S=>{S.namespaceId==this.id&&S.triggerName==t&&S.queued&&S.destroy()});let y=s.matchTransition(l.value,u.value,e,u.params),v=!1;if(!y){if(!r)return;y=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:o,isFallbackTransition:v}),v||(qn(e,px),o.onStart(()=>{ga(e,px)})),o.onDone(()=>{let S=this.players.indexOf(o);S>=0&&this.players.splice(S,1);let A=this._engine.playersByElement.get(e);if(A){let O=A.indexOf(o);O>=0&&A.splice(O,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,pf,!0);i.forEach(r=>{if(r[ri])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){let h=this.trigger(e,u,bc,r);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Hr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,u=i.get(o)||XI,h=new Dc(bc),p=new Sc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:h,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[ri];(!s||s===xx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){qn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=_w(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,yw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},pw=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new fw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(hf(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!hf(t))return;let s=t[ri];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),qn(e,JI)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ga(e,JI))}removeNode(e,t,i){if(hf(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[ri]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return hf(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,pf,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,nw,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Hr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ri];if(t&&t.setForRemoval){if(e[ri]=xx,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(JI)&&this.markElementAsDisabled(e,!1),this.driver.query(e,gz,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];qn(r,yz)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Hr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw LH(e)}_flushAnimations(e,t){let i=new Tc,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Q=>{h.add(Q);let ee=this.driver.query(Q,mz,!0);for(let te=0;te<ee.length;te++)h.add(ee[te])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=yx(m,this.collectedEnterElements),v=new Map,S=0;y.forEach((Q,ee)=>{let te=bx+S++;v.set(ee,te),Q.forEach(be=>qn(be,te))});let A=[],O=new Set,P=new Set;for(let Q=0;Q<this.collectedLeaveElements.length;Q++){let ee=this.collectedLeaveElements[Q],te=ee[ri];te&&te.setForRemoval&&(A.push(ee),O.add(ee),te.hasAnimation?this.driver.query(ee,_z,!0).forEach(be=>O.add(be)):P.add(ee))}let H=new Map,G=yx(m,Array.from(O));G.forEach((Q,ee)=>{let te=tw+S++;H.set(ee,te),Q.forEach(be=>qn(be,te))}),e.push(()=>{y.forEach((Q,ee)=>{let te=v.get(ee);Q.forEach(be=>ga(be,te))}),G.forEach((Q,ee)=>{let te=H.get(ee);Q.forEach(be=>ga(be,te))}),A.forEach(Q=>{this.processLeaveNode(Q)})});let Ee=[],X=[];for(let Q=this._namespaceList.length-1;Q>=0;Q--)this._namespaceList[Q].drainQueuedTransitions(t).forEach(te=>{let be=te.player,ht=te.element;if(Ee.push(be),this.collectedEnterElements.length){let lt=ht[ri];if(lt&&lt.setForMove){if(lt.previousTriggersValues&&lt.previousTriggersValues.has(te.triggerName)){let Si=lt.previousTriggersValues.get(te.triggerName),on=this.statesByElement.get(te.element);if(on&&on.has(te.triggerName)){let Ai=on.get(te.triggerName);Ai.value=Si,on.set(te.triggerName,Ai)}}be.destroy();return}}let Mn=!p||!this.driver.containsElement(p,ht),at=H.get(ht),Xe=v.get(ht),et=this._buildInstruction(te,i,Xe,at,Mn);if(et.errors&&et.errors.length){X.push(et);return}if(Mn){be.onStart(()=>Ns(ht,et.fromStyles)),be.onDestroy(()=>Di(ht,et.toStyles)),r.push(be);return}if(te.isFallbackTransition){be.onStart(()=>Ns(ht,et.fromStyles)),be.onDestroy(()=>Di(ht,et.toStyles)),r.push(be);return}let sr=[];et.timelines.forEach(lt=>{lt.stretchStartingKeyframe=!0,this.disabledNodes.has(lt.element)||sr.push(lt)}),et.timelines=sr,i.append(ht,et.timelines);let Df={instruction:et,player:be,element:ht};o.push(Df),et.queriedElements.forEach(lt=>An(a,lt,[]).push(be)),et.preStyleProps.forEach((lt,Si)=>{if(lt.size){let on=l.get(Si);on||l.set(Si,on=new Set),lt.forEach((Ai,or)=>on.add(or))}}),et.postStyleProps.forEach((lt,Si)=>{let on=u.get(Si);on||u.set(Si,on=new Set),lt.forEach((Ai,or)=>on.add(or))})});if(X.length){let Q=[];X.forEach(ee=>{Q.push(FH(ee.triggerName,ee.errors))}),Ee.forEach(ee=>ee.destroy()),this.reportError(Q)}let E=new Map,_=new Map;o.forEach(Q=>{let ee=Q.element;i.has(ee)&&(_.set(ee,ee),this._beforeAnimationBuild(Q.player.namespaceId,Q.instruction,E))}),r.forEach(Q=>{let ee=Q.element;this._getPreviousPlayers(ee,!1,Q.namespaceId,Q.triggerName,null).forEach(be=>{An(E,ee,[]).push(be),be.destroy()})});let I=A.filter(Q=>_x(Q,l,u)),b=new Map;gx(b,this.driver,P,u,vi).forEach(Q=>{_x(Q,l,u)&&I.push(Q)});let D=new Map;y.forEach((Q,ee)=>{gx(D,this.driver,new Set(Q),l,sh)}),I.forEach(Q=>{let ee=b.get(Q),te=D.get(Q);b.set(Q,new Map([...ee?.entries()??[],...te?.entries()??[]]))});let w=[],xn=[],rr={};o.forEach(Q=>{let{element:ee,player:te,instruction:be}=Q;if(i.has(ee)){if(h.has(ee)){te.onDestroy(()=>Di(ee,be.toStyles)),te.disabled=!0,te.overrideTotalTime(be.totalTime),r.push(te);return}let ht=rr;if(_.size>1){let at=ee,Xe=[];for(;at=at.parentNode;){let et=_.get(at);if(et){ht=et;break}Xe.push(at)}Xe.forEach(et=>_.set(et,ht))}let Mn=this._buildAnimation(te.namespaceId,be,E,s,D,b);if(te.setRealPlayer(Mn),ht===rr)w.push(te);else{let at=this.playersByElement.get(ht);at&&at.length&&(te.parentPlayer=Hr(at)),r.push(te)}}else Ns(ee,be.fromStyles),te.onDestroy(()=>Di(ee,be.toStyles)),xn.push(te),h.has(ee)&&r.push(te)}),xn.forEach(Q=>{let ee=s.get(Q.element);if(ee&&ee.length){let te=Hr(ee);Q.setRealPlayer(te)}}),r.forEach(Q=>{Q.parentPlayer?Q.syncPlayerEvents(Q.parentPlayer):Q.destroy()});for(let Q=0;Q<A.length;Q++){let ee=A[Q],te=ee[ri];if(ga(ee,tw),te&&te.hasAnimation)continue;let be=[];if(a.size){let Mn=a.get(ee);Mn&&Mn.length&&be.push(...Mn);let at=this.driver.query(ee,nw,!0);for(let Xe=0;Xe<at.length;Xe++){let et=a.get(at[Xe]);et&&et.length&&be.push(...et)}}let ht=be.filter(Mn=>!Mn.destroyed);ht.length?Cz(this,ee,ht):this.processLeaveNode(ee)}return A.length=0,w.forEach(Q=>{this.players.push(Q),Q.onDone(()=>{Q.destroy();let ee=this.players.indexOf(Q);this.players.splice(ee,1)}),Q.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==bc;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,h=u!==s,p=An(i,u,[]);this._getPreviousPlayers(u,h,o,a,t.toState).forEach(y=>{let v=y.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),y.destroy(),p.push(y)})}Ns(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,u=[],h=new Set,p=new Set,m=t.timelines.map(v=>{let S=v.element;h.add(S);let A=S[ri];if(A&&A.removedBeforeQueried)return new Pr(v.duration,v.delay);let O=S!==l,P=Tz((i.get(S)||vz).map(E=>E.getRealPlayer())).filter(E=>{let _=E;return _.element?_.element===S:!1}),H=s.get(S),G=o.get(S),Ee=vx(this._normalizer,v.keyframes,H,G),X=this._buildPlayer(v,Ee,P);if(v.subTimeline&&r&&p.add(S),O){let E=new Sc(e,a,S);E.setRealPlayer(X),u.push(E)}return X});u.forEach(v=>{An(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>wz(this.playersByQueriedElement,v.element,v))}),h.forEach(v=>qn(v,lx));let y=Hr(m);return y.onDestroy(()=>{h.forEach(v=>ga(v,lx)),Di(l,t.toStyles)}),p.forEach(v=>{An(r,v,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Pr(e.duration,e.delay)}},Sc=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Pr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>yw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){An(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function wz(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function Ez(n){return n??null}function hf(n){return n&&n.nodeType===1}function bz(n){return n=="start"||n=="done"}function mx(n,e){let t=n.style.display;return n.style.display=e??"none",t}function gx(n,e,t,i,r){let s=[];t.forEach(l=>s.push(mx(l)));let o=[];i.forEach((l,u)=>{let h=new Map;l.forEach(p=>{let m=e.computeStyle(u,p,r);h.set(p,m),(!m||m.length==0)&&(u[ri]=Iz,o.push(u))}),n.set(u,h)});let a=0;return t.forEach(l=>mx(l,s[a++])),o}function yx(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=i:l=o(u),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function qn(n,e){n.classList?.add(e)}function ga(n,e){n.classList?.remove(e)}function Cz(n,e,t){Hr(t).onDone(()=>n.processLeaveNode(e))}function Tz(n){let e=[];return Mx(n,e),e}function Mx(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof Ml?Mx(i.players,e):e.push(i)}}function Dz(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function _x(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var _a=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new pw(e.body,t,i),this._timelineEngine=new hw(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],u=[],h=Dx(this._driver,s,l,u);if(l.length)throw DH(r,l);u.length&&void 0,a=hz(r,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=ox(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=ox(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Sz(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ew(e[0]),e.length>1&&(i=ew(e[e.length-1]))):e instanceof Map&&(t=ew(e)),t||i?new mw(n,t,i):null}var ya=class ya{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=ya.initialStylesByElement.get(e);r||ya.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Di(this._element,this._initialStyles),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ya.initialStylesByElement.delete(this._element),this._startStyles&&(Ns(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),Di(this._element,this._initialStyles),this._state=3)}};ya.initialStylesByElement=new WeakMap;var mw=ya;function ew(n){let e=null;return n.forEach((t,i)=>{Az(i)&&(e=e||new Map,e.set(i,t))}),e}function Az(n){return n==="display"||n==="position"}var wf=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Ew(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Ef=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Ix(e,t)}getParentElement(e){return vw(e)}query(e,t,i){return wx(e,t,i)}computeStyle(e,t,i){return Ew(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let u=new Map,h=o.filter(y=>y instanceof wf);KH(i,r)&&h.forEach(y=>{y.currentSnapshot.forEach((v,S)=>u.set(S,v))});let p=qH(t).map(y=>new Map(y));p=QH(e,p,u);let m=Sz(e,p);return new wf(e,p,l,m)}};var ff="@",Rx="@.disabled",bf=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==ff&&t==Rx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},gw=class extends bf{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==ff?t.charAt(1)=="."&&t==Rx?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==ff){let r=xz(e),s=t.slice(1),o="";return s.charAt(0)!=ff&&([s,o]=Mz(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function xz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function Mz(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var Cf=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,h=u.get(r);if(!h){let p=()=>u.delete(r);h=new bf(i,r,this.engine,p),u.set(r,h)}return h}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(a),new gw(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var Oz=(()=>{let e=class e extends _a{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(ie(Je),ie(Ps),ie(ks))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let n=e;return n})();function Nz(){return new gf}function Pz(n,e,t){return new Cf(n,e,t)}var Ox=[{provide:ks,useFactory:Nz},{provide:_a,useClass:Oz},{provide:br,useFactory:Pz,deps:[kd,_a,ye]}],kz=[{provide:Ps,useFactory:()=>new Ef},{provide:ag,useValue:"BrowserAnimations"},...Ox],qX=[{provide:Ps,useClass:Iw},{provide:ag,useValue:"NoopAnimations"},...Ox];function Nx(){return gi("NgEagerAnimations"),[...kz]}var Px={firebaseConfig:{apiKey:"AIzaSyCq3PCBUEV0sePS5HVqRVTo1eGOtMNwpUY",authDomain:"scores-89dec.firebaseapp.com",projectId:"scores-89dec",storageBucket:"scores-89dec.appspot.com",messagingSenderId:"423002408780",appId:"1:423002408780:web:5ede703d4b74eb543c31e9"}};var kx={providers:[zT({eventCoalescing:!0}),P1(()=>k1(Px.firebaseConfig)),tx(()=>nx()),sS(rx),Nx()]};var Lx=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"path",1),q()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Fx=(()=>{class n extends Qt{static \u0275fac=(()=>{let t;return function(r){return(t||(t=_t(n)))(r||n)}})();static \u0275cmp=Ie({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Rt,$e],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Wt(),z(0,"svg",0),Se(1,"path",1),q()),i&2&&(Qe(r.getClassNames()),de("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var Vx=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=We({type:n});static \u0275inj=Ge({imports:[En,Oy,oh,Rl,hn,Lx,Fx,Oy,Rl,hn]})}return n})();var Lz=(n,e)=>e.label;function Fz(n,e){if(n&1&&(z(0,"a",2)(1,"span",3),Ot(2),q()()),n&2){let t=e.$implicit;R("routerLink",t.routerLink),N(2),Fi(t.label)}}var Tf=class n{items;ngOnInit(){this.items=[{label:"Statistiques",root:!0,routerLink:"/"},{label:"Scores",root:!0,routerLink:"/scores"}]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ie({type:n,selectors:[["app-root"]],standalone:!0,features:[$e],decls:9,vars:1,consts:[[1,"main"],[1,"flex","justify-between"],[3,"routerLink"],[1,"ml-2"]],template:function(t,i){t&1&&(z(0,"main",0)(1,"div",1)(2,"div"),NT(3,Fz,3,2,"a",2,Lz),q(),z(5,"a",2)(6,"span",3),Ot(7,"Ajouter"),q()()()(),Se(8,"router-outlet")),t&2&&(N(3),PT(i.items),N(2),R("routerLink","/addScores"))},dependencies:[Dy,Vx,iS],styles:[".flex[_ngcontent-%COMP%]{display:flex}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}"]})};pD(Tf,kx).catch(n=>console.error(n));
