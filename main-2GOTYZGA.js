var EO=Object.defineProperty,bO=Object.defineProperties;var CO=Object.getOwnPropertyDescriptors;var wu=Object.getOwnPropertySymbols;var JE=Object.prototype.hasOwnProperty,XE=Object.prototype.propertyIsEnumerable;var ZE=(n,e,t)=>e in n?EO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})JE.call(e,t)&&ZE(n,t,e[t]);if(wu)for(var t of wu(e))XE.call(e,t)&&ZE(n,t,e[t]);return n},me=(n,e)=>bO(n,CO(e));var eb=(n,e)=>{var t={};for(var i in n)JE.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&wu)for(var i of wu(n))e.indexOf(i)<0&&XE.call(n,i)&&(t[i]=n[i]);return t};var M=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{a(t.next(l))}catch(u){r(u)}},o=l=>{try{a(t.throw(l))}catch(u){r(u)}},a=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,o);a((t=t.apply(n,e)).next())});function tb(n,e){return Object.is(n,e)}var Mt=null,sl=!1,Eu=1,vi=Symbol("SIGNAL");function De(n){let e=Mt;return Mt=n,e}function nb(){return Mt}function TO(){return sl}var lo={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pm(n){if(sl)throw new Error("");if(Mt===null)return;Mt.consumerOnSignalRead(n);let e=Mt.nextProducerIndex++;if(Au(Mt),e<Mt.producerNode.length&&Mt.producerNode[e]!==n&&ol(Mt)){let t=Mt.producerNode[e];Du(t,Mt.producerIndexOfThis[e])}Mt.producerNode[e]!==n&&(Mt.producerNode[e]=n,Mt.producerIndexOfThis[e]=ol(Mt)?ab(n,Mt,e):0),Mt.producerLastReadVersion[e]=n.version}function SO(){Eu++}function ib(n){if(!(ol(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Eu)){if(!n.producerMustRecompute(n)&&!Tu(n)){n.dirty=!1,n.lastCleanEpoch=Eu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Eu}}function rb(n){if(n.liveConsumerNode===void 0)return;let e=sl;sl=!0;try{for(let t of n.liveConsumerNode)t.dirty||ob(t)}finally{sl=e}}function sb(){return Mt?.consumerAllowSignalWrites!==!1}function ob(n){n.dirty=!0,rb(n),n.consumerMarkedDirty?.(n)}function al(n){return n&&(n.nextProducerIndex=0),De(n)}function Cu(n,e){if(De(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ol(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Du(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Tu(n){Au(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(ib(t),i!==t.version))return!0}return!1}function Su(n){if(Au(n),ol(n))for(let e=0;e<n.producerNode.length;e++)Du(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function ab(n,e,t){if(lb(n),n.liveConsumerNode.length===0&&cb(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=ab(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Du(n,e){if(lb(n),n.liveConsumerNode.length===1&&cb(n))for(let i=0;i<n.producerNode.length;i++)Du(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Au(r),r.producerIndexOfThis[i]=e}}function ol(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Au(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function lb(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function cb(n){return n.producerNode!==void 0}function ub(n){let e=Object.create(DO);e.computation=n;let t=()=>{if(ib(e),pm(e),e.value===bu)throw e.error;return e.value};return t[vi]=e,t}var dm=Symbol("UNSET"),hm=Symbol("COMPUTING"),bu=Symbol("ERRORED"),DO=me(k({},lo),{value:dm,dirty:!0,error:null,equal:tb,producerMustRecompute(n){return n.value===dm||n.value===hm},producerRecomputeValue(n){if(n.value===hm)throw new Error("Detected cycle in computations.");let e=n.value;n.value=hm;let t=al(n),i;try{i=n.computation()}catch(r){i=bu,n.error=r}finally{Cu(n,t)}if(e!==dm&&e!==bu&&i!==bu&&n.equal(e,i)){n.value=e;return}n.value=i,n.version++}});function AO(){throw new Error}var db=AO;function hb(){db()}function fb(n){db=n}var xO=null;function pb(n){let e=Object.create(gb);e.value=n;let t=()=>(pm(e),e.value);return t[vi]=e,t}function mm(n,e){sb()||hb(),n.equal(n.value,e)||(n.value=e,MO(n))}function mb(n,e){sb()||hb(),mm(n,e(n.value))}var gb=me(k({},lo),{equal:tb,value:void 0});function MO(n){n.version++,SO(),rb(n),xO?.()}function yb(n,e,t){let i=Object.create(RO);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;let r=l=>{i.cleanupFn=l};function s(l){return l.fn===null&&l.schedule===null}function o(l){s(l)||(Su(l),l.cleanupFn(),l.fn=null,l.schedule=null,l.cleanupFn=fm)}let a=()=>{if(i.fn===null)return;if(TO())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(i.dirty=!1,i.hasRun&&!Tu(i))return;i.hasRun=!0;let l=al(i);try{i.cleanupFn(),i.cleanupFn=fm,i.fn(r)}finally{Cu(i,l)}};return i.ref={notify:()=>ob(i),run:a,cleanup:()=>i.cleanupFn(),destroy:()=>o(i),[vi]:i},i.ref}var fm=()=>{},RO=me(k({},lo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule!==null&&n.schedule(n.ref)},hasRun:!1,cleanupFn:fm});function ge(n){return typeof n=="function"}function co(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var xu=co(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function cs(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var mt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ge(i))try{i()}catch(s){e=s instanceof xu?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{_b(s)}catch(o){e=e??[],o instanceof xu?e=[...e,...o.errors]:e.push(o)}}if(e)throw new xu(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_b(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&cs(t,e)}remove(e){let{_finalizers:t}=this;t&&cs(t,e),e instanceof n&&e._removeParent(this)}};mt.EMPTY=(()=>{let n=new mt;return n.closed=!0,n})();var gm=mt.EMPTY;function Mu(n){return n instanceof mt||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function _b(n){ge(n)?n():n.unsubscribe()}var ei={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var uo={setTimeout(n,e,...t){let{delegate:i}=uo;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=uo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ru(n){uo.setTimeout(()=>{let{onUnhandledError:e}=ei;if(e)e(n);else throw n})}function ll(){}var vb=ym("C",void 0,void 0);function Ib(n){return ym("E",void 0,n)}function wb(n){return ym("N",n,void 0)}function ym(n,e,t){return{kind:n,value:e,error:t}}var us=null;function ho(n){if(ei.useDeprecatedSynchronousErrorHandling){let e=!us;if(e&&(us={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=us;if(us=null,t)throw i}}else n()}function Eb(n){ei.useDeprecatedSynchronousErrorHandling&&us&&(us.errorThrown=!0,us.error=n)}var ds=class extends mt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Mu(e)&&e.add(this)):this.destination=PO}static create(e,t,i){return new fo(e,t,i)}next(e){this.isStopped?vm(wb(e),this):this._next(e)}error(e){this.isStopped?vm(Ib(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vm(vb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},OO=Function.prototype.bind;function _m(n,e){return OO.call(n,e)}var Im=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Ou(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Ou(i)}else Ou(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Ou(t)}}},fo=class extends ds{constructor(e,t,i){super();let r;if(ge(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ei.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&_m(e.next,s),error:e.error&&_m(e.error,s),complete:e.complete&&_m(e.complete,s)}):r=e}this.destination=new Im(r)}};function Ou(n){ei.useDeprecatedSynchronousErrorHandling?Eb(n):Ru(n)}function NO(n){throw n}function vm(n,e){let{onStoppedNotification:t}=ei;t&&uo.setTimeout(()=>t(n,e))}var PO={closed:!0,next:ll,error:NO,complete:ll};var po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function En(n){return n}function wm(...n){return Em(n)}function Em(n){return n.length===0?En:n.length===1?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}var Fe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){let s=FO(t)?t:new fo(t,i,r);return ho(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=bb(i),new i((r,s)=>{let o=new fo({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[po](){return this}pipe(...t){return Em(t)(this)}toPromise(t){return t=bb(t),new t((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function bb(n){var e;return(e=n??ei.Promise)!==null&&e!==void 0?e:Promise}function kO(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function FO(n){return n&&n instanceof ds||kO(n)&&Mu(n)}function bm(n){return ge(n?.lift)}function Le(n){return e=>{if(bm(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(n,e,t,i,r){return new Cm(n,e,t,i,r)}var Cm=class extends ds{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function mo(){return Le((n,e)=>{let t=null;n._refCount++;let i=Oe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var go=class extends Fe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,bm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new mt;let t=this.getSubject();e.add(this.source.subscribe(Oe(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=mt.EMPTY)}return e}refCount(){return mo()(this)}};var Cb=co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class n extends Fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Nu(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Cb}next(t){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){ho(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:s}=this;return i||r?gm:(this.currentObservers=null,s.push(t),new mt(()=>{this.currentObservers=null,cs(s,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){let t=new Fe;return t.source=this,t}}return n.create=(e,t)=>new Nu(e,t),n})(),Nu=class extends wt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:gm}};var Ut=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Tm={now(){return(Tm.delegate||Date).now()},delegate:void 0};var Pu=class extends mt{constructor(e,t){super()}schedule(e,t=0){return this}};var cl={setInterval(n,e,...t){let{delegate:i}=cl;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=cl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var yo=class extends Pu{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return cl.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&cl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,cs(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var _o=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};_o.now=Tm.now;var vo=class extends _o{constructor(e,t=_o.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var Sm=new vo(yo);var ku=class extends yo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}};var Fu=class extends vo{};var Dm=new Fu(ku);var bn=new Fe(n=>n.complete());function Tb(n){return n&&ge(n.schedule)}function Sb(n){return n[n.length-1]}function Lu(n){return ge(Sb(n))?n.pop():void 0}function Er(n){return Tb(Sb(n))?n.pop():void 0}function Am(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}function Ab(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(d){try{u(i.next(d))}catch(p){o(p)}}function l(d){try{u(i.throw(d))}catch(p){o(p)}}function u(d){d.done?s(d.value):r(d.value).then(a,l)}u((i=i.apply(n,e||[])).next())})}function Db(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hs(n){return this instanceof hs?(this.v=n,this):new hs(n)}function xb(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(y){return function(v){return Promise.resolve(v).then(y,p)}}function a(y,v){i[y]&&(r[y]=function(T){return new Promise(function(S,O){s.push([y,T,S,O])>1||l(y,T)})},v&&(r[y]=v(r[y])))}function l(y,v){try{u(i[y](v))}catch(T){m(s[0][3],T)}}function u(y){y.value instanceof hs?Promise.resolve(y.value.v).then(d,p):m(s[0][2],y)}function d(y){l("next",y)}function p(y){l("throw",y)}function m(y,v){y(v),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Mb(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Db=="function"?Db(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var Vu=n=>n&&typeof n.length=="number"&&typeof n!="function";function Uu(n){return ge(n?.then)}function ju(n){return ge(n[po])}function Bu(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function $u(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function LO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hu=LO();function zu(n){return ge(n?.[Hu])}function qu(n){return xb(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:r}=yield hs(t.read());if(r)return yield hs(void 0);yield yield hs(i)}}finally{t.releaseLock()}})}function Gu(n){return ge(n?.getReader)}function bt(n){if(n instanceof Fe)return n;if(n!=null){if(ju(n))return VO(n);if(Vu(n))return UO(n);if(Uu(n))return jO(n);if(Bu(n))return Rb(n);if(zu(n))return BO(n);if(Gu(n))return $O(n)}throw $u(n)}function VO(n){return new Fe(e=>{let t=n[po]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function UO(n){return new Fe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function jO(n){return new Fe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ru)})}function BO(n){return new Fe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Rb(n){return new Fe(e=>{HO(n,e).catch(t=>e.error(t))})}function $O(n){return Rb(qu(n))}function HO(n,e){var t,i,r,s;return Ab(this,void 0,void 0,function*(){try{for(t=Mb(n);i=yield t.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})}function pn(n,e,t,i=0,r=!1){let s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function br(n,e=0){return Le((t,i)=>{t.subscribe(Oe(i,r=>pn(i,n,()=>i.next(r),e),()=>pn(i,n,()=>i.complete(),e),r=>pn(i,n,()=>i.error(r),e)))})}function Cr(n,e=0){return Le((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Ob(n,e){return bt(n).pipe(Cr(e),br(e))}function Nb(n,e){return bt(n).pipe(Cr(e),br(e))}function Pb(n,e){return new Fe(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function kb(n,e){return new Fe(t=>{let i;return pn(t,e,()=>{i=n[Hu](),pn(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){t.error(o);return}s?t.complete():t.next(r)},0,!0)}),()=>ge(i?.return)&&i.return()})}function Wu(n,e){if(!n)throw new Error("Iterable cannot be null");return new Fe(t=>{pn(t,e,()=>{let i=n[Symbol.asyncIterator]();pn(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Fb(n,e){return Wu(qu(n),e)}function Lb(n,e){if(n!=null){if(ju(n))return Ob(n,e);if(Vu(n))return Pb(n,e);if(Uu(n))return Nb(n,e);if(Bu(n))return Wu(n,e);if(zu(n))return kb(n,e);if(Gu(n))return Fb(n,e)}throw $u(n)}function ut(n,e){return e?Lb(n,e):bt(n)}function ue(...n){let e=Er(n);return ut(n,e)}function Io(n,e){let t=ge(n)?n:()=>n,i=r=>r.error(t());return new Fe(e?r=>e.schedule(i,0,r):i)}function xm(n){return!!n&&(n instanceof Fe||ge(n.lift)&&ge(n.subscribe))}var Ki=co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ae(n,e){return Le((t,i)=>{let r=0;t.subscribe(Oe(i,s=>{i.next(n.call(e,s,r++))}))})}var{isArray:zO}=Array;function qO(n,e){return zO(e)?n(...e):n(e)}function Ku(n){return Ae(e=>qO(n,e))}var{isArray:GO}=Array,{getPrototypeOf:WO,prototype:KO,keys:QO}=Object;function Qu(n){if(n.length===1){let e=n[0];if(GO(e))return{args:e,keys:null};if(YO(e)){let t=QO(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function YO(n){return n&&typeof n=="object"&&WO(n)===KO}function Yu(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function ul(...n){let e=Er(n),t=Lu(n),{args:i,keys:r}=Qu(n);if(i.length===0)return ut([],e);let s=new Fe(ZO(i,e,r?o=>Yu(r,o):En));return t?s.pipe(Ku(t)):s}function ZO(n,e,t=En){return i=>{Vb(e,()=>{let{length:r}=n,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)Vb(e,()=>{let u=ut(n[l],e),d=!1;u.subscribe(Oe(i,p=>{s[l]=p,d||(d=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function Vb(n,e,t){n?pn(t,n,e):e()}function Ub(n,e,t,i,r,s,o,a){let l=[],u=0,d=0,p=!1,m=()=>{p&&!l.length&&!u&&e.complete()},y=T=>u<i?v(T):l.push(T),v=T=>{s&&e.next(T),u++;let S=!1;bt(t(T,d++)).subscribe(Oe(e,O=>{r?.(O),s?y(O):e.next(O)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<i;){let O=l.shift();o?pn(e,o,()=>v(O)):v(O)}m()}catch(O){e.error(O)}}))};return n.subscribe(Oe(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ct(n,e,t=1/0){return ge(e)?Ct((i,r)=>Ae((s,o)=>e(i,s,r,o))(bt(n(i,r))),t):(typeof e=="number"&&(t=e),Le((i,r)=>Ub(i,r,n,t)))}function wo(n=1/0){return Ct(En,n)}function jb(){return wo(1)}function Eo(...n){return jb()(ut(n,Er(n)))}function Zu(n){return new Fe(e=>{bt(n()).subscribe(e)})}function Mm(...n){let e=Lu(n),{args:t,keys:i}=Qu(n),r=new Fe(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let p=!1;bt(t[d]).subscribe(Oe(s,m=>{p||(p=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!p)&&(u||s.next(i?Yu(i,a):a),s.complete())}))}});return e?r.pipe(Ku(e)):r}function jn(n,e){return Le((t,i)=>{let r=0;t.subscribe(Oe(i,s=>n.call(e,s,r++)&&i.next(s)))})}function Tr(n){return Le((e,t)=>{let i=null,r=!1,s;i=e.subscribe(Oe(t,void 0,void 0,o=>{s=bt(n(o,Tr(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function Bb(n,e,t,i,r){return(s,o)=>{let a=t,l=e,u=0;s.subscribe(Oe(o,d=>{let p=u++;l=a?n(l,d,p):(a=!0,d),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function fs(n,e){return ge(e)?Ct(n,e,1):Ct(n,1)}function Sr(n){return Le((e,t)=>{let i=!1;e.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function Qi(n){return n<=0?()=>bn:Le((e,t)=>{let i=0;e.subscribe(Oe(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Rm(n){return Ae(()=>n)}function Ju(n=JO){return Le((e,t)=>{let i=!1;e.subscribe(Oe(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function JO(){return new Ki}function dl(n){return Le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Ii(n,e){let t=arguments.length>=2;return i=>i.pipe(n?jn((r,s)=>n(r,s,i)):En,Qi(1),t?Sr(e):Ju(()=>new Ki))}function bo(n){return n<=0?()=>bn:Le((e,t)=>{let i=[];e.subscribe(Oe(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Om(n,e){let t=arguments.length>=2;return i=>i.pipe(n?jn((r,s)=>n(r,s,i)):En,bo(1),t?Sr(e):Ju(()=>new Ki))}function Nm(n,e){return Le(Bb(n,e,arguments.length>=2,!0))}function Pm(...n){let e=Er(n);return Le((t,i)=>{(e?Eo(n,t,e):Eo(n,t)).subscribe(i)})}function Bn(n,e){return Le((t,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();t.subscribe(Oe(i,l=>{r?.unsubscribe();let u=0,d=s++;bt(n(l,d)).subscribe(r=Oe(i,p=>i.next(e?e(l,p,d,u++):p),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function km(n){return Le((e,t)=>{bt(n).subscribe(Oe(t,()=>t.complete(),ll)),!t.closed&&e.subscribe(t)})}function Rt(n,e,t){let i=ge(n)||e||t?{next:n,error:e,complete:t}:n;return i?Le((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(Oe(s,l=>{var u;(u=i.next)===null||u===void 0||u.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var u;a=!1,(u=i.error)===null||u===void 0||u.call(i,l),s.error(l)},()=>{var l,u;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):En}var AC="https://g.co/ng/security#xss",j=class extends Error{constructor(e,t){super(ny(e,t)),this.code=e}};function ny(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function wl(n){return{toString:n}.toString()}var Xu="__parameters__";function XO(n){return function(...t){if(n){let i=n(...t);for(let r in i)this[r]=i[r]}}}function xC(n,e,t){return wl(()=>{let i=XO(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,u,d){let p=l.hasOwnProperty(Xu)?l[Xu]:Object.defineProperty(l,Xu,{value:[]})[Xu];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}var Qm=globalThis;function et(n){for(let e in n)if(n[e]===et)return e;throw Error("Could not find renamed property on target object.")}function eN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ln(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ln).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Ym(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var tN=et({__forward_ref__:et});function Dn(n){return n.__forward_ref__=Dn,n.toString=function(){return ln(this())},n}function an(n){return MC(n)?n():n}function MC(n){return typeof n=="function"&&n.hasOwnProperty(tN)&&n.__forward_ref__===Dn}function Q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function He(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ld(n){return $b(n,OC)||$b(n,NC)}function RC(n){return Ld(n)!==null}function $b(n,e){return n.hasOwnProperty(e)?n[e]:null}function nN(n){let e=n&&(n[OC]||n[NC]);return e||null}function Hb(n){return n&&(n.hasOwnProperty(zb)||n.hasOwnProperty(iN))?n[zb]:null}var OC=et({\u0275prov:et}),zb=et({\u0275inj:et}),NC=et({ngInjectableDef:et}),iN=et({ngInjectorDef:et}),te=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=Q({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function PC(n){return n&&!!n.\u0275providers}var rN=et({\u0275cmp:et}),sN=et({\u0275dir:et}),oN=et({\u0275pipe:et}),aN=et({\u0275mod:et}),dd=et({\u0275fac:et}),fl=et({__NG_ELEMENT_ID__:et}),qb=et({__NG_ENV_ID__:et});function Vd(n){return typeof n=="string"?n:n==null?"":String(n)}function lN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vd(n)}function cN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new j(-200,n)}function iy(n,e){throw new j(-201,!1)}var Ce=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Ce||{}),Zm;function kC(){return Zm}function $n(n){let e=Zm;return Zm=n,e}function FC(n,e,t){let i=Ld(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Ce.Optional)return null;if(e!==void 0)return e;iy(n,"Injector")}var uN={},pl=uN,Jm="__NG_DI_FLAG__",hd="ngTempTokenPath",dN="ngTokenPath",hN=/\n/gm,fN="\u0275",Gb="__source",Ao;function pN(){return Ao}function Dr(n){let e=Ao;return Ao=n,e}function mN(n,e=Ce.Default){if(Ao===void 0)throw new j(-203,!1);return Ao===null?FC(n,void 0,e):Ao.get(n,e&Ce.Optional?null:void 0,e)}function ie(n,e=Ce.Default){return(kC()||mN)(an(n),e)}function B(n,e=Ce.Default){return ie(n,Ud(e))}function Ud(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xm(n){let e=[];for(let t=0;t<n.length;t++){let i=an(n[t]);if(Array.isArray(i)){if(i.length===0)throw new j(900,!1);let r,s=Ce.Default;for(let o=0;o<i.length;o++){let a=i[o],l=gN(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(ie(r,s))}else e.push(ie(i))}return e}function LC(n,e){return n[Jm]=e,n.prototype[Jm]=e,n}function gN(n){return n[Jm]}function yN(n,e,t,i){let r=n[hd];throw e[Gb]&&r.unshift(e[Gb]),n.message=_N(`
`+n.message,r,t,i),n[dN]=r,n[hd]=null,n}function _N(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==fN?n.slice(2):n;let r=ln(e);if(Array.isArray(e))r=e.map(ln).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ln(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(hN,`
  `)}`}var An=LC(xC("Optional"),8);var jd=LC(xC("SkipSelf"),4);function Mo(n,e){let t=n.hasOwnProperty(dd);return t?n[dd]:null}function vN(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}function IN(n){return n.flat(Number.POSITIVE_INFINITY)}function ry(n,e){n.forEach(t=>Array.isArray(t)?ry(t,e):e(t))}function VC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function wN(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function EN(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(r===1)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;){let s=r-2;n[r]=n[s],r--}n[e]=t,n[e+1]=i}}function Bd(n,e,t){let i=El(n,e);return i>=0?n[i|1]=t:(i=~i,EN(n,i,e,t)),i}function Fm(n,e){let t=El(n,e);if(t>=0)return n[t|1]}function El(n,e){return bN(n,e,1)}function bN(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){let s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}var Ro={},mn=[],Oo=new te(""),UC=new te("",-1),jC=new te(""),pd=class{get(e,t=pl){if(t===pl){let i=new Error(`NullInjectorError: No provider for ${ln(e)}!`);throw i.name="NullInjectorError",i}return t}},BC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(BC||{}),bi=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(bi||{}),Mr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Mr||{});function CN(n,e,t){let i=n.length;for(;;){let r=n.indexOf(e,t);if(r===-1)return r;if(r===0||n.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function eg(n,e,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{let s=r,o=t[++i];TN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function $C(n){return n===3||n===4||n===6}function TN(n){return n.charCodeAt(0)===64}function ml(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Wb(n,t,r,null,e[++i]):Wb(n,t,r,null,null))}}return n}function Wb(n,e,t,i,r){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(i===null){r!==null&&(n[s+1]=r);return}else if(i===n[s+1]){n[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),i!==null&&n.splice(s++,0,i),r!==null&&n.splice(s++,0,r)}var HC="ng-template";function SN(n,e,t,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&CN(e[r+1].toLowerCase(),t,0)!==-1)return!0}else if(sy(n))return!1;if(r=e.indexOf(1,r),r>-1){let s;for(;++r<e.length&&typeof(s=e[r])=="string";)if(s.toLowerCase()===t)return!0}return!1}function sy(n){return n.type===4&&n.value!==HC}function DN(n,e,t){let i=n.type===4&&!t?HC:n.value;return e===i}function AN(n,e,t){let i=4,r=n.attrs,s=r!==null?RN(r):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!ti(i)&&!ti(l))return!1;if(o&&ti(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!DN(n,l,t)||l===""&&e.length===1){if(ti(i))return!1;o=!0}}else if(i&8){if(r===null||!SN(n,r,l,t)){if(ti(i))return!1;o=!0}}else{let u=e[++a],d=xN(l,r,sy(n),t);if(d===-1){if(ti(i))return!1;o=!0;continue}if(u!==""){let p;if(d>s?p="":p=r[d+1].toLowerCase(),i&2&&u!==p){if(ti(i))return!1;o=!0}}}}return ti(i)||o}function ti(n){return(n&1)===0}function xN(n,e,t,i){if(e===null)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){let o=e[r];if(o===n)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return ON(e,n)}function zC(n,e,t=!1){for(let i=0;i<e.length;i++)if(AN(n,e[i],t))return!0;return!1}function MN(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function RN(n){for(let e=0;e<n.length;e++){let t=n[e];if($C(t))return e}return n.length}function ON(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function NN(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Kb(n,e){return n?":not("+e.trim()+")":e}function PN(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(i&2){let a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!ti(o)&&(e+=Kb(s,r),r=""),i=o,s=s||!ti(i);t++}return r!==""&&(e+=Kb(s,r)),e}function kN(n){return n.map(PN).join(",")}function FN(n){let e=[],t=[],i=1,r=2;for(;i<n.length;){let s=n[i];if(typeof s=="string")r===2?s!==""&&e.push(s,n[++i]):r===8&&t.push(s);else{if(!ti(r))break;r=s}i++}return{attrs:e,classes:t}}function de(n){return wl(()=>{let e=QC(n),t=me(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===BC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||bi.Emulated,styles:n.styles||mn,_:null,schemas:n.schemas||null,tView:null,id:""});YC(t);let i=n.dependencies;return t.directiveDefs=Yb(i,!1),t.pipeDefs=Yb(i,!0),t.id=UN(t),t})}function LN(n){return Rr(n)||qC(n)}function VN(n){return n!==null}function ze(n){return wl(()=>({type:n.type,bootstrap:n.bootstrap||mn,declarations:n.declarations||mn,imports:n.imports||mn,exports:n.exports||mn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Qb(n,e){if(n==null)return Ro;let t={};for(let i in n)if(n.hasOwnProperty(i)){let r=n[i],s,o,a=Mr.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(t[s]=a!==Mr.None?[i,a]:i,e[s]=o):t[s]=i}return t}function Ue(n){return wl(()=>{let e=QC(n);return YC(e),e})}function Rr(n){return n[rN]||null}function qC(n){return n[sN]||null}function GC(n){return n[oN]||null}function WC(n){let e=Rr(n)||qC(n)||GC(n);return e!==null?e.standalone:!1}function KC(n,e){let t=n[aN]||null;if(!t&&e===!0)throw new Error(`Type ${ln(n)} does not have '\u0275mod' property.`);return t}function QC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ro,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||mn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qb(n.inputs,e),outputs:Qb(n.outputs),debugInfo:null}}function YC(n){n.features?.forEach(e=>e(n))}function Yb(n,e){if(!n)return null;let t=e?GC:LN;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(VN)}function UN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Lr(n){return{\u0275providers:n}}function jN(...n){return{\u0275providers:ZC(!0,n),\u0275fromNgModule:!0}}function ZC(n,...e){let t=[],i=new Set,r,s=o=>{t.push(o)};return ry(e,o=>{let a=o;tg(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&JC(r,s),t}function JC(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:r}=n[t];oy(r,s=>{e(s,i)})}}function tg(n,e,t,i){if(n=an(n),!n)return!1;let r=null,s=Hb(n),o=!s&&Rr(n);if(!s&&!o){let l=n.ngModule;if(s=Hb(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=n}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)tg(u,e,t,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let u;try{ry(s.imports,d=>{tg(d,e,t,i)&&(u||=[],u.push(d))})}finally{}u!==void 0&&JC(u,e)}if(!a){let u=Mo(r)||(()=>new r);e({provide:r,useFactory:u,deps:mn},r),e({provide:jC,useValue:r,multi:!0},r),e({provide:Oo,useValue:()=>ie(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let u=n;oy(l,d=>{e(d,u)})}}else return!1;return r!==n&&n.providers!==void 0}function oy(n,e){for(let t of n)PC(t)&&(t=t.\u0275providers),Array.isArray(t)?oy(t,e):e(t)}var BN=et({provide:String,useValue:et});function XC(n){return n!==null&&typeof n=="object"&&BN in n}function $N(n){return!!(n&&n.useExisting)}function HN(n){return!!(n&&n.useFactory)}function No(n){return typeof n=="function"}function zN(n){return!!n.useClass}var $d=new te(""),rd={},qN={},Lm;function ay(){return Lm===void 0&&(Lm=new pd),Lm}var Cn=class{},gl=class extends Cn{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ig(e,o=>this.processProvider(o)),this.records.set(UC,Co(void 0,this)),r.has("environment")&&this.records.set(Cn,Co(void 0,this));let s=this.records.get($d);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jC,mn,Ce.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=De(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),De(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Dr(this),i=$n(void 0),r;try{return e()}finally{Dr(t),$n(i)}}get(e,t=pl,i=Ce.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qb))return e[qb](this);i=Ud(i);let r,s=Dr(this),o=$n(void 0);try{if(!(i&Ce.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=YN(e)&&Ld(e);u&&this.injectableDefInScope(u)?l=Co(ng(e),rd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&Ce.Self?ay():this.parent;return t=i&Ce.Optional&&t===pl?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[hd]=a[hd]||[]).unshift(ln(e)),s)throw a;return yN(a,e,"R3InjectorError",this.source)}else throw a}finally{$n(o),Dr(s)}}resolveInjectorInitializers(){let e=De(null),t=Dr(this),i=$n(void 0),r;try{let s=this.get(Oo,mn,Ce.Self);for(let o of s)o()}finally{Dr(t),$n(i),De(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(ln(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new j(205,!1)}processProvider(e){e=an(e);let t=No(e)?e:an(e&&e.provide),i=WN(e);if(!No(e)&&e.multi===!0){let r=this.records.get(t);r||(r=Co(void 0,rd,!0),r.factory=()=>Xm(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=De(null);try{return t.value===rd&&(t.value=qN,t.value=t.factory()),typeof t.value=="object"&&t.value&&QN(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{De(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=an(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function ng(n){let e=Ld(n),t=e!==null?e.factory:Mo(n);if(t!==null)return t;if(n instanceof te)throw new j(204,!1);if(n instanceof Function)return GN(n);throw new j(204,!1)}function GN(n){if(n.length>0)throw new j(204,!1);let t=nN(n);return t!==null?()=>t.factory(n):()=>new n}function WN(n){if(XC(n))return Co(void 0,n.useValue);{let e=eT(n);return Co(e,rd)}}function eT(n,e,t){let i;if(No(n)){let r=an(n);return Mo(r)||ng(r)}else if(XC(n))i=()=>an(n.useValue);else if(HN(n))i=()=>n.useFactory(...Xm(n.deps||[]));else if($N(n))i=()=>ie(an(n.useExisting));else{let r=an(n&&(n.useClass||n.provide));if(KN(n))i=()=>new r(...Xm(n.deps));else return Mo(r)||ng(r)}return i}function Co(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function KN(n){return!!n.deps}function QN(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function YN(n){return typeof n=="function"||typeof n=="object"&&n instanceof te}function ig(n,e){for(let t of n)Array.isArray(t)?ig(t,e):t&&PC(t)?ig(t.\u0275providers,e):e(t)}function Ai(n,e){n instanceof gl&&n.assertNotDestroyed();let t,i=Dr(n),r=$n(void 0);try{return e()}finally{Dr(i),$n(r)}}function tT(){return kC()!==void 0||pN()!=null}function nT(n){if(!tT())throw new j(-203,!1)}function ZN(n){return typeof n=="function"}var Ji=0,he=1,le=2,Qt=3,ni=4,gn=5,Po=6,md=7,Wt=8,ko=9,Ci=10,gt=11,yl=12,Zb=13,zo=14,Tn=15,ys=16,To=17,Yi=18,Hd=19,iT=20,Ar=21,sd=22,Hn=23,cn=25,rT=1;var _s=7,gd=8,Fo=9,Kt=10,yd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(yd||{});function xr(n){return Array.isArray(n)&&typeof n[rT]=="object"}function Xi(n){return Array.isArray(n)&&n[rT]===!0}function ly(n){return(n.flags&4)!==0}function zd(n){return n.componentOffset>-1}function qd(n){return(n.flags&1)===1}function Or(n){return!!n.template}function rg(n){return(n[le]&512)!==0}var sg=class{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function sT(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}function yn(){return oT}function oT(n){return n.type.prototype.ngOnChanges&&(n.setInput=XN),JN}yn.ngInherit=!0;function JN(){let n=lT(this),e=n?.current;if(e){let t=n.previous;if(t===Ro)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function XN(n,e,t,i,r){let s=this.declaredInputs[i],o=lT(n)||eP(n,{previous:Ro,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new sg(u&&u.currentValue,t,l===Ro),sT(n,e,r,t)}var aT="__ngSimpleChanges__";function lT(n){return n[aT]||null}function eP(n,e){return n[aT]=e}var Jb=null;var wi=function(n,e,t){Jb?.(n,e,t)},cT="svg",tP="math";function Ti(n){for(;Array.isArray(n);)n=n[Ji];return n}function uT(n,e){return Ti(e[n])}function zn(n,e){return Ti(e[n.index])}function cy(n,e){return n.data[e]}function nP(n,e){return n[e]}function Vr(n,e){let t=e[n];return xr(t)?t:t[Ji]}function iP(n){return(n[le]&4)===4}function uy(n){return(n[le]&128)===128}function rP(n){return Xi(n[Qt])}function Nr(n,e){return e==null?null:n[e]}function dT(n){n[To]=0}function hT(n){n[le]&1024||(n[le]|=1024,uy(n)&&Wd(n))}function sP(n,e){for(;n>0;)e=e[zo],n--;return e}function Gd(n){return!!(n[le]&9216||n[Hn]?.dirty)}function og(n){n[Ci].changeDetectionScheduler?.notify(8),n[le]&64&&(n[le]|=1024),Gd(n)&&Wd(n)}function Wd(n){n[Ci].changeDetectionScheduler?.notify(0);let e=vs(n);for(;e!==null&&!(e[le]&8192||(e[le]|=8192,!uy(e)));)e=vs(e)}function fT(n,e){if((n[le]&256)===256)throw new j(911,!1);n[Ar]===null&&(n[Ar]=[]),n[Ar].push(e)}function oP(n,e){if(n[Ar]===null)return;let t=n[Ar].indexOf(e);t!==-1&&n[Ar].splice(t,1)}function vs(n){let e=n[Qt];return Xi(e)?e[Qt]:e}var be={lFrame:bT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var pT=!1;function aP(){return be.lFrame.elementDepthCount}function lP(){be.lFrame.elementDepthCount++}function cP(){be.lFrame.elementDepthCount--}function mT(){return be.bindingsEnabled}function gT(){return be.skipHydrationRootTNode!==null}function uP(n){return be.skipHydrationRootTNode===n}function dP(){be.skipHydrationRootTNode=null}function _e(){return be.lFrame.lView}function Et(){return be.lFrame.tView}function xe(n){return be.lFrame.contextLView=n,n[Wt]}function Me(n){return be.lFrame.contextLView=null,n}function jt(){let n=yT();for(;n!==null&&n.type===64;)n=n.parent;return n}function yT(){return be.lFrame.currentTNode}function hP(){let n=be.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Ts(n,e){let t=be.lFrame;t.currentTNode=n,t.isParent=e}function dy(){return be.lFrame.isParent}function hy(){be.lFrame.isParent=!1}function fP(){return be.lFrame.contextLView}function _T(){return pT}function Xb(n){pT=n}function bl(){let n=be.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function pP(n){return be.lFrame.bindingIndex=n}function qo(){return be.lFrame.bindingIndex++}function vT(n){let e=be.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function mP(){return be.lFrame.inI18n}function gP(n,e){let t=be.lFrame;t.bindingIndex=t.bindingRootIndex=n,ag(e)}function yP(){return be.lFrame.currentDirectiveIndex}function ag(n){be.lFrame.currentDirectiveIndex=n}function _P(n){let e=be.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function IT(){return be.lFrame.currentQueryIndex}function fy(n){be.lFrame.currentQueryIndex=n}function vP(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[gn]:null}function wT(n,e,t){if(t&Ce.SkipSelf){let r=e,s=n;for(;r=r.parent,r===null&&!(t&Ce.Host);)if(r=vP(s),r===null||(s=s[zo],r.type&10))break;if(r===null)return!1;e=r,n=s}let i=be.lFrame=ET();return i.currentTNode=e,i.lView=n,!0}function py(n){let e=ET(),t=n[he];be.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function ET(){let n=be.lFrame,e=n===null?null:n.child;return e===null?bT(n):e}function bT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function CT(){let n=be.lFrame;return be.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var TT=CT;function my(){let n=CT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function IP(n){return(be.lFrame.contextLView=sP(n,be.lFrame.contextLView))[Wt]}function Ur(){return be.lFrame.selectedIndex}function Is(n){be.lFrame.selectedIndex=n}function gy(){let n=be.lFrame;return cy(n.tView,n.selectedIndex)}function Zt(){be.lFrame.currentNamespace=cT}function wP(){return be.lFrame.currentNamespace}var ST=!0;function Kd(){return ST}function Qd(n){ST=n}function EP(n,e,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=oT(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Yd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function od(n,e,t){DT(n,e,3,t)}function ad(n,e,t,i){(n[le]&3)===t&&DT(n,e,t,i)}function Vm(n,e){let t=n[le];(t&3)===e&&(t&=16383,t+=1,n[le]=t)}function DT(n,e,t,i){let r=i!==void 0?n[To]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(n[To]+=65536),(a<s||s==-1)&&(bP(n,t,e,l),n[To]=(n[To]&4294901760)+l+2),l++}function eC(n,e){wi(4,n,e);let t=De(null);try{e.call(n)}finally{De(t),wi(5,n,e)}}function bP(n,e,t,i){let r=t[i]<0,s=t[i+1],o=r?-t[i]:t[i],a=n[o];r?n[le]>>14<n[To]>>16&&(n[le]&3)===e&&(n[le]+=16384,eC(a,s)):eC(a,s)}var xo=-1,ws=class{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}};function CP(n){return n instanceof ws}function TP(n){return(n.flags&8)!==0}function SP(n){return(n.flags&16)!==0}var Um={},lg=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Ud(i);let r=this.injector.get(e,Um,i);return r!==Um||t===Um?r:this.parentInjector.get(e,t,i)}};function AT(n){return n!==xo}function _d(n){return n&32767}function DP(n){return n>>16}function vd(n,e){let t=DP(n),i=e;for(;t>0;)i=i[zo],t--;return i}var cg=!0;function tC(n){let e=cg;return cg=n,e}var AP=256,xT=AP-1,MT=5,xP=0,Ei={};function MP(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(fl)&&(i=t[fl]),i==null&&(i=t[fl]=xP++);let r=i&xT,s=1<<r;e.data[n+(r>>MT)]|=s}function Id(n,e){let t=RT(n,e);if(t!==-1)return t;let i=e[he];i.firstCreatePass&&(n.injectorIndex=e.length,jm(i.data,n),jm(e,null),jm(i.blueprint,null));let r=yy(n,e),s=n.injectorIndex;if(AT(r)){let o=_d(r),a=vd(r,e),l=a[he].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=r,s}function jm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function RT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function yy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;r!==null;){if(i=FT(r),i===null)return xo;if(t++,r=r[zo],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return xo}function ug(n,e,t){MP(n,e,t)}function RP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,r=0;for(;r<i;){let s=t[r];if($C(s))break;if(s===0)r=r+2;else if(typeof s=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(s===e)return t[r+1];r=r+2}}}return null}function OT(n,e,t){if(t&Ce.Optional||n!==void 0)return n;iy(e,"NodeInjector")}function NT(n,e,t,i){if(t&Ce.Optional&&i===void 0&&(i=null),!(t&(Ce.Self|Ce.Host))){let r=n[ko],s=$n(void 0);try{return r?r.get(e,i,t&Ce.Optional):FC(e,i,t&Ce.Optional)}finally{$n(s)}}return OT(i,e,t)}function PT(n,e,t,i=Ce.Default,r){if(n!==null){if(e[le]&2048&&!(i&Ce.Self)){let o=kP(n,e,t,i,Ei);if(o!==Ei)return o}let s=kT(n,e,t,i,Ei);if(s!==Ei)return s}return NT(e,t,i,r)}function kT(n,e,t,i,r){let s=NP(t);if(typeof s=="function"){if(!wT(e,n,i))return i&Ce.Host?OT(r,t,i):NT(e,t,i,r);try{let o;if(o=s(i),o==null&&!(i&Ce.Optional))iy(t);else return o}finally{TT()}}else if(typeof s=="number"){let o=null,a=RT(n,e),l=xo,u=i&Ce.Host?e[Tn][gn]:null;for((a===-1||i&Ce.SkipSelf)&&(l=a===-1?yy(n,e):e[a+8],l===xo||!iC(i,!1)?a=-1:(o=e[he],a=_d(l),e=vd(l,e)));a!==-1;){let d=e[he];if(nC(s,a,d.data)){let p=OP(a,e,t,o,i,u);if(p!==Ei)return p}l=e[a+8],l!==xo&&iC(i,e[he].data[a+8]===u)&&nC(s,a,e)?(o=d,a=_d(l),e=vd(l,e)):a=-1}}return r}function OP(n,e,t,i,r,s){let o=e[he],a=o.data[n+8],l=i==null?zd(a)&&cg:i!=o&&(a.type&3)!==0,u=r&Ce.Host&&s===a,d=ld(a,o,t,l,u);return d!==null?Es(e,o,d,a):Ei}function ld(n,e,t,i,r){let s=n.providerIndexes,o=e.data,a=s&1048575,l=n.directiveStart,u=n.directiveEnd,d=s>>20,p=i?a:a+d,m=r?a+d:u;for(let y=p;y<m;y++){let v=o[y];if(y<l&&t===v||y>=l&&v.type===t)return y}if(r){let y=o[l];if(y&&Or(y)&&y.type===t)return l}return null}function Es(n,e,t,i){let r=n[t],s=e.data;if(CP(r)){let o=r;o.resolving&&cN(lN(s[t]));let a=tC(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?$n(o.injectImpl):null,d=wT(n,i,Ce.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&EP(t,s[t],e)}finally{u!==null&&$n(u),tC(a),o.resolving=!1,TT()}}return r}function NP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(fl)?n[fl]:void 0;return typeof e=="number"?e>=0?e&xT:PP:e}function nC(n,e,t){let i=1<<n;return!!(t[e+(n>>MT)]&i)}function iC(n,e){return!(n&Ce.Self)&&!(n&Ce.Host&&e)}var gs=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return PT(this._tNode,this._lView,e,Ud(i),t)}};function PP(){return new gs(jt(),_e())}function yt(n){return wl(()=>{let e=n.prototype.constructor,t=e[dd]||dg(e),i=Object.prototype,r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){let s=r[dd]||dg(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function dg(n){return MC(n)?()=>{let e=dg(an(n));return e&&e()}:Mo(n)}function kP(n,e,t,i,r){let s=n,o=e;for(;s!==null&&o!==null&&o[le]&2048&&!(o[le]&512);){let a=kT(s,o,t,i|Ce.Self,Ei);if(a!==Ei)return a;let l=s.parent;if(!l){let u=o[iT];if(u){let d=u.get(t,Ei,i);if(d!==Ei)return d}l=FT(o),o=o[zo]}s=l}return r}function FT(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[gn]:null}function _y(n){return RP(jt(),n)}function rC(n,e=null,t=null,i){let r=LT(n,e,t,i);return r.resolveInjectorInitializers(),r}function LT(n,e=null,t=null,i,r=new Set){let s=[t||mn,jN(n)];return i=i||(typeof n=="object"?void 0:ln(n)),new gl(s,e||ay(),i||null,r)}var ps=class ps{static create(e,t){if(Array.isArray(e))return rC({name:""},t,e,"");{let i=e.name??"";return rC({name:i},e.parent,e.providers,i)}}};ps.THROW_IF_NOT_FOUND=pl,ps.NULL=new pd,ps.\u0275prov=Q({token:ps,providedIn:"any",factory:()=>ie(UC)}),ps.__NG_ELEMENT_ID__=-1;var Yt=ps;var FP=new te("");FP.__NG_ELEMENT_ID__=n=>{let e=jt();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&Ce.Optional)return null;throw new j(204,!1)};var LP="ngOriginalError";function Bm(n){return n[LP]}var VT=!0,Zd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VP,e.__NG_ENV_ID__=i=>i;let n=e;return n})(),hg=class extends Zd{constructor(e){super(),this._lView=e}onDestroy(e){return fT(this._lView,e),()=>oP(this._lView,e)}};function VP(){return new hg(_e())}var Ss=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})();var fg=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,tT()&&(this.destroyRef=B(Zd,{optional:!0})??void 0,this.pendingTasks=B(Ss,{optional:!0})??void 0)}emit(e){let t=De(null);try{super.next(e)}finally{De(t)}}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),r&&(r=this.wrapInTimeout(r)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof mt&&e.add(a),a}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},se=fg;function wd(...n){}function UT(n){let e,t;function i(){n=wd;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function sC(n){return queueMicrotask(()=>n()),()=>{n=wd}}var vy="isAngularZone",Ed=vy+"_ID",UP=0,Ee=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new se(!1),this.onMicrotaskEmpty=new se(!1),this.onStable=new se(!1),this.onError=new se(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:s=VT}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&i,o.shouldCoalesceRunChangeDetection=r,o.callbackScheduled=!1,o.scheduleInRootZone=s,$P(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,jP,wd,wd);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},jP={};function Iy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function BP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){UT(()=>{n.callbackScheduled=!1,pg(n),n.isCheckStableRunning=!0,Iy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),pg(n)}function $P(n){let e=()=>{BP(n)},t=UP++;n._inner=n._inner.fork({name:"angular",properties:{[vy]:!0,[Ed]:t,[Ed+t]:!0},onInvokeTask:(i,r,s,o,a,l)=>{if(HP(l))return i.invokeTask(s,o,a,l);try{return oC(n),i.invokeTask(s,o,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),aC(n)}},onInvoke:(i,r,s,o,a,l,u)=>{try{return oC(n),i.invoke(s,o,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!zP(l)&&e(),aC(n)}},onHasTask:(i,r,s,o)=>{i.hasTask(s,o),r===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,pg(n),Iy(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(i,r,s,o)=>(i.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function pg(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function oC(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function aC(n){n._nesting--,Iy(n)}var mg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new se,this.onMicrotaskEmpty=new se,this.onStable=new se,this.onError=new se}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}};function HP(n){return jT(n,"__ignore_ng_zone__")}function zP(n){return jT(n,"__scheduler_tick__")}function jT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Si=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Bm(e);for(;t&&Bm(t);)t=Bm(t);return t||null}},qP=new te("",{providedIn:"root",factory:()=>{let n=B(Ee),e=B(Si);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function GP(){return Go(jt(),_e())}function Go(n,e){return new We(zn(n,e))}var We=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=GP;let n=e;return n})();function WP(n){return n instanceof We?n.nativeElement:n}function KP(){return this._results[Symbol.iterator]()}var gg=class n{get changes(){return this._changes??=new se}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=KP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=IN(e);(this._changesDetected=!vN(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function BT(n){return(n.flags&128)===128}var $T=new Map,QP=0;function YP(){return QP++}function ZP(n){$T.set(n[Hd],n)}function yg(n){$T.delete(n[Hd])}var lC="__ngContext__";function Pr(n,e){xr(e)?(n[lC]=e[Hd],ZP(e)):n[lC]=e}function HT(n){return qT(n[yl])}function zT(n){return qT(n[ni])}function qT(n){for(;n!==null&&!Xi(n);)n=n[ni];return n}var _g;function GT(n){_g=n}function JP(){if(_g!==void 0)return _g;if(typeof document<"u")return document;throw new j(210,!1)}var wy=new te("",{providedIn:"root",factory:()=>XP}),XP="ng",Ey=new te(""),Tt=new te("",{providedIn:"platform",factory:()=>"unknown"});var by=new te(""),Cy=new te("",{providedIn:"root",factory:()=>JP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var ek="h",tk="b";var nk=()=>null;function Ty(n,e,t=!1){return nk(n,e,t)}var WT=!1,ik=new te("",{providedIn:"root",factory:()=>WT});var ed;function rk(){if(ed===void 0&&(ed=null,Qm.trustedTypes))try{ed=Qm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ed}function cC(n){return rk()?.createScriptURL(n)||n}var bd=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${AC})`}};function Ds(n){return n instanceof bd?n.changingThisBreaksApplicationSecurity:n}function Sy(n,e){let t=sk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${AC})`)}return t===e}function sk(n){return n instanceof bd&&n.getTypeName()||null}var ok=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function KT(n){return n=String(n),n.match(ok)?n:"unsafe:"+n}var Jd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Jd||{});function QT(n){let e=ZT();return e?e.sanitize(Jd.URL,n)||"":Sy(n,"URL")?Ds(n):KT(Vd(n))}function ak(n){let e=ZT();if(e)return cC(e.sanitize(Jd.RESOURCE_URL,n)||"");if(Sy(n,"ResourceURL"))return cC(Ds(n));throw new j(904,!1)}function lk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?ak:QT}function YT(n,e,t){return lk(e,t)(n)}function ZT(){let n=_e();return n&&n[Ci].sanitizer}var ck=/^>|^->|<!--|-->|--!>|<!-$/g,uk=/(<|>)/g,dk="\u200B$1\u200B";function hk(n){return n.replace(ck,e=>e.replace(uk,dk))}function JT(n){return n.ownerDocument}function XT(n){return n instanceof Function?n():n}function fk(n){return(n??B(Yt)).get(Tt)==="browser"}var Di=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Di||{}),pk;function Dy(n,e){return pk(n,e)}function So(n,e,t,i,r){if(i!=null){let s,o=!1;Xi(i)?s=i:xr(i)&&(o=!0,i=i[Ji]);let a=Ti(i);n===0&&t!==null?r==null?rS(e,t,a):Cd(e,t,a,r||null,!0):n===1&&t!==null?Cd(e,t,a,r||null,!0):n===2?Ak(e,a,o):n===3&&e.destroyNode(a),s!=null&&Mk(e,n,s,t,r)}}function mk(n,e){return n.createText(e)}function gk(n,e,t){n.setValue(e,t)}function yk(n,e){return n.createComment(hk(e))}function eS(n,e,t){return n.createElement(e,t)}function _k(n,e){tS(n,e),e[Ji]=null,e[gn]=null}function vk(n,e,t,i,r,s){i[Ji]=r,i[gn]=e,th(n,i,t,1,r,s)}function tS(n,e){e[Ci].changeDetectionScheduler?.notify(9),th(n,e,e[gt],2,null,null)}function Ik(n){let e=n[yl];if(!e)return $m(n[he],n);for(;e;){let t=null;if(xr(e))t=e[yl];else{let i=e[Kt];i&&(t=i)}if(!t){for(;e&&!e[ni]&&e!==n;)xr(e)&&$m(e[he],e),e=e[Qt];e===null&&(e=n),xr(e)&&$m(e[he],e),t=e&&e[ni]}e=t}}function wk(n,e,t,i){let r=Kt+i,s=t.length;i>0&&(t[r-1][ni]=e),i<s-Kt?(e[ni]=t[r],VC(t,Kt+i,e)):(t.push(e),e[ni]=null),e[Qt]=t;let o=e[ys];o!==null&&t!==o&&nS(o,e);let a=e[Yi];a!==null&&a.insertView(n),og(e),e[le]|=128}function nS(n,e){let t=n[Fo],i=e[Qt];if(xr(i))n[le]|=yd.HasTransplantedViews;else{let r=i[Qt][Tn];e[Tn]!==r&&(n[le]|=yd.HasTransplantedViews)}t===null?n[Fo]=[e]:t.push(e)}function Ay(n,e){let t=n[Fo],i=t.indexOf(e);t.splice(i,1)}function _l(n,e){if(n.length<=Kt)return;let t=Kt+e,i=n[t];if(i){let r=i[ys];r!==null&&r!==n&&Ay(r,i),e>0&&(n[t-1][ni]=i[ni]);let s=fd(n,Kt+e);_k(i[he],i);let o=s[Yi];o!==null&&o.detachView(s[he]),i[Qt]=null,i[ni]=null,i[le]&=-129}return i}function Xd(n,e){if(!(e[le]&256)){let t=e[gt];t.destroyNode&&th(n,e,t,3,null,null),Ik(e)}}function $m(n,e){if(e[le]&256)return;let t=De(null);try{e[le]&=-129,e[le]|=256,e[Hn]&&Su(e[Hn]),bk(n,e),Ek(n,e),e[he].type===1&&e[gt].destroy();let i=e[ys];if(i!==null&&Xi(e[Qt])){i!==e[Qt]&&Ay(i,e);let r=e[Yi];r!==null&&r.detachView(n)}yg(e)}finally{De(t)}}function Ek(n,e){let t=n.cleanup,i=e[md];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[t[s+1]];t[s].call(o)}i!==null&&(e[md]=null);let r=e[Ar];if(r!==null){e[Ar]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function bk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=e[t[i]];if(!(r instanceof ws)){let s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];wi(4,a,l);try{l.call(a)}finally{wi(5,a,l)}}else{wi(4,r,s);try{s.call(r)}finally{wi(5,r,s)}}}}}function iS(n,e,t){return Ck(n,e.parent,t)}function Ck(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[Ji];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=n.data[i.directiveStart+r];if(s===bi.None||s===bi.Emulated)return null}return zn(i,t)}}function Cd(n,e,t,i,r){n.insertBefore(e,t,i,r)}function rS(n,e,t){n.appendChild(e,t)}function uC(n,e,t,i,r){i!==null?Cd(n,e,t,i,r):rS(n,e,t)}function sS(n,e){return n.parentNode(e)}function Tk(n,e){return n.nextSibling(e)}function oS(n,e,t){return Dk(n,e,t)}function Sk(n,e,t){return n.type&40?zn(n,t):null}var Dk=Sk,dC;function eh(n,e,t,i){let r=iS(n,i,e),s=e[gt],o=i.parent||e[gn],a=oS(o,i,e);if(r!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)uC(s,r,t[l],a,!1);else uC(s,r,t,a,!1);dC!==void 0&&dC(s,i,e,t,r)}function hl(n,e){if(e!==null){let t=e.type;if(t&3)return zn(e,n);if(t&4)return vg(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return hl(n,i);{let r=n[e.index];return Xi(r)?vg(-1,r):Ti(r)}}else{if(t&128)return hl(n,e.next);if(t&32)return Dy(e,n)()||Ti(n[e.index]);{let i=aS(n,e);if(i!==null){if(Array.isArray(i))return i[0];let r=vs(n[Tn]);return hl(r,i)}else return hl(n,e.next)}}}return null}function aS(n,e){if(e!==null){let i=n[Tn][gn],r=e.projection;return i.projection[r]}return null}function vg(n,e){let t=Kt+n+1;if(t<e.length){let i=e[t],r=i[he].firstChild;if(r!==null)return hl(i,r)}return e[_s]}function Ak(n,e,t){n.removeChild(null,e,t)}function xy(n,e,t,i,r,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=i[t.index],l=t.type;if(o&&e===0&&(a&&Pr(Ti(a),i),t.flags|=2),(t.flags&32)!==32)if(l&8)xy(n,e,t.child,i,r,s,!1),So(e,n,r,a,s);else if(l&32){let u=Dy(t,i),d;for(;d=u();)So(e,n,r,d,s);So(e,n,r,a,s)}else l&16?lS(n,e,i,t,r,s):So(e,n,r,a,s);t=o?t.projectionNext:t.next}}function th(n,e,t,i,r,s){xy(t,i,n.firstChild,e,r,s,!1)}function xk(n,e,t){let i=e[gt],r=iS(n,t,e),s=t.parent||e[gn],o=oS(s,t,e);lS(i,0,e,t,r,o)}function lS(n,e,t,i,r,s){let o=t[Tn],l=o[gn].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];So(e,n,r,d,s)}else{let u=l,d=o[Qt];BT(i)&&(u.flags|=128),xy(n,e,u,d,r,s,!0)}}function Mk(n,e,t,i,r){let s=t[_s],o=Ti(t);s!==o&&So(e,n,i,s,r);for(let a=Kt;a<t.length;a++){let l=t[a];th(l[he],l,n,e,i,s)}}function Rk(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=i.indexOf("-")===-1?void 0:Di.DashCase;r==null?n.removeStyle(t,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Di.Important),n.setStyle(t,i,r,s))}}function Ok(n,e,t){n.setAttribute(e,"style",t)}function cS(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function uS(n,e,t){let{mergedAttrs:i,classes:r,styles:s}=t;i!==null&&eg(n,e,i),r!==null&&cS(n,e,r),s!==null&&Ok(n,e,s)}var ri={};function N(n=1){dS(Et(),_e(),Ur()+n,!1)}function dS(n,e,t,i){if(!i)if((e[le]&3)===3){let s=n.preOrderCheckHooks;s!==null&&od(e,s,t)}else{let s=n.preOrderHooks;s!==null&&ad(e,s,0,t)}Is(t)}function V(n,e=Ce.Default){let t=_e();if(t===null)return ie(n,e);let i=jt();return PT(i,t,an(n),e)}function hS(){let n="invalid";throw new Error(n)}function fS(n,e,t,i,r,s){let o=De(null);try{let a=null;r&Mr.SignalBased&&(a=e[i][vi]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&Mr.HasDecoratorInputTransform&&(s=n.inputTransforms[i].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,i):sT(e,a,i,s)}finally{De(o)}}function Nk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Is(~r);else{let s=r,o=t[++i],a=t[++i];gP(o,s);let l=e[s];a(2,l)}}}finally{Is(-1)}}function nh(n,e,t,i,r,s,o,a,l,u,d){let p=e.blueprint.slice();return p[Ji]=r,p[le]=i|4|128|8|64,(u!==null||n&&n[le]&2048)&&(p[le]|=2048),dT(p),p[Qt]=p[zo]=n,p[Wt]=t,p[Ci]=o||n&&n[Ci],p[gt]=a||n&&n[gt],p[ko]=l||n&&n[ko]||null,p[gn]=s,p[Hd]=YP(),p[Po]=d,p[iT]=u,p[Tn]=e.type==2?n[Tn]:p,p}function Wo(n,e,t,i,r){let s=n.data[e];if(s===null)s=Pk(n,e,t,i,r),mP()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=i,s.attrs=r;let o=hP();s.injectorIndex=o===null?-1:o.injectorIndex}return Ts(s,!0),s}function Pk(n,e,t,i,r){let s=yT(),o=dy(),a=o?s:s&&s.parent,l=n.data[e]=jk(n,a,t,e,i,r);return n.firstChild===null&&(n.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function pS(n,e,t,i){if(t===0)return-1;let r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function mS(n,e,t,i,r){let s=Ur(),o=i&2;try{Is(-1),o&&e.length>cn&&dS(n,e,cn,!1),wi(o?2:0,r),t(i,r)}finally{Is(s),wi(o?3:1,r)}}function My(n,e,t){if(ly(e)){let i=De(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=n.data[o];if(a.contentQueries){let l=t[o];a.contentQueries(1,l,o)}}}finally{De(i)}}}function Ry(n,e,t){mT()&&(Gk(n,e,t,zn(t,e)),(t.flags&64)===64&&vS(n,e,t))}function Oy(n,e,t=zn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?t(e,n):n[o];n[r++]=a}}}function gS(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ny(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ny(n,e,t,i,r,s,o,a,l,u,d){let p=cn+i,m=p+r,y=kk(p,m),v=typeof u=="function"?u():u;return y[he]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:d}}function kk(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:ri);return t}function Fk(n,e,t,i){let s=i.get(ik,WT)||t===bi.ShadowDom,o=n.selectRootElement(e,s);return Lk(o),o}function Lk(n){Vk(n)}var Vk=()=>null;function Uk(n,e,t,i){let r=ES(e);r.push(t),n.firstCreatePass&&bS(n).push(i,r.length-1)}function jk(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return gT()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function hC(n,e,t,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=Mr.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(r!==null){if(!r.hasOwnProperty(s))continue;u=r[s]}n===0?fC(i,t,u,a,l):fC(i,t,u,a)}return i}function fC(n,e,t,i,r){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,i):s=n[t]=[e,i],r!==void 0&&s.push(r)}function Bk(n,e,t){let i=e.directiveStart,r=e.directiveEnd,s=n.data,o=e.attrs,a=[],l=null,u=null;for(let d=i;d<r;d++){let p=s[d],m=t?t.get(p):null,y=m?m.inputs:null,v=m?m.outputs:null;l=hC(0,p.inputs,d,l,y),u=hC(1,p.outputs,d,u,v);let T=l!==null&&o!==null&&!sy(e)?iF(l,d,o):null;a.push(T)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function $k(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function yS(n,e,t,i,r,s,o,a){let l=zn(e,t),u=e.inputs,d;!a&&u!=null&&(d=u[i])?(ky(n,t,d,i,r),zd(e)&&Hk(t,e.index)):e.type&3?(i=$k(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function Hk(n,e){let t=Vr(e,n);t[le]&16||(t[le]|=64)}function Py(n,e,t,i){if(mT()){let r=i===null?null:{"":-1},s=Kk(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&_S(n,e,t,o,r,a),r&&Qk(t,i,r)}t.mergedAttrs=ml(t.mergedAttrs,t.attrs)}function _S(n,e,t,i,r,s){for(let u=0;u<i.length;u++)ug(Id(t,e),n,i[u].type);Zk(t,n.data.length,i.length);for(let u=0;u<i.length;u++){let d=i[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=pS(n,e,i.length,null);for(let u=0;u<i.length;u++){let d=i[u];t.mergedAttrs=ml(t.mergedAttrs,d.hostAttrs),Jk(n,t,e,l,d),Yk(l,d,r),d.contentQueries!==null&&(t.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(t.flags|=64);let p=d.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}Bk(n,t,s)}function zk(n,e,t,i,r){let s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;qk(o)!=a&&o.push(a),o.push(t,i,s)}}function qk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Gk(n,e,t,i){let r=t.directiveStart,s=t.directiveEnd;zd(t)&&Xk(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Id(t,e),Pr(i,e);let o=t.initialInputs;for(let a=r;a<s;a++){let l=n.data[a],u=Es(e,n,a,t);if(Pr(u,e),o!==null&&nF(e,a-r,u,l,t,o),Or(l)){let d=Vr(t.index,e);d[Wt]=Es(e,n,a,t)}}}function vS(n,e,t){let i=t.directiveStart,r=t.directiveEnd,s=t.index,o=yP();try{Is(s);for(let a=i;a<r;a++){let l=n.data[a],u=e[a];ag(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&Wk(l,u)}}finally{Is(-1),ag(o)}}function Wk(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Kk(n,e){let t=n.directiveRegistry,i=null,r=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(zC(e,o.selectors,!1))if(i||(i=[]),Or(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;Ig(n,e,l)}else i.unshift(o),Ig(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function Ig(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Qk(n,e,t){if(e){let i=n.localNames=[];for(let r=0;r<e.length;r+=2){let s=t[e[r+1]];if(s==null)throw new j(-301,!1);i.push(e[r],s)}}}function Yk(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Or(e)&&(t[""]=n)}}function Zk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function Jk(n,e,t,i,r){n.data[i]=r;let s=r.factory||(r.factory=Mo(r.type,!0)),o=new ws(s,Or(r),V);n.blueprint[i]=o,t[i]=o,zk(n,e,i,pS(n,t,r.hostVars,ri),r)}function Xk(n,e,t){let i=zn(e,n),r=gS(t),s=n[Ci].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=ih(n,nh(n,r,null,o,i,e,null,s.createRenderer(i,t),null,null,null));n[e.index]=a}function eF(n,e,t,i,r,s){let o=zn(n,e);tF(e[gt],o,s,n.value,t,i,r)}function tF(n,e,t,i,r,s,o){if(s==null)n.removeAttribute(e,r,t);else{let a=o==null?Vd(s):o(s,i||"",r);n.setAttribute(e,r,a,t)}}function nF(n,e,t,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],u=o[a++],d=o[a++],p=o[a++];fS(i,t,l,u,d,p)}}function iF(n,e,t){let i=null,r=0;for(;r<t.length;){let s=t[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){i===null&&(i=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],t[r+1]);break}}r+=2}return i}function IS(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function wS(n,e){let t=n.contentQueries;if(t!==null){let i=De(null);try{for(let r=0;r<t.length;r+=2){let s=t[r],o=t[r+1];if(o!==-1){let a=n.data[o];fy(s),a.contentQueries(2,e[o],o)}}}finally{De(i)}}}function ih(n,e){return n[yl]?n[Zb][ni]=e:n[yl]=e,n[Zb]=e,e}function wg(n,e,t){fy(0);let i=De(null);try{e(n,t)}finally{De(i)}}function ES(n){return n[md]??=[]}function bS(n){return n.cleanup??=[]}function CS(n,e){let t=n[ko],i=t?t.get(Si,null):null;i&&i.handleError(e)}function ky(n,e,t,i,r){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],l=t[s++],u=e[o],d=n.data[o];fS(d,u,i,a,l,r)}}function rF(n,e,t){let i=uT(e,n);gk(n[gt],i,t)}function sF(n,e){let t=Vr(e,n),i=t[he];oF(i,t);let r=t[Ji];r!==null&&t[Po]===null&&(t[Po]=Ty(r,t[ko])),Fy(i,t,t[Wt])}function oF(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Fy(n,e,t){py(e);try{let i=n.viewQuery;i!==null&&wg(1,i,t);let r=n.template;r!==null&&mS(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Yi]?.finishViewCreation(n),n.staticContentQueries&&wS(n,e),n.staticViewQueries&&wg(2,n.viewQuery,t);let s=n.components;s!==null&&aF(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[le]&=-5,my()}}function aF(n,e){for(let t=0;t<e.length;t++)sF(n,e[t])}function Cl(n,e,t,i){let r=De(null);try{let s=e.tView,a=n[le]&4096?4096:16,l=nh(n,s,t,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),u=n[e.index];l[ys]=u;let d=n[Yi];return d!==null&&(l[Yi]=d.createEmbeddedView(s)),Fy(s,l,t),l}finally{De(r)}}function TS(n,e){let t=Kt+e;if(t<n.length)return n[t]}function Lo(n,e){return!e||e.firstChild===null||BT(n)}function Tl(n,e,t,i=!0){let r=e[he];if(wk(r,e,n,t),i){let o=vg(t,n),a=e[gt],l=sS(a,n[_s]);l!==null&&vk(r,n[gn],a,e,l,o)}let s=e[Po];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function SS(n,e){let t=_l(n,e);return t!==void 0&&Xd(t[he],t),t}function Td(n,e,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&i.push(Ti(s)),Xi(s)&&lF(s,i);let o=t.type;if(o&8)Td(n,e,t.child,i);else if(o&32){let a=Dy(t,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=aS(e,t);if(Array.isArray(a))i.push(...a);else{let l=vs(e[Tn]);Td(l[he],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function lF(n,e){for(let t=Kt;t<n.length;t++){let i=n[t],r=i[he].firstChild;r!==null&&Td(i[he],i,r,e)}n[_s]!==n[Ji]&&e.push(n[_s])}var DS=[];function cF(n){return n[Hn]??uF(n)}function uF(n){let e=DS.pop()??Object.create(hF);return e.lView=n,e}function dF(n){n.lView[Hn]!==n&&(n.lView=null,DS.push(n))}var hF=me(k({},lo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Wd(n.lView)},consumerOnSignalRead(){this.lView[Hn]=this}});function fF(n){let e=n[Hn]??Object.create(pF);return e.lView=n,e}var pF=me(k({},lo),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=vs(n.lView);for(;e&&!AS(e[he]);)e=vs(e);e&&hT(e)},consumerOnSignalRead(){this.lView[Hn]=this}});function AS(n){return n.type!==2}var mF=100;function xS(n,e=!0,t=0){let i=n[Ci],r=i.rendererFactory,s=!1;s||r.begin?.();try{gF(n,t)}catch(o){throw e&&CS(n,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function gF(n,e){let t=_T();try{Xb(!0),Eg(n,e);let i=0;for(;Gd(n);){if(i===mF)throw new j(103,!1);i++,Eg(n,1)}}finally{Xb(t)}}function yF(n,e,t,i){let r=e[le];if((r&256)===256)return;let s=!1,o=!1;!s&&e[Ci].inlineEffectRunner?.flush(),py(e);let a=!0,l=null,u=null;s||(AS(n)?(u=cF(e),l=al(u)):nb()===null?(a=!1,u=fF(e),l=al(u)):e[Hn]&&(Su(e[Hn]),e[Hn]=null));try{dT(e),pP(n.bindingStartIndex),t!==null&&mS(n,e,t,2,i);let d=(r&3)===3;if(!s)if(d){let y=n.preOrderCheckHooks;y!==null&&od(e,y,null)}else{let y=n.preOrderHooks;y!==null&&ad(e,y,0,null),Vm(e,0)}if(o||_F(e),MS(e,0),n.contentQueries!==null&&wS(n,e),!s)if(d){let y=n.contentCheckHooks;y!==null&&od(e,y)}else{let y=n.contentHooks;y!==null&&ad(e,y,1),Vm(e,1)}Nk(n,e);let p=n.components;p!==null&&OS(e,p,0);let m=n.viewQuery;if(m!==null&&wg(2,m,i),!s)if(d){let y=n.viewCheckHooks;y!==null&&od(e,y)}else{let y=n.viewHooks;y!==null&&ad(e,y,2),Vm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[sd]){for(let y of e[sd])y();e[sd]=null}s||(e[le]&=-73)}catch(d){throw s||Wd(e),d}finally{u!==null&&(Cu(u,l),a&&dF(u)),my()}}function MS(n,e){for(let t=HT(n);t!==null;t=zT(t))for(let i=Kt;i<t.length;i++){let r=t[i];RS(r,e)}}function _F(n){for(let e=HT(n);e!==null;e=zT(e)){if(!(e[le]&yd.HasTransplantedViews))continue;let t=e[Fo];for(let i=0;i<t.length;i++){let r=t[i];hT(r)}}}function vF(n,e,t){let i=Vr(e,n);RS(i,t)}function RS(n,e){uy(n)&&Eg(n,e)}function Eg(n,e){let i=n[he],r=n[le],s=n[Hn],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&Tu(s)),o||=!1,s&&(s.dirty=!1),n[le]&=-9217,o)yF(i,n,i.template,n[Wt]);else if(r&8192){MS(n,1);let a=i.components;a!==null&&OS(n,a,1)}}function OS(n,e,t){for(let i=0;i<e.length;i++)vF(n,e[i],t)}function Ly(n,e){let t=_T()?64:1088;for(n[Ci].changeDetectionScheduler?.notify(e);n;){n[le]|=t;let i=vs(n);if(rg(n)&&!i)return n;n=i}return null}var bs=class{get rootNodes(){let e=this._lView,t=e[he];return Td(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[le]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Qt];if(Xi(e)){let t=e[gd],i=t?t.indexOf(this):-1;i>-1&&(_l(e,i),fd(t,i))}this._attachedToViewContainer=!1}Xd(this._lView[he],this._lView)}onDestroy(e){fT(this._lView,e)}markForCheck(){Ly(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){og(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,xS(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=rg(this._lView),t=this._lView[ys];t!==null&&!e&&Ay(t,this._lView),tS(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=rg(this._lView),i=this._lView[ys];i!==null&&!t&&nS(i,this._lView),og(this._lView)}},ii=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EF;let n=e;return n})(),IF=ii,wF=class extends IF{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let r=Cl(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new bs(r)}};function EF(){return rh(jt(),_e())}function rh(n,e){return n.type&4?new wF(e,n,Go(n,e)):null}var _Q=new RegExp(`^(\\d+)*(${tk}|${ek})*(.*)`);var bF=()=>null;function Vo(n,e){return bF(n,e)}var Uo=class{},Vy=new te("",{providedIn:"root",factory:()=>!1});var NS=new te(""),PS=new te(""),bg=class{},Sd=class{};function CF(n){let e=Error(`No component factory found for ${ln(n)}.`);return e[TF]=n,e}var TF="ngComponent";var Cg=class{resolveComponentFactory(e){throw CF(e)}},Gy=class Gy{};Gy.NULL=new Cg;var jo=Gy,kr=class{},St=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>SF();let n=e;return n})();function SF(){let n=_e(),e=jt(),t=Vr(e.index,n);return(xr(t)?t:n)[gt]}var DF=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>null});let n=e;return n})();function Dd(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Ym(r,a);else if(s==2){let l=a,u=e[++o];i=Ym(i,l+": "+u+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}var Ad=class extends jo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Rr(e);return new Bo(t,this.ngModule)}};function pC(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let r=n[i];if(r===void 0)continue;let s=Array.isArray(r),o=s?r[0]:r,a=s?r[1]:Mr.None;e?t.push({propName:o,templateName:i,isSignal:(a&Mr.SignalBased)!==0}):t.push({propName:o,templateName:i})}return t}function AF(n){let e=n.toLowerCase();return e==="svg"?cT:e==="math"?tP:null}var Bo=class extends Sd{get inputs(){let e=this.componentDef,t=e.inputTransforms,i=pC(e.inputs,!0);if(t!==null)for(let r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return pC(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=kN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=De(null);try{r=r||this.ngModule;let o=r instanceof Cn?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new lg(e,o):e,l=a.get(kr,null);if(l===null)throw new j(407,!1);let u=a.get(DF,null),d=a.get(Uo,null),p={rendererFactory:l,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:d},m=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",v=i?Fk(m,i,this.componentDef.encapsulation,a):eS(m,y,AF(y)),T=512;this.componentDef.signals?T|=4096:this.componentDef.onPush||(T|=16);let S=null;v!==null&&(S=Ty(v,a,!0));let O=Ny(0,null,null,1,0,null,null,null,null,null,null),L=nh(null,O,null,T,null,null,p,m,a,null,S);py(L);let q,K,Te=null;try{let X=this.componentDef,E,_=null;X.findHostDirectiveDefs?(E=[],_=new Map,X.findHostDirectiveDefs(X,E,_),E.push(X)):E=[X];let I=xF(L,v);Te=MF(I,v,X,E,L,p,m),K=cy(O,cn),v&&NF(m,X,v,i),t!==void 0&&PF(K,this.ngContentSelectors,t),q=OF(Te,X,E,_,L,[kF]),Fy(O,L,null)}catch(X){throw Te!==null&&yg(Te),yg(L),X}finally{my()}return new Tg(this.componentType,q,Go(K,L),L,K)}finally{De(s)}}},Tg=class extends bg{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new bs(r,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;ky(s[he],s,r,e,t),this.previousInputValues.set(e,t);let o=Vr(this._tNode.index,s);Ly(o,1)}}get injector(){return new gs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function xF(n,e){let t=n[he],i=cn;return n[i]=e,Wo(t,i,2,"#host",null)}function MF(n,e,t,i,r,s,o){let a=r[he];RF(i,n,e,o);let l=null;e!==null&&(l=Ty(e,r[ko]));let u=s.rendererFactory.createRenderer(e,t),d=16;t.signals?d=4096:t.onPush&&(d=64);let p=nh(r,gS(t),null,d,r[n.index],n,s,u,null,null,l);return a.firstCreatePass&&Ig(a,n,i.length-1),ih(r,p),r[n.index]=p}function RF(n,e,t,i){for(let r of n)e.mergedAttrs=ml(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Dd(e,e.mergedAttrs,!0),t!==null&&uS(i,t,e))}function OF(n,e,t,i,r,s){let o=jt(),a=r[he],l=zn(o,r);_S(a,r,o,t,null,i);for(let d=0;d<t.length;d++){let p=o.directiveStart+d,m=Es(r,a,p,o);Pr(m,r)}vS(a,r,o),l&&Pr(l,r);let u=Es(r,a,o.directiveStart+o.componentOffset,o);if(n[Wt]=r[Wt]=u,s!==null)for(let d of s)d(u,e);return My(a,o,r),u}function NF(n,e,t,i){if(i)eg(n,t,["ng-version","18.2.2"]);else{let{attrs:r,classes:s}=FN(e.selectors[0]);r&&eg(n,t,r),s&&s.length>0&&cS(n,t,s.join(" "))}}function PF(n,e,t){let i=n.projection=[];for(let r=0;r<e.length;r++){let s=t[r];i.push(s!=null?Array.from(s):null)}}function kF(){let n=jt();Yd(_e()[he],n)}var si=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FF;let n=e;return n})();function FF(){let n=jt();return FS(n,_e())}var LF=si,kS=class extends LF{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Go(this._hostTNode,this._hostLView)}get injector(){return new gs(this._hostTNode,this._hostLView)}get parentInjector(){let e=yy(this._hostTNode,this._hostLView);if(AT(e)){let t=vd(e,this._hostLView),i=_d(e),r=t[he].data[i+8];return new gs(r,t)}else return new gs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mC(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,t,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=Vo(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,r,Lo(this._hostTNode,o)),a}createComponent(e,t,i,r,s){let o=e&&!ZN(e),a;if(o)a=t;else{let v=t||{};a=v.index,i=v.injector,r=v.projectableNodes,s=v.environmentInjector||v.ngModuleRef}let l=o?e:new Bo(Rr(e)),u=i||this.parentInjector;if(!s&&l.ngModule==null){let T=(o?u:this.parentInjector).get(Cn,null);T&&(s=T)}let d=Rr(l.componentType??{}),p=Vo(this._lContainer,d?.id??null),m=p?.firstChild??null,y=l.create(u,r,m,s);return this.insertImpl(y.hostView,a,Lo(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let r=e._lView;if(rP(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[Qt],u=new kS(l,l[gn],l[Qt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return Tl(o,r,s,i),e.attachToViewContainerRef(),VC(Hm(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mC(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=_l(this._lContainer,t);i&&(fd(Hm(this._lContainer),t),Xd(i[he],i))}detach(e){let t=this._adjustIndex(e,-1),i=_l(this._lContainer,t);return i&&fd(Hm(this._lContainer),t)!=null?new bs(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function mC(n){return n[gd]}function Hm(n){return n[gd]||(n[gd]=[])}function FS(n,e){let t,i=e[n.index];return Xi(i)?t=i:(t=IS(i,e,null,n),e[n.index]=t,ih(e,t)),UF(t,e,n,i),new kS(t,n,e)}function VF(n,e){let t=n[gt],i=t.createComment(""),r=zn(e,n),s=sS(t,r);return Cd(t,s,i,Tk(t,r),!1),i}var UF=$F,jF=()=>!1;function BF(n,e,t){return jF(n,e,t)}function $F(n,e,t,i){if(n[_s])return;let r;t.type&8?r=Ti(i):r=VF(e,t),n[_s]=r}var Sg=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Dg=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];r.push(a.clone())}return new n(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Uy(e,t).matches!==null&&this.queries[t].setDirty()}},xd=class{constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=YF(e):this.predicate=e}},Ag=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let r=t!==null?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xg=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let s=i[r];this.matchTNodeWithReadOption(e,t,HF(t,s)),this.matchTNodeWithReadOption(e,t,ld(t,e,s,!1,!1))}else i===ii?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ld(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===We||r===si||r===ii&&t.type&4)this.addMatch(t.index,-2);else{let s=ld(t,e,r,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function HF(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function zF(n,e){return n.type&11?Go(n,e):n.type&4?rh(n,e):null}function qF(n,e,t,i){return t===-1?zF(e,n):t===-2?GF(n,e,i):Es(n,n[he],t,e)}function GF(n,e,t){if(t===We)return Go(e,n);if(t===ii)return rh(e,n);if(t===si)return FS(e,n)}function LS(n,e,t,i){let r=e[Yi].queries[i];if(r.matches===null){let s=n.data,o=t.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let d=s[u];a.push(qF(e,d,o[l+1],t.metadata.read))}}r.matches=a}return r.matches}function Mg(n,e,t,i){let r=n.queries.getByIndex(t),s=r.matches;if(s!==null){let o=LS(n,e,r,t);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)i.push(o[a/2]);else{let u=s[a+1],d=e[-l];for(let p=Kt;p<d.length;p++){let m=d[p];m[ys]===m[Qt]&&Mg(m[he],m,u,i)}if(d[Fo]!==null){let p=d[Fo];for(let m=0;m<p.length;m++){let y=p[m];Mg(y[he],y,u,i)}}}}}return i}function WF(n,e){return n[Yi].queries[e].queryList}function VS(n,e,t){let i=new gg((t&4)===4);return Uk(n,e,i,i.destroy),(e[Yi]??=new Dg).queries.push(new Sg(i))-1}function KF(n,e,t){let i=Et();return i.firstCreatePass&&(US(i,new xd(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),VS(i,_e(),e)}function QF(n,e,t,i){let r=Et();if(r.firstCreatePass){let s=jt();US(r,new xd(e,t,i),s.index),ZF(r,n),(t&2)===2&&(r.staticContentQueries=!0)}return VS(r,_e(),t)}function YF(n){return n.split(",").map(e=>e.trim())}function US(n,e,t){n.queries===null&&(n.queries=new Ag),n.queries.track(new xg(e,t))}function ZF(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Uy(n,e){return n.queries.getByIndex(e)}function JF(n,e){let t=n[he],i=Uy(t,e);return i.crossesNgTemplate?Mg(t,n,e,[]):LS(t,n,i,e)}var gC=new Set;function oi(n){gC.has(n)||(gC.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function XF(n){return typeof n=="function"&&n[vi]!==void 0}function Bt(n,e){oi("NgSignals");let t=pb(n),i=t[vi];return e?.equal&&(i.equal=e.equal),t.set=r=>mm(i,r),t.update=r=>mb(i,r),t.asReadonly=eL.bind(t),t}function eL(){let n=this[vi];if(n.readonlyFn===void 0){let e=()=>this();e[vi]=n,n.readonlyFn=e}return n.readonlyFn}function jS(n){return XF(n)&&typeof n.set=="function"}function tL(n){return Object.getPrototypeOf(n.prototype).constructor}function Ze(n){let e=tL(n.type),t=!0,i=[n];for(;e;){let r;if(Or(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);let o=n;o.inputs=td(n.inputs),o.inputTransforms=td(n.inputTransforms),o.declaredInputs=td(n.declaredInputs),o.outputs=td(n.outputs);let a=r.hostBindings;a&&oL(n,a);let l=r.viewQuery,u=r.contentQueries;if(l&&rL(n,l),u&&sL(n,u),nL(n,r),eN(n.outputs,r.outputs),Or(r)&&r.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Ze&&(t=!1)}}e=Object.getPrototypeOf(e)}iL(i)}function nL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let i=e.inputs[t];if(i!==void 0&&(n.inputs[t]=i,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;n.inputTransforms??={},n.inputTransforms[r]=e.inputTransforms[r]}}}function iL(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){let r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ml(r.hostAttrs,t=ml(t,r.hostAttrs))}}function td(n){return n===Ro?{}:n===mn?[]:n}function rL(n,e){let t=n.viewQuery;t?n.viewQuery=(i,r)=>{e(i,r),t(i,r)}:n.viewQuery=e}function sL(n,e){let t=n.contentQueries;t?n.contentQueries=(i,r,s)=>{e(i,r,s),t(i,r,s)}:n.contentQueries=e}function oL(n,e){let t=n.hostBindings;t?n.hostBindings=(i,r)=>{e(i,r),t(i,r)}:n.hostBindings=e}function un(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i];Array.isArray(r)&&r[3]&&(t[i]=r[3])}n.inputTransforms=t}var Fr=class{},vl=class{};var Rg=class extends Fr{constructor(e,t,i,r=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ad(this);let s=KC(e);this._bootstrapComponents=XT(s.bootstrap),this._r3Injector=LT(e,t,[{provide:Fr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver},...i],ln(e),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Og=class extends vl{constructor(e){super(),this.moduleType=e}create(e){return new Rg(this.moduleType,e,[])}};var Md=class extends Fr{constructor(e){super(),this.componentFactoryResolver=new Ad(this),this.instance=null;let t=new gl([...e.providers,{provide:Fr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],e.parent||ay(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function sh(n,e,t=null){return new Md({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function BS(n){return jy(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function aL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function jy(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Sl(n,e,t){return n[e]=t}function lL(n,e){return n[e]}function Sn(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function $S(n,e,t,i){let r=Sn(n,e,t);return Sn(n,e+1,i)||r}function cL(n,e,t,i,r){let s=$S(n,e,t,i);return Sn(n,e+2,r)||s}function uL(n){return(n.flags&32)===32}function dL(n,e,t,i,r,s,o,a,l){let u=e.consts,d=Wo(e,n,4,o||null,a||null);Py(e,t,d,Nr(u,l)),Yd(e,d);let p=d.tView=Ny(2,d,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),p.queries=e.queries.embeddedTView(d)),d}function Rd(n,e,t,i,r,s,o,a,l,u){let d=t+cn,p=e.firstCreatePass?dL(d,e,n,i,r,s,o,a,l):e.data[d];Ts(p,!1);let m=hL(e,n,p,t);Kd()&&eh(e,n,m,p),Pr(m,n);let y=IS(m,n,m,p);return n[d]=y,ih(n,y),BF(y,p,n),qd(p)&&Ry(e,n,p),l!=null&&Oy(n,p,u),p}function W(n,e,t,i,r,s,o,a){let l=_e(),u=Et(),d=Nr(u.consts,s);return Rd(l,u,n,e,t,i,r,d,o,a),W}var hL=fL;function fL(n,e,t,i){return Qd(!0),e[gt].createComment("")}var Do=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Do||{}),HS=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new e});let n=e;return n})(),ms=class ms{constructor(){this.ngZone=B(Ee),this.scheduler=B(Uo),this.errorHandler=B(Si,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of ms.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(i){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};ms.PHASES=[Do.EarlyRead,Do.Write,Do.MixedReadWrite,Do.Read],ms.\u0275prov=Q({token:ms,providedIn:"root",factory:()=>new ms});var Ng=ms,Pg=class{constructor(e,t,i,r){this.impl=e,this.hooks=t,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function By(n,e){!e?.injector&&nT(By);let t=e?.injector??B(Yt);return fk(t)?(oi("NgAfterNextRender"),mL(n,t,e,!0)):gL}function pL(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function mL(n,e,t,i){let r=e.get(HS);r.impl??=e.get(Ng);let s=t?.phase??Do.MixedReadWrite,o=new Pg(r.impl,pL(n,s),i,e.get(Zd));return r.impl.register(o),o}var gL={destroy(){}};function oe(n,e,t,i){let r=_e(),s=qo();if(Sn(r,s,e)){let o=Et(),a=gy();eF(a,r,n,e,t,i)}return oe}function yL(n,e,t,i){return Sn(n,qo(),t)?e+Vd(t)+i:ri}function nd(n,e){return n<<17|e<<2}function Cs(n){return n>>17&32767}function _L(n){return(n&2)==2}function vL(n,e){return n&131071|e<<17}function kg(n){return n|2}function $o(n){return(n&131068)>>2}function zm(n,e){return n&-131069|e<<2}function IL(n){return(n&1)===1}function Fg(n){return n|1}function wL(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Cs(o),l=$o(o);n[i]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||El(p,d)>0)&&(u=!0)}else d=t;if(r)if(l!==0){let m=Cs(n[a+1]);n[i+1]=nd(m,a),m!==0&&(n[m+1]=zm(n[m+1],i)),n[a+1]=vL(n[a+1],i)}else n[i+1]=nd(a,0),a!==0&&(n[a+1]=zm(n[a+1],i)),a=i;else n[i+1]=nd(l,0),a===0?a=i:n[l+1]=zm(n[l+1],i),l=i;u&&(n[i+1]=kg(n[i+1])),yC(n,d,i,!0),yC(n,d,i,!1),EL(e,d,n,i,s),o=nd(a,l),s?e.classBindings=o:e.styleBindings=o}function EL(n,e,t,i,r){let s=r?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&El(s,e)>=0&&(t[i+1]=Fg(t[i+1]))}function yC(n,e,t,i){let r=n[t+1],s=e===null,o=i?Cs(r):$o(r),a=!1;for(;o!==0&&(a===!1||s);){let l=n[o],u=n[o+1];bL(l,e)&&(a=!0,n[o+1]=i?Fg(u):kg(u)),o=i?Cs(u):$o(u)}a&&(n[t+1]=i?kg(r):Fg(r))}function bL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?El(n,e)>=0:!1}var Ot={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function zS(n){return n.substring(Ot.key,Ot.keyEnd)}function CL(n){return n.substring(Ot.value,Ot.valueEnd)}function TL(n){return WS(n),qS(n,Ho(n,0,Ot.textEnd))}function qS(n,e){let t=Ot.textEnd;return t===e?-1:(e=Ot.keyEnd=DL(n,Ot.key=e,t),Ho(n,e,t))}function SL(n){return WS(n),GS(n,Ho(n,0,Ot.textEnd))}function GS(n,e){let t=Ot.textEnd,i=Ot.key=Ho(n,e,t);return t===i?-1:(i=Ot.keyEnd=AL(n,i,t),i=_C(n,i,t,58),i=Ot.value=Ho(n,i,t),i=Ot.valueEnd=xL(n,i,t),_C(n,i,t,59))}function WS(n){Ot.key=0,Ot.keyEnd=0,Ot.value=0,Ot.valueEnd=0,Ot.textEnd=n.length}function Ho(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function DL(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function AL(n,e,t){let i;for(;e<t&&((i=n.charCodeAt(e))===45||i===95||(i&-33)>=65&&(i&-33)<=90||i>=48&&i<=57);)e++;return e}function _C(n,e,t,i){return e=Ho(n,e,t),e<t&&e++,e}function xL(n,e,t){let i=-1,r=-1,s=-1,o=e,a=o;for(;o<t;){let l=n.charCodeAt(o++);if(l===59)return a;l===34||l===39?a=o=vC(n,l,o,t):e===o-4&&s===85&&r===82&&i===76&&l===40?a=o=vC(n,41,o,t):l>32&&(a=o),s=r,r=i,i=l&-33}return a}function vC(n,e,t,i){let r=-1,s=t;for(;s<i;){let o=n.charCodeAt(s++);if(o==e&&r!==92)return s;o==92&&r===92?r=0:r=o}throw new Error}function x(n,e,t){let i=_e(),r=qo();if(Sn(i,r,e)){let s=Et(),o=gy();yS(s,o,i,n,e,i[gt],t,!1)}return x}function Lg(n,e,t,i,r){let s=e.inputs,o=r?"class":"style";ky(n,t,s[o],o,i)}function xi(n,e){return OL(n,e,null,!0),xi}function oh(n){KS(ZS,ML,n,!1)}function ML(n,e){for(let t=SL(e);t>=0;t=GS(e,t))ZS(n,zS(e),CL(e))}function Je(n){KS(VL,RL,n,!0)}function RL(n,e){for(let t=TL(e);t>=0;t=qS(e,t))Bd(n,zS(e),!0)}function OL(n,e,t,i){let r=_e(),s=Et(),o=vT(2);if(s.firstUpdatePass&&YS(s,n,o,i),e!==ri&&Sn(r,o,e)){let a=s.data[Ur()];JS(s,a,r,r[gt],n,r[o+1]=jL(e,t),i,o)}}function KS(n,e,t,i){let r=Et(),s=vT(2);r.firstUpdatePass&&YS(r,null,s,i);let o=_e();if(t!==ri&&Sn(o,s,t)){let a=r.data[Ur()];if(XS(a,i)&&!QS(r,s)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(t=Ym(l,t||"")),Lg(r,a,o,t,i)}else UL(r,a,o,o[gt],o[s+1],o[s+1]=LL(n,e,t),i,s)}}function QS(n,e){return e>=n.expandoStartIndex}function YS(n,e,t,i){let r=n.data;if(r[t+1]===null){let s=r[Ur()],o=QS(n,t);XS(s,i)&&e===null&&!o&&(e=!1),e=NL(r,s,e,i),wL(r,s,e,t,o,i)}}function NL(n,e,t,i){let r=_P(n),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(t=qm(null,n,e,t,i),t=Il(t,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==r)if(t=qm(r,n,e,t,i),s===null){let l=PL(n,e,i);l!==void 0&&Array.isArray(l)&&(l=qm(null,n,e,l[1],i),l=Il(l,e.attrs,i),kL(n,e,i,l))}else s=FL(n,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),t}function PL(n,e,t){let i=t?e.classBindings:e.styleBindings;if($o(i)!==0)return n[Cs(i)]}function kL(n,e,t,i){let r=t?e.classBindings:e.styleBindings;n[Cs(r)]=i}function FL(n,e,t){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=n[s].hostAttrs;i=Il(i,o,t)}return Il(i,e.attrs,t)}function qm(n,e,t,i,r){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],i=Il(i,s.hostAttrs,r),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),i}function Il(n,e,t){let i=t?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Bd(n,o,t?!0:e[++s]))}return n===void 0?null:n}function LL(n,e,t){if(t==null||t==="")return mn;let i=[],r=Ds(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if(typeof r=="object")for(let s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else typeof r=="string"&&e(i,r);return i}function ZS(n,e,t){Bd(n,e,Ds(t))}function VL(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Bd(n,i,t)}function UL(n,e,t,i,r,s,o,a){r===ri&&(r=mn);let l=0,u=0,d=0<r.length?r[0]:null,p=0<s.length?s[0]:null;for(;d!==null||p!==null;){let m=l<r.length?r[l+1]:void 0,y=u<s.length?s[u+1]:void 0,v=null,T;d===p?(l+=2,u+=2,m!==y&&(v=p,T=y)):p===null||d!==null&&d<p?(l+=2,v=d):(u+=2,v=p,T=y),v!==null&&JS(n,e,t,i,v,T,o,a),d=l<r.length?r[l]:null,p=u<s.length?s[u]:null}}function JS(n,e,t,i,r,s,o,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],d=IL(u)?IC(l,e,t,r,$o(u),o):void 0;if(!Od(d)){Od(s)||_L(u)&&(s=IC(l,null,t,r,a,o));let p=uT(Ur(),t);Rk(i,o,p,r,s)}}function IC(n,e,t,i,r,s){let o=e===null,a;for(;r>0;){let l=n[r],u=Array.isArray(l),d=u?l[1]:l,p=d===null,m=t[r+1];m===ri&&(m=p?mn:void 0);let y=p?Fm(m,i):d===i?m:void 0;if(u&&!Od(y)&&(y=Fm(l,i)),Od(y)&&(a=y,o))return a;let v=n[r+1];r=o?Cs(v):$o(v)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Fm(l,i))}return a}function Od(n){return n!==void 0}function jL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ln(Ds(n)))),n}function XS(n,e){return(n.flags&(e?8:16))!==0}var Vg=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),r=Math.max(e,t),s=this.detach(r);if(r-i>1){let o=this.detach(i);this.attach(i,s),this.attach(r,o)}else this.attach(i,s)}move(e,t){this.attach(t,this.detach(e))}};function Gm(n,e,t,i,r){return n===t&&Object.is(e,i)?1:Object.is(r(n,e),r(t,i))?-1:0}function BL(n,e,t){let i,r,s=0,o=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;s<=o&&s<=l;){let u=n.at(s),d=e[s],p=Gm(s,u,s,d,t);if(p!==0){p<0&&n.updateValue(s,d),s++;continue}let m=n.at(o),y=e[l],v=Gm(o,m,l,y,t);if(v!==0){v<0&&n.updateValue(o,y),o--,l--;continue}let T=t(s,u),S=t(o,m),O=t(s,d);if(Object.is(O,S)){let L=t(l,y);Object.is(L,T)?(n.swap(s,o),n.updateValue(o,y),l--,o--):n.move(o,s),n.updateValue(s,d),s++;continue}if(i??=new Nd,r??=EC(n,s,o,t),Ug(n,i,s,O))n.updateValue(s,d),s++,o++;else if(r.has(O))i.set(T,n.detach(s)),o--;else{let L=n.create(s,e[s]);n.attach(s,L),s++,o++}}for(;s<=l;)wC(n,i,t,s,e[s]),s++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&s<=o;){let d=n.at(s),p=u.value,m=Gm(s,d,s,p,t);if(m!==0)m<0&&n.updateValue(s,p),s++,u=l.next();else{i??=new Nd,r??=EC(n,s,o,t);let y=t(s,p);if(Ug(n,i,s,y))n.updateValue(s,p),s++,o++,u=l.next();else if(!r.has(y))n.attach(s,n.create(s,p)),s++,o++,u=l.next();else{let v=t(s,d);i.set(v,n.detach(s)),o--}}}for(;!u.done;)wC(n,i,t,n.length,u.value),u=l.next()}for(;s<=o;)n.destroy(n.detach(o--));i?.forEach(l=>{n.destroy(l)})}function Ug(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function wC(n,e,t,i,r){if(Ug(n,e,i,t(i,r)))n.updateValue(i,r);else{let s=n.create(i,r);n.attach(i,s)}}function EC(n,e,t,i){let r=new Set;for(let s=e;s<=t;s++)r.add(i(s,n.at(s)));return r}var Nd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),e(i,t)}}};function ah(n,e){oi("NgControlFlow");let t=_e(),i=qo(),r=t[i]!==ri?t[i]:-1,s=r!==-1?Pd(t,cn+r):void 0,o=0;if(Sn(t,i,n)){let a=De(null);try{if(s!==void 0&&SS(s,o),n!==-1){let l=cn+n,u=Pd(t,l),d=Hg(t[he],l),p=Vo(u,d.tView.ssrId),m=Cl(t,d,e,{dehydratedView:p});Tl(u,m,o,Lo(d,p))}}finally{De(a)}}else if(s!==void 0){let a=TS(s,o);a!==void 0&&(a[Wt]=e)}}var jg=class{constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-Kt}};function eD(n,e){return e}var Bg=class{constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function lh(n,e,t,i,r,s,o,a,l,u,d,p,m){oi("NgControlFlow");let y=_e(),v=Et(),T=l!==void 0,S=_e(),O=a?o.bind(S[Tn][Wt]):o,L=new Bg(T,O);S[cn+n]=L,Rd(y,v,n+1,e,t,i,r,Nr(v.consts,s)),T&&Rd(y,v,n+2,l,u,d,p,Nr(v.consts,m))}var $g=class extends Vg{constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Kt}at(e){return this.getLView(e)[Wt].$implicit}attach(e,t){let i=t[Po];this.needsIndexUpdate||=e!==this.length,Tl(this.lContainer,t,e,Lo(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,$L(this.lContainer,e)}create(e,t){let i=Vo(this.lContainer,this.templateTNode.tView.ssrId),r=Cl(this.hostLView,this.templateTNode,new jg(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(e){Xd(e[he],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Wt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Wt].$index=e}getLView(e){return HL(this.lContainer,e)}};function ch(n){let e=De(null),t=Ur();try{let i=_e(),r=i[he],s=i[t],o=t+1,a=Pd(i,o);if(s.liveCollection===void 0){let u=Hg(r,o);s.liveCollection=new $g(a,i,u)}else s.liveCollection.reset();let l=s.liveCollection;if(BL(l,n,s.trackByFn),l.updateIndexes(),s.hasEmptyBlock){let u=qo(),d=l.length===0;if(Sn(i,u,d)){let p=t+2,m=Pd(i,p);if(d){let y=Hg(r,p),v=Vo(m,y.tView.ssrId),T=Cl(i,y,void 0,{dehydratedView:v});Tl(m,T,0,Lo(y,v))}else SS(m,0)}}}finally{De(e)}}function Pd(n,e){return n[e]}function $L(n,e){return _l(n,e)}function HL(n,e){return TS(n,e)}function Hg(n,e){return cy(n,e)}function zL(n,e,t,i,r,s){let o=e.consts,a=Nr(o,r),l=Wo(e,n,2,i,a);return Py(e,t,l,Nr(o,s)),l.attrs!==null&&Dd(l,l.attrs,!1),l.mergedAttrs!==null&&Dd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function z(n,e,t,i){let r=_e(),s=Et(),o=cn+n,a=r[gt],l=s.firstCreatePass?zL(o,s,r,e,t,i):s.data[o],u=qL(s,r,l,a,e,n);r[o]=u;let d=qd(l);return Ts(l,!0),uS(a,u,l),!uL(l)&&Kd()&&eh(s,r,u,l),aP()===0&&Pr(u,r),lP(),d&&(Ry(s,r,l),My(s,l,r)),i!==null&&Oy(r,l),z}function G(){let n=jt();dy()?hy():(n=n.parent,Ts(n,!1));let e=n;uP(e)&&dP(),cP();let t=Et();return t.firstCreatePass&&(Yd(t,n),ly(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&TP(e)&&Lg(t,e,_e(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&SP(e)&&Lg(t,e,_e(),e.stylesWithoutHost,!1),G}function fe(n,e,t,i){return z(n,e,t,i),G(),fe}var qL=(n,e,t,i,r,s)=>(Qd(!0),eS(i,r,wP()));function GL(n,e,t,i,r){let s=e.consts,o=Nr(s,i),a=Wo(e,n,8,"ng-container",o);o!==null&&Dd(a,o,!0);let l=Nr(s,r);return Py(e,t,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ke(n,e,t){let i=_e(),r=Et(),s=n+cn,o=r.firstCreatePass?GL(s,r,i,e,t):r.data[s];Ts(o,!0);let a=WL(r,i,o,n);return i[s]=a,Kd()&&eh(r,i,a,o),Pr(a,i),qd(o)&&(Ry(r,i,o),My(r,o,i)),t!=null&&Oy(i,o),Ke}function Qe(){let n=jt(),e=Et();return dy()?hy():(n=n.parent,Ts(n,!1)),e.firstCreatePass&&(Yd(e,n),ly(n)&&e.queries.elementEnd(n)),Qe}function qe(n,e,t){return Ke(n,e,t),Qe(),qe}var WL=(n,e,t,i)=>(Qd(!0),yk(e[gt],""));function _t(){return _e()}var kd="en-US";var KL=kd;function QL(n){typeof n=="string"&&(KL=n.toLowerCase().replace(/_/g,"-"))}var YL=(n,e,t)=>{};function Re(n,e,t,i){let r=_e(),s=Et(),o=jt();return tD(s,r,r[gt],o,n,e,i),Re}function ZL(n,e,t,i){let r=n.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===t&&r[s+1]===i){let a=e[md],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function tD(n,e,t,i,r,s,o){let a=qd(i),u=n.firstCreatePass&&bS(n),d=e[Wt],p=ES(e),m=!0;if(i.type&3||o){let T=zn(i,e),S=o?o(T):T,O=p.length,L=o?K=>o(Ti(K[i.index])):i.index,q=null;if(!o&&a&&(q=ZL(n,e,r,i.index)),q!==null){let K=q.__ngLastListenerFn__||q;K.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,m=!1}else{s=CC(i,e,d,s),YL(T,r,s);let K=t.listen(S,r,s);p.push(s,K),u&&u.push(r,L,O,O+1)}}else s=CC(i,e,d,s);let y=i.outputs,v;if(m&&y!==null&&(v=y[r])){let T=v.length;if(T)for(let S=0;S<T;S+=2){let O=v[S],L=v[S+1],Te=e[O][L].subscribe(s),X=p.length;p.push(s,Te),u&&u.push(r,i.index,X,-(X+1))}}}function bC(n,e,t,i){let r=De(null);try{return wi(6,e,t),t(i)!==!1}catch(s){return CS(n,s),!1}finally{wi(7,e,t),De(r)}}function CC(n,e,t,i){return function r(s){if(s===Function)return i;let o=n.componentOffset>-1?Vr(n.index,e):e;Ly(o,5);let a=bC(e,t,i,s),l=r.__ngNextListenerFn__;for(;l;)a=bC(e,t,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function P(n=1){return IP(n)}function JL(n,e){let t=null,i=MN(n);for(let r=0;r<e.length;r++){let s=e[r];if(s==="*"){t=r;continue}if(i===null?zC(n,s,!0):NN(i,s))return r}return t}function _n(n){let e=_e()[Tn][gn];if(!e.projection){let t=n?n.length:1,i=e.projection=wN(t,null),r=i.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?JL(s,n):0;o!==null&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s)}s=s.next}}}function Jt(n,e=0,t,i,r,s){let o=_e(),a=Et(),l=i?n+1:null;l!==null&&Rd(o,a,l,i,r,s,null,t);let u=Wo(a,cn+n,16,null,t||null);u.projection===null&&(u.projection=e),hy();let p=!o[Po]||gT();o[Tn][gn].projection[u.projection]===null&&l!==null?XL(o,a,l):p&&(u.flags&32)!==32&&xk(a,o,u)}function XL(n,e,t){let i=cn+t,r=e.data[i],s=n[i],o=Vo(s,r.tView.ssrId),a=Cl(n,r,void 0,{dehydratedView:o});Tl(s,a,0,Lo(r,o))}function vn(n,e,t,i){QF(n,e,t,i)}function $t(n,e,t){KF(n,e,t)}function tt(n){let e=_e(),t=Et(),i=IT();fy(i+1);let r=Uy(t,i);if(n.dirty&&iP(e)===((r.metadata.flags&2)===2)){if(r.matches===null)n.reset([]);else{let s=JF(e,i);n.reset(s,WP),n.notifyOnChanges()}return!0}return!1}function nt(){return WF(_e(),IT())}function qn(n){let e=fP();return nP(e,cn+n)}function Nt(n,e=""){let t=_e(),i=Et(),r=n+cn,s=i.firstCreatePass?Wo(i,r,1,e,null):i.data[r],o=eV(i,t,s,e,n);t[r]=o,Kd()&&eh(i,t,o,s),Ts(s,!1)}var eV=(n,e,t,i,r)=>(Qd(!0),mk(e[gt],i));function Gn(n){return er("",n,""),Gn}function er(n,e,t){let i=_e(),r=yL(i,n,e,t);return r!==ri&&rF(i,Ur(),r),er}function Dl(n,e,t){jS(e)&&(e=e());let i=_e(),r=qo();if(Sn(i,r,e)){let s=Et(),o=gy();yS(s,o,i,n,e,i[gt],t,!1)}return Dl}function uh(n,e){let t=jS(n);return t&&n.set(e),t}function Al(n,e){let t=_e(),i=Et(),r=jt();return tD(i,t,t[gt],r,n,e),Al}function tV(n,e,t){let i=Et();if(i.firstCreatePass){let r=Or(n);zg(t,i.data,i.blueprint,r,!0),zg(e,i.data,i.blueprint,r,!1)}}function zg(n,e,t,i,r){if(n=an(n),Array.isArray(n))for(let s=0;s<n.length;s++)zg(n[s],e,t,i,r);else{let s=Et(),o=_e(),a=jt(),l=No(n)?n:an(n.provide),u=eT(n),d=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(No(n)||!n.multi){let y=new ws(u,r,V),v=Km(l,e,r?d:d+m,p);v===-1?(ug(Id(a,o),s,l),Wm(s,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[v]=y,o[v]=y)}else{let y=Km(l,e,d+m,p),v=Km(l,e,d,d+m),T=y>=0&&t[y],S=v>=0&&t[v];if(r&&!S||!r&&!T){ug(Id(a,o),s,l);let O=rV(r?iV:nV,t.length,r,i,u);!r&&S&&(t[v].providerFactory=O),Wm(s,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(O),o.push(O)}else{let O=nD(t[r?v:y],u,!r&&i);Wm(s,n,y>-1?y:v,O)}!r&&i&&S&&t[v].componentProviders++}}}function Wm(n,e,t,i){let r=No(e),s=zN(e);if(r||s){let l=(s?an(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[i,l]):u[d+1].push(i,l)}else u.push(t,l)}}}function nD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Km(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function nV(n,e,t,i){return qg(this.multi,[])}function iV(n,e,t,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Es(t,t[he],this.providerFactory.index,i);s=a.slice(0,o),qg(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],qg(r,s);return s}function qg(n,e){for(let t=0;t<n.length;t++){let i=n[t];e.push(i())}return e}function rV(n,e,t,i,r){let s=new ws(n,t,V);return s.multi=[],s.index=e,s.componentProviders=0,nD(s,r,i&&!t),s}function ai(n,e=[]){return t=>{t.providersResolver=(i,r)=>tV(i,r?r(n):n,e)}}var sV=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=ZC(!1,i.type),s=r.length>0?sh([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=Q({token:e,providedIn:"environment",factory:()=>new e(ie(Cn))});let n=e;return n})();function ke(n){oi("NgStandalone"),n.getStandaloneInjector=e=>e.get(sV).getOrCreateStandaloneInjector(n)}function As(n,e,t){let i=bl()+n,r=_e();return r[i]===ri?Sl(r,i,t?e.call(t):e()):lL(r,i)}function it(n,e,t,i){return oV(_e(),bl(),n,e,t,i)}function tr(n,e,t,i,r){return aV(_e(),bl(),n,e,t,i,r)}function Ko(n,e,t,i,r,s){return lV(_e(),bl(),n,e,t,i,r,s)}function iD(n,e,t,i){return cV(_e(),bl(),n,e,t,i)}function dh(n,e){let t=n[e];return t===ri?void 0:t}function oV(n,e,t,i,r,s){let o=e+t;return Sn(n,o,r)?Sl(n,o+1,s?i.call(s,r):i(r)):dh(n,o+1)}function aV(n,e,t,i,r,s,o){let a=e+t;return $S(n,a,r,s)?Sl(n,a+2,o?i.call(o,r,s):i(r,s)):dh(n,a+2)}function lV(n,e,t,i,r,s,o,a){let l=e+t;return cL(n,l,r,s,o)?Sl(n,l+3,a?i.call(a,r,s,o):i(r,s,o)):dh(n,l+3)}function cV(n,e,t,i,r,s){let o=e+t,a=!1;for(let l=0;l<r.length;l++)Sn(n,o++,r[l])&&(a=!0);return a?Sl(n,o,i.apply(s,r)):dh(n,o)}function li(n,e){return rh(n,e)}var Zi=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},rD=new Zi("18.2.2");var hh=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"platform"});let n=e;return n})();var sD=new te("");function xs(n){return!!n&&typeof n.then=="function"}function oD(n){return!!n&&typeof n.subscribe=="function"}var fh=new te(""),aD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=B(fh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(xs(o))i.push(o);else if(oD(o)){let a=new Promise((l,u)=>{o.subscribe({complete:l,error:u})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),ph=new te("");function uV(){fb(()=>{throw new j(600,!1)})}function dV(n){return n.isBoundToModule}var hV=10;function fV(n,e,t){try{let i=t();return xs(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}var Ms=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=B(qP),this.afterRenderManager=B(HS),this.zonelessEnabled=B(Vy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=B(Ss).hasPendingTasks.pipe(Ae(i=>!i)),this._injector=B(Cn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let i;return new Promise(r=>{i=this.isStable.subscribe({next:s=>{s&&r()}})}).finally(()=>{i.unsubscribe()})}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Sd;if(!this._injector.get(aD).done){let y=!s&&WC(i),v=!1;throw new j(405,v)}let a;s?a=i:a=this._injector.get(jo).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=dV(a)?void 0:this._injector.get(Fr),u=r||a.selector,d=a.create(Yt.NULL,[],u,l),p=d.location.nativeElement,m=d.injector.get(sD,null);return m?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),cd(this.components,d),m?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new j(101,!1);let i=De(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,De(i),this.afterTick.next()}}synchronize(){let i=null;this._injector.destroyed||(i=this._injector.get(kr,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<hV;)this.synchronizeOnce(i)}synchronizeOnce(i){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:s,notifyErrorHandler:o}of this._views)pV(s,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else i?.begin?.(),i?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:i})=>Gd(i))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;cd(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(ph,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>cd(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new j(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function cd(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function pV(n,e,t,i){if(!t&&!Gd(n))return;xS(n,e,t&&!i?0:1)}var Gg=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},mh=(()=>{let e=class e{compileModuleSync(i){return new Og(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=KC(i),o=XT(s.declarations).reduce((a,l)=>{let u=Rr(l);return u&&a.push(new Bo(u)),a},[]);return new Gg(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var mV=(()=>{let e=class e{constructor(){this.zone=B(Ee),this.changeDetectionScheduler=B(Uo),this.applicationRef=B(Ms)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),gV=new te("",{factory:()=>!1});function lD({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Ee(me(k({},uD()),{scheduleInRootZone:t})),[{provide:Ee,useFactory:n},{provide:Oo,multi:!0,useFactory:()=>{let i=B(mV,{optional:!0});return()=>i.initialize()}},{provide:Oo,multi:!0,useFactory:()=>{let i=B(yV);return()=>{i.initialize()}}},e===!0?{provide:NS,useValue:!0}:[],{provide:PS,useValue:t??VT}]}function cD(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,i=lD({ngZoneFactory:()=>{let r=uD(n);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&oi("NgZone_CoalesceEvent"),new Ee(r)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Lr([{provide:gV,useValue:!0},{provide:Vy,useValue:!1},i])}function uD(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var yV=(()=>{let e=class e{constructor(){this.subscription=new mt,this.initialized=!1,this.zone=B(Ee),this.pendingTasks=B(Ss)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var _V=(()=>{let e=class e{constructor(){this.appRef=B(Ms),this.taskService=B(Ss),this.ngZone=B(Ee),this.zonelessEnabled=B(Vy),this.disableScheduling=B(NS,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new mt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ed):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(B(PS,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mg||!this.zoneIsDefined)}notify(i){if(!this.zonelessEnabled&&i===5)return;switch(i){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?sC:UT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ed+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let i=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(i),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(i)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let i=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(i)}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function vV(){return typeof $localize<"u"&&$localize.locale||kd}var $y=new te("",{providedIn:"root",factory:()=>B($y,Ce.Optional|Ce.SkipSelf)||vV()});var dD=new te("");function id(n){return!!n.platformInjector}function IV(n){let e=id(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Ee);return t.run(()=>{id(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(Si,null),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:s=>{i.handleError(s)}})}),id(n)){let s=()=>e.destroy(),o=n.platformInjector.get(dD);o.add(s),e.onDestroy(()=>{r.unsubscribe(),o.delete(s)})}else n.moduleRef.onDestroy(()=>{cd(n.allPlatformModules,n.moduleRef),r.unsubscribe()});return fV(i,t,()=>{let s=e.get(aD);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get($y,kd);if(QL(o||kd),id(n)){let a=e.get(Ms);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return wV(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function wV(n,e){let t=n.injector.get(Ms);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new j(-403,!1);e.push(n)}var ud=null;function EV(n=[],e){return Yt.create({name:e,providers:[{provide:$d,useValue:"platform"},{provide:dD,useValue:new Set([()=>ud=null])},...n]})}function bV(n=[]){if(ud)return ud;let e=EV(n);return ud=e,uV(),CV(e),e}function CV(n){n.get(Ey,null)?.forEach(t=>t())}var Ht=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TV;let n=e;return n})();function TV(n){return SV(jt(),_e(),(n&16)===16)}function SV(n,e,t){if(zd(n)&&!t){let i=Vr(n.index,e);return new bs(i,i)}else if(n.type&175){let i=e[Tn];return new bs(i,e)}return null}var Wg=class{constructor(){}supports(e){return BS(e)}create(e){return new Kg(e)}},DV=(n,e)=>e,Kg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||DV}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){let o=!i||t&&t.currentIndex<TC(i,r,s)?t:i,a=TC(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,o.previousIndex==null)r++;else{s||(s=[]);let u=a-r,d=l-r;if(u!=d){for(let m=0;m<u;m++){let y=m<s.length?s[m]:s[m]=0,v=y+m;d<=v&&v<u&&(s[m]=y+1)}let p=o.previousIndex;s[p]=d-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!BS(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),i=!0):(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else r=0,aL(e,a=>{o=this._trackByFn(r,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,r),i=!0):(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new Qg(t,i),s,r)),e}_verifyReinsertion(e,t,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let r=t===null?this._itHead:t._next;return e._next=r,e._prev=t,r===null?this._itTail=e:r._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Fd),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Fd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qg=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Fd=class{constructor(){this.map=new Map}put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Yg,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,r=this.map.get(i);return r?r.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function TC(n,e,t){let i=n.previousIndex;if(i===null)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}var Zg=class{constructor(){}supports(e){return e instanceof Map||jy(e)}create(){return new Jg}},Jg=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||jy(e)))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;i!==null;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let r=this._records.get(e);this._maybeAddToChanges(r,t);let s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}let i=new Xg(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}},Xg=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function SC(){return new Hy([new Wg])}var Hy=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||SC()),deps:[[e,new jd,new An]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new j(901,!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:SC});let n=e;return n})();function DC(){return new zy([new Zg])}var zy=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||DC()),deps:[[e,new jd,new An]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r)return r;throw new j(901,!1)}};e.\u0275prov=Q({token:e,providedIn:"root",factory:DC});let n=e;return n})();function hD(n){try{let{rootComponent:e,appProviders:t,platformProviders:i}=n,r=bV(i),s=[lD({}),{provide:Uo,useExisting:_V},...t||[]],o=new Md({providers:s,parent:r,debugName:"",runEnvironmentInitializers:!1});return IV({r3Injector:o.injector,platformInjector:r,rootComponent:e})}catch(e){return Promise.reject(e)}}var fD=new te("");function ae(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function In(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}function Mi(n,e){oi("NgSignals");let t=ub(n);return e?.equal&&(t[vi].equal=e.equal),t}function nr(n){let e=De(null);try{return n()}finally{De(e)}}var AV=new te("",{providedIn:"root",factory:()=>B(xV)}),xV=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>new ey});let n=e;return n})(),ey=class{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=B(Ss),this.taskId=null}scheduleEffect(e){if(this.enqueue(e),this.taskId===null){let t=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(t),this.taskId=null})}}enqueue(e){let t=e.creationZone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},ty=class{constructor(e,t,i,r,s,o){this.scheduler=e,this.effectFn=t,this.creationZone=i,this.injector=s,this.watcher=yb(a=>this.runEffect(a),()=>this.schedule(),o),this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}runEffect(e){try{this.effectFn(e)}catch(t){this.injector.get(Si,null,{optional:!0})?.handleError(t)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}};function qy(n,e){oi("NgSignals"),!e?.injector&&nT(qy);let t=e?.injector??B(Yt),i=e?.manualCleanup!==!0?t.get(Zd):null,r=new ty(t.get(AV),n,typeof Zone>"u"?null:Zone.current,i,t,e?.allowSignalWrites??!1),s=t.get(Ht,null,{optional:!0});return!s||!(s._lView[le]&8)?r.watcher.notify():(s._lView[sd]??=[]).push(r.watcher.notify),r}function pD(n){let e=Rr(n);if(!e)return null;let t=new Bo(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ID=null;function rr(){return ID}function wD(n){ID??=n}var gh=class{};var rt=new te(""),Jy=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(MV),providedIn:"platform"});let n=e;return n})(),ED=new te(""),MV=(()=>{let e=class e extends Jy{constructor(){super(),this._doc=B(rt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(i){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=rr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>new e,providedIn:"platform"});let n=e;return n})();function Xy(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function mD(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function ir(n){return n&&n[0]!=="?"?"?"+n:n}var sr=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(e_),providedIn:"root"});let n=e;return n})(),bD=new te(""),e_=(()=>{let e=class e extends sr{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??B(rt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Xy(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ir(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ir(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ir(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ie(Jy),ie(bD,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),CD=(()=>{let e=class e extends sr{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=Xy(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+ir(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+ir(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(ie(Jy),ie(bD,8))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),Qo=(()=>{let e=class e{constructor(i){this._subject=new se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=NV(mD(gD(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ir(r))}normalize(i){return e.stripTrailingSlash(OV(this._basePath,gD(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ir(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ir(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=ir,e.joinWithSlash=Xy,e.stripTrailingSlash=mD,e.\u0275fac=function(r){return new(r||e)(ie(sr))},e.\u0275prov=Q({token:e,factory:()=>RV(),providedIn:"root"});let n=e;return n})();function RV(){return new Qo(ie(sr))}function OV(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function gD(n){return n.replace(/\/index.html$/,"")}function NV(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function TD(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[r,s]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var Wy=/\s+/,yD=[],ci=(()=>{let e=class e{constructor(i,r){this._ngEl=i,this._renderer=r,this.initialClasses=yD,this.stateMap=new Map}set klass(i){this.initialClasses=i!=null?i.trim().split(Wy):yD}set ngClass(i){this.rawClass=typeof i=="string"?i.trim().split(Wy):i}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let i=this.rawClass;if(Array.isArray(i)||i instanceof Set)for(let r of i)this._updateState(r,!0);else if(i!=null)for(let r of Object.keys(i))this._updateState(r,!!i[r]);this._applyStateDiff()}_updateState(i,r){let s=this.stateMap.get(i);s!==void 0?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(i,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let i of this.stateMap){let r=i[0],s=i[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(i,r){i=i.trim(),i.length>0&&i.split(Wy).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(r){return new(r||e)(V(We),V(St))},e.\u0275dir=Ue({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let n=e;return n})();var Ky=class{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},_h=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new Ky(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),_D(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);_D(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(si),V(ii),V(Hy))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let n=e;return n})();function _D(n,e){n.context.$implicit=e.item}var ui=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Qy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){vD("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){vD("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(V(si),V(ii))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let n=e;return n})(),Qy=class{constructor(){this.$implicit=null,this.ngIf=null}};function vD(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ln(e)}'.`)}var di=(()=>{let e=class e{constructor(i,r,s){this._ngEl=i,this._differs=r,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(i){this._ngStyle=i,!this._differ&&i&&(this._differ=this._differs.find(i).create())}ngDoCheck(){if(this._differ){let i=this._differ.diff(this._ngStyle);i&&this._applyChanges(i)}}_setStyle(i,r){let[s,o]=i.split("."),a=s.indexOf("-")===-1?void 0:Di.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,s,o?`${r}${o}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,s,a)}_applyChanges(i){i.forEachRemovedItem(r=>this._setStyle(r.key,null)),i.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),i.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}};e.\u0275fac=function(r){return new(r||e)(V(We),V(zy),V(St))},e.\u0275dir=Ue({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0});let n=e;return n})(),hi=(()=>{let e=class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(this._shouldRecreateView(i)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,s,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(i){return!!i.ngTemplateOutlet||!!i.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(i,r,s)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,s):!1,get:(i,r,s)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,s)}})}};e.\u0275fac=function(r){return new(r||e)(V(si))},e.\u0275dir=Ue({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[yn]});let n=e;return n})();var dn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=He({});let n=e;return n})(),t_="browser",PV="server";function xn(n){return n===t_}function n_(n){return n===PV}var SD=(()=>{let e=class e{};e.\u0275prov=Q({token:e,providedIn:"root",factory:()=>xn(B(Tt))?new Yy(B(rt),window):new Zy});let n=e;return n})(),Yy=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=kV(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function kV(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Zy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},yh=class{};var s_=class extends gh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},o_=class n extends s_{static makeCurrent(){wD(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=FV();return t==null?null:LV(t)}resetBaseElement(){Ml=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return TD(document.cookie,e)}},Ml=null;function FV(){return Ml=Ml||document.querySelector("base"),Ml?Ml.getAttribute("href"):null}function LV(n){return new URL(n,document.baseURI).pathname}var VV=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),vh=new te(""),xD=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(ie(vh),ie(Ee))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),Rl=class{constructor(e){this._doc=e}},i_="ng-app-id",MD=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=n_(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${i_}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(i_),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(i_,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(ie(rt),ie(wy),ie(Cy,8),ie(Tt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),r_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},l_=/%COMP%/g,RD="%COMP%",UV=`_nghost-${RD}`,jV=`_ngcontent-${RD}`,BV=!0,$V=new te("",{providedIn:"root",factory:()=>BV});function HV(n){return jV.replace(l_,n)}function zV(n){return UV.replace(l_,n)}function OD(n,e){return e.map(t=>t.replace(l_,n))}var Ih=(()=>{let e=class e{constructor(i,r,s,o,a,l,u,d=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=n_(l),this.defaultRenderer=new Ol(i,a,u,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===bi.ShadowDom&&(r=me(k({},r),{encapsulation:bi.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof wh?s.applyToHost(i):s instanceof Nl&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case bi.Emulated:o=new wh(u,d,r,this.appId,p,a,l,m);break;case bi.ShadowDom:return new a_(u,d,i,r,a,l,this.nonce,m);default:o=new Nl(u,d,r,p,a,l,m);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(ie(xD),ie(MD),ie(wy),ie($V),ie(rt),ie(Tt),ie(Ee),ie(Cy))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),Ol=class{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(r_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(DD(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(DD(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new j(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;let s=r_[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let r=r_[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Di.DashCase|Di.Important)?e.style.setProperty(t,i,r&Di.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Di.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function DD(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var a_=class extends Ol{constructor(e,t,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=OD(r.id,r.styles);for(let d of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=d,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nl=class extends Ol{constructor(e,t,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?OD(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},wh=class extends Nl{constructor(e,t,i,r,s,o,a,l){let u=r+"-"+i.id;super(e,t,i,s,o,a,l,u),this.contentAttr=HV(u),this.hostAttr=zV(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},qV=(()=>{let e=class e extends Rl{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(ie(rt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),GV=(()=>{let e=class e extends Rl{constructor(i){super(i),this.delegate=B(fD,{optional:!0})}supports(i){return this.delegate?this.delegate.supports(i):!1}addEventListener(i,r,s){return this.delegate.addEventListener(i,r,s)}removeEventListener(i,r,s){return this.delegate.removeEventListener(i,r,s)}};e.\u0275fac=function(r){return new(r||e)(ie(rt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),AD=["alt","control","meta","shift"],WV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},KV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},QV=(()=>{let e=class e extends Rl{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),AD.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),a+=d+".")}),a+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=s,u.fullKey=a,u}static matchEventFullKeyCode(i,r){let s=WV[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),AD.forEach(a=>{if(a!==s){let l=KV[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(ie(rt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})();function ND(n,e){return hD(k({rootComponent:n},YV(e)))}function YV(n){return{appProviders:[...t2,...n?.providers??[]],platformProviders:e2}}function ZV(){o_.makeCurrent()}function JV(){return new Si}function XV(){return GT(document),document}var e2=[{provide:Tt,useValue:t_},{provide:Ey,useValue:ZV,multi:!0},{provide:rt,useFactory:XV,deps:[]}];var t2=[{provide:$d,useValue:"root"},{provide:Si,useFactory:JV,deps:[]},{provide:vh,useClass:qV,multi:!0,deps:[rt,Ee,Tt]},{provide:vh,useClass:QV,multi:!0,deps:[rt]},{provide:vh,useClass:GV,multi:!0},Ih,MD,xD,{provide:kr,useExisting:Ih},{provide:yh,useClass:VV,deps:[]},[]];var PD=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(ie(rt))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();var FD=function(n){let e=[],t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},i2=function(n){let e=[],t=0,i=0;for(;t<n.length;){let r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=n[t++],o=n[t++],a=n[t++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let s=n[t++],o=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LD={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){let s=n[r],o=r+1<n.length,a=o?n[r+1]:0,l=r+2<n.length,u=l?n[r+2]:0,d=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,y=u&63;l||(y=64,o||(m=64)),i.push(t[d],t[p],t[m],t[y])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(FD(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):i2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){let s=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;let u=r<n.length?t[n.charAt(r)]:64;++r;let p=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||a==null||u==null||p==null)throw new u_;let m=s<<2|a>>4;if(i.push(m),u!==64){let y=a<<4&240|u>>2;if(i.push(y),p!==64){let v=u<<6&192|p;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},u_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},r2=function(n){let e=FD(n);return LD.encodeByteArray(e,!0)},Pl=function(n){return r2(n).replace(/\./g,"")},h_=function(n){try{return LD.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function s2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var o2=()=>s2().__FIREBASE_DEFAULTS__,a2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&h_(n[1]);return e&&JSON.parse(e)},bh=()=>{try{return o2()||a2()||l2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},VD=n=>{var e,t;return(t=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},UD=n=>{let e=VD(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},f_=()=>{var n;return(n=bh())===null||n===void 0?void 0:n.config},jD=n=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${n}`]};var Eh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}};function BD(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Pl(JSON.stringify(t)),Pl(JSON.stringify(o)),""].join(".")}function Mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $D(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mn())}function c2(){var n;let e=(n=bh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HD(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function zD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qD(){return!c2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function p_(){try{return typeof indexedDB=="object"}catch{return!1}}function GD(){return new Promise((n,e)=>{try{let t=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var u2="FirebaseError",Wn=class n extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=u2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,or.prototype.create)}},or=class{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?d2(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Wn(r,a,i)}};function d2(n,e){return n.replace(h2,(t,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var h2=/\{\$([^}]+)}/g;function Yo(n,e){if(n===e)return!0;let t=Object.keys(n),i=Object.keys(e);for(let r of t){if(!i.includes(r))return!1;let s=n[r],o=e[r];if(kD(s)&&kD(o)){if(!Yo(s,o))return!1}else if(s!==o)return!1}for(let r of i)if(!t.includes(r))return!1;return!0}function kD(n){return n!==null&&typeof n=="object"}function m_(n){let e=[];for(let[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function WD(n,e){let t=new d_(n,e);return t.subscribe.bind(t)}var d_=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=c_),r.error===void 0&&(r.error=c_),r.complete===void 0&&(r.complete=c_);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function f2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function c_(){}var mY=4*60*60*1e3;function Kn(n){return n&&n._delegate?n._delegate:n}var Qn=class{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Rs="[DEFAULT]";var g_=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let i=new Eh;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m2(e))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(let[t,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return M(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Rs){return this.instances.has(e)}getOptions(e=Rs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:p2(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Rs){return this.component?this.component.multipleInstances?e:Rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function p2(n){return n===Rs?void 0:n}function m2(n){return n.instantiationMode==="EAGER"}var Ch=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new g_(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var g2=[],Ne=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ne||{}),y2={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},_2=Ne.INFO,v2={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},I2=(n,e,...t)=>{if(e<n.logLevel)return;let i=new Date().toISOString(),r=v2[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},jr=class{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=I2,this._userLogHandler=null,g2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}};var w2=(n,e)=>e.some(t=>n instanceof t),KD,QD;function E2(){return KD||(KD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return QD||(QD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var YD=new WeakMap,__=new WeakMap,ZD=new WeakMap,y_=new WeakMap,I_=new WeakMap;function C2(n){let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(Ri(n.result)),r()},o=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&YD.set(t,n)}).catch(()=>{}),I_.set(e,n),e}function T2(n){if(__.has(n))return;let e=new Promise((t,i)=>{let r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),r()},o=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});__.set(n,e)}var v_={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return __.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ZD.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ri(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JD(n){v_=n(v_)}function S2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let i=n.call(Th(this),e,...t);return ZD.set(i,e.sort?e.sort():[e]),Ri(i)}:b2().includes(n)?function(...e){return n.apply(Th(this),e),Ri(YD.get(this))}:function(...e){return Ri(n.apply(Th(this),e))}}function D2(n){return typeof n=="function"?S2(n):(n instanceof IDBTransaction&&T2(n),w2(n,E2())?new Proxy(n,v_):n)}function Ri(n){if(n instanceof IDBRequest)return C2(n);if(y_.has(n))return y_.get(n);let e=D2(n);return e!==n&&(y_.set(n,e),I_.set(e,n)),e}var Th=n=>I_.get(n);function eA(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){let o=indexedDB.open(n,e),a=Ri(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ri(o.result),l.oldVersion,l.newVersion,Ri(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var A2=["get","getKey","getAll","getAllKeys","count"],x2=["put","add","delete","clear"],w_=new Map;function XD(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(w_.get(e))return w_.get(e);let t=e.replace(/FromIndex$/,""),i=e!==t,r=x2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||A2.includes(t)))return;let s=function(o,...a){return M(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),u=l.store;return i&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),r&&l.done]))[0]})};return w_.set(e,s),s}JD(n=>me(k({},n),{get:(e,t,i)=>XD(e,t)||n.get(e,t,i),has:(e,t)=>!!XD(e,t)||n.has(e,t)}));var b_=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(M2(t)){let i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}};function M2(n){let e=n.getComponent();return e?.type==="VERSION"}var C_="@firebase/app",tA="0.10.10";var ar=new jr("@firebase/app"),R2="@firebase/app-compat",O2="@firebase/analytics-compat",N2="@firebase/analytics",P2="@firebase/app-check-compat",k2="@firebase/app-check",F2="@firebase/auth",L2="@firebase/auth-compat",V2="@firebase/database",U2="@firebase/database-compat",j2="@firebase/functions",B2="@firebase/functions-compat",$2="@firebase/installations",H2="@firebase/installations-compat",z2="@firebase/messaging",q2="@firebase/messaging-compat",G2="@firebase/performance",W2="@firebase/performance-compat",K2="@firebase/remote-config",Q2="@firebase/remote-config-compat",Y2="@firebase/storage",Z2="@firebase/storage-compat",J2="@firebase/firestore",X2="@firebase/vertexai-preview",eU="@firebase/firestore-compat",tU="firebase",nU="10.13.1";var T_="[DEFAULT]",iU={[C_]:"fire-core",[R2]:"fire-core-compat",[N2]:"fire-analytics",[O2]:"fire-analytics-compat",[k2]:"fire-app-check",[P2]:"fire-app-check-compat",[F2]:"fire-auth",[L2]:"fire-auth-compat",[V2]:"fire-rtdb",[U2]:"fire-rtdb-compat",[j2]:"fire-fn",[B2]:"fire-fn-compat",[$2]:"fire-iid",[H2]:"fire-iid-compat",[z2]:"fire-fcm",[q2]:"fire-fcm-compat",[G2]:"fire-perf",[W2]:"fire-perf-compat",[K2]:"fire-rc",[Q2]:"fire-rc-compat",[Y2]:"fire-gcs",[Z2]:"fire-gcs-compat",[J2]:"fire-fst",[eU]:"fire-fst-compat",[X2]:"fire-vertex","fire-js":"fire-js",[tU]:"fire-js-all"};var kl=new Map,rU=new Map,S_=new Map;function nA(n,e){try{n.container.addComponent(e)}catch(t){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function $r(n){let e=n.name;if(S_.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;S_.set(e,n);for(let t of kl.values())nA(t,n);for(let t of rU.values())nA(t,n);return!0}function M_(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Zo(n){return n.settings!==void 0}var sU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Br=new or("app","Firebase",sU);var D_=class{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Qn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}};var Jo=nU;function R_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let i=Object.assign({name:T_,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Br.create("bad-app-name",{appName:String(r)});if(t||(t=f_()),!t)throw Br.create("no-options");let s=kl.get(r);if(s){if(Yo(t,s.options)&&Yo(i,s.config))return s;throw Br.create("duplicate-app",{appName:r})}let o=new Ch(r);for(let l of S_.values())o.addComponent(l);let a=new D_(t,i,o);return kl.set(r,a),a}function Ll(n=T_){let e=kl.get(n);if(!e&&n===T_&&f_())return R_();if(!e)throw Br.create("no-app",{appName:n});return e}function Sh(){return Array.from(kl.values())}function kt(n,e,t){var i;let r=(i=iU[n])!==null&&i!==void 0?i:n;t&&(r+=`-${t}`);let s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}$r(new Qn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var oU="firebase-heartbeat-database",aU=1,Fl="firebase-heartbeat-store",E_=null;function oA(){return E_||(E_=eA(oU,aU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Br.create("idb-open",{originalErrorMessage:n.message})})),E_}function lU(n){return M(this,null,function*(){try{let t=(yield oA()).transaction(Fl),i=yield t.objectStore(Fl).get(aA(n));return yield t.done,i}catch(e){if(e instanceof Wn)ar.warn(e.message);else{let t=Br.create("idb-get",{originalErrorMessage:e?.message});ar.warn(t.message)}}})}function iA(n,e){return M(this,null,function*(){try{let i=(yield oA()).transaction(Fl,"readwrite");yield i.objectStore(Fl).put(e,aA(n)),yield i.done}catch(t){if(t instanceof Wn)ar.warn(t.message);else{let i=Br.create("idb-set",{originalErrorMessage:t?.message});ar.warn(i.message)}}})}function aA(n){return`${n.name}!${n.options.appId}`}var cU=1024,uU=30*24*60*60*1e3,A_=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new x_(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return M(this,null,function*(){var e,t;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=uU}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ar.warn(i)}})}getHeartbeatsHeader(){return M(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=rA(),{heartbeatsToSend:i,unsentEntries:r}=dU(this._heartbeatsCache.heartbeats),s=Pl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return ar.warn(t),""}})}};function rA(){return new Date().toISOString().substring(0,10)}function dU(n,e=cU){let t=[],i=n.slice();for(let r of n){let s=t.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),sA(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),sA(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}var x_=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return M(this,null,function*(){return p_()?GD().then(()=>!0).catch(()=>!1):!1})}read(){return M(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield lU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return iA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return M(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return iA(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function sA(n){return Pl(JSON.stringify({version:2,heartbeats:n})).length}function hU(n){$r(new Qn("platform-logger",e=>new b_(e),"PRIVATE")),$r(new Qn("heartbeat",e=>new A_(e),"PRIVATE")),kt(C_,tA,n),kt(C_,tA,"esm2017"),kt("fire-js","")}hU("");var fU="firebase",pU="10.13.1";kt(fU,pU,"app");var ea=new Zi("ANGULARFIRE2_VERSION");function N_(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ul=(n,e)=>{let t=e?[e]:Sh(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},Vl=class{constructor(){return Ul(mU)}},mU="app-check";function Xo(){}var Dh=class{zone;delegate;constructor(e,t=Dm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,i)}},O_=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo)),t.pipe(Rt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},jl=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Dh(Zone.current)),this.insideAngular=t.run(()=>new Dh(Zone.current,Sm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(ie(Ee))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ah(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function gU(n){return Ah().ngZone.runOutsideAngular(()=>n())}function Os(n){return Ah().ngZone.run(()=>n())}function yU(n){return _U(Ah())(n)}function _U(n){return function(t){return t=t.lift(new O_(n.ngZone)),t.pipe(Cr(n.outsideAngular),br(n.insideAngular))}}var vU=(n,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Os(()=>n.apply(void 0,i))},Bl=(n,e)=>function(){let t,i=arguments;for(let s=0;s<arguments.length;s++)typeof i[s]=="function"&&(e&&(t||=Os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Xo,{},Xo,Xo))),i[s]=vU(i[s],t));let r=gU(()=>n.apply(this,i));if(!e)if(r instanceof Fe){let s=Ah();return r.pipe(Cr(s.outsideAngular),br(s.insideAngular))}else return Os(()=>r);return r instanceof Fe?r.pipe(yU):r instanceof Promise?Os(()=>new Promise((s,o)=>r.then(a=>Os(()=>s(a)),a=>Os(()=>o(a))))):typeof r=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),r.apply(this,arguments)}:Os(()=>r)};var Ns=class{constructor(e){return e}},$l=class{constructor(){return Sh()}};function IU(n){return n&&n.length===1?n[0]:new Ns(Ll())}var P_=new te("angularfire2._apps"),wU={provide:Ns,useFactory:IU,deps:[[new An,P_]]},EU={provide:$l,deps:[[new An,P_]]};function bU(n){return(e,t)=>{let i=t.get(Tt);kt("angularfire",ea.full,"core"),kt("angularfire",ea.full,"app"),kt("angular",rD.full,i.toString());let r=e.runOutsideAngular(()=>n(t));return new Ns(r)}}function lA(n,...e){return Lr([wU,EU,{provide:P_,useFactory:bU(n),multi:!0,deps:[Ee,Yt,jl,...e]}])}var cA=Bl(R_,!0);function yA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var _A=yA,vA=new or("auth","Firebase",yA());var Oh=new jr("@firebase/auth");function TU(n,...e){Oh.logLevel<=Ne.WARN&&Oh.warn(`Auth (${Jo}): ${n}`,...e)}function Mh(n,...e){Oh.logLevel<=Ne.ERROR&&Oh.error(`Auth (${Jo}): ${n}`,...e)}function uA(n,...e){throw G_(n,...e)}function q_(n,...e){return G_(n,...e)}function IA(n,e,t){let i=Object.assign(Object.assign({},_A()),{[e]:t});return new or("auth","Firebase",i).create(e,{appName:n.name})}function Rh(n){return IA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G_(n,...e){if(typeof n!="string"){let t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return vA.create(n,...e)}function Ge(n,e,...t){if(!n)throw G_(e,...t)}function Hl(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Mh(e),new Error(e)}function Nh(n,e){n||Hl(e)}function SU(){return dA()==="http:"||dA()==="https:"}function dA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function DU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(SU()||HD()||"connection"in navigator)?navigator.onLine:!0}function AU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ks=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nh(t>e,"Short delay should be less than long delay!"),this.isMobile=$D()||zD()}get(){return DU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xU(n,e){Nh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ph=class{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var MU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var RU=new ks(3e4,6e4);function wA(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Vh(s,o,a,l){return M(this,arguments,function*(n,e,t,i,r={}){return EA(n,r,()=>M(this,null,function*(){let u={},d={};i&&(e==="GET"?d=i:u={body:JSON.stringify(i)});let p=m_(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),Ph.fetch()(bA(n,n.config.apiHost,t,p),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},u))}))})}function EA(n,e,t){return M(this,null,function*(){n._canInitEmulator=!1;let i=Object.assign(Object.assign({},MU),e);try{let r=new L_(n),s=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xh(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(n,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw xh(n,"email-already-in-use",o);if(l==="USER_DISABLED")throw xh(n,"user-disabled",o);let d=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw IA(n,d,u);uA(n,d)}}catch(r){if(r instanceof Wn)throw r;uA(n,"network-request-failed",{message:String(r)})}})}function bA(n,e,t,i){let r=`${e}${t}?${i}`;return n.config.emulator?xU(n.config,r):`${n.config.apiScheme}://${r}`}var L_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(q_(this.auth,"network-request-failed")),RU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xh(n,e,t){let i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);let r=q_(n,e,i);return r.customData._tokenResponse=t,r}function OU(n,e){return M(this,null,function*(){return Vh(n,"POST","/v1/accounts:delete",e)})}function CA(n,e){return M(this,null,function*(){return Vh(n,"POST","/v1/accounts:lookup",e)})}function zl(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function W_(n,e=!1){return M(this,null,function*(){let t=Kn(n),i=yield t.getIdToken(e),r=TA(i);Ge(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:i,authTime:zl(k_(r.auth_time)),issuedAtTime:zl(k_(r.iat)),expirationTime:zl(k_(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function k_(n){return Number(n)*1e3}function TA(n){let[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Mh("JWT malformed, contained fewer than 3 sections"),null;try{let r=h_(t);return r?JSON.parse(r):(Mh("Failed to decode base64 JWT payload"),null)}catch(r){return Mh("Caught error parsing JWT payload as JSON",r?.toString()),null}}function hA(n){let e=TA(n);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function V_(n,e,t=!1){return M(this,null,function*(){if(t)return e;try{return yield e}catch(i){throw i instanceof Wn&&NU(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})}function NU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var U_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>M(this,null,function*(){yield this.iteration()}),t)}iteration(){return M(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Gl=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function kh(n){return M(this,null,function*(){var e;let t=n.auth,i=yield n.getIdToken(),r=yield V_(n,CA(t,{idToken:i}));Ge(r?.users.length,t,"internal-error");let s=r.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?SA(s.providerUserInfo):[],a=PU(n.providerData,o),l=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,d=l?u:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Gl(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function K_(n){return M(this,null,function*(){let e=Kn(n);yield kh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function PU(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function SA(n){return n.map(e=>{var{providerId:t}=e,i=Am(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function kU(n,e){return M(this,null,function*(){let t=yield EA(n,{},()=>M(this,null,function*(){let i=m_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,o=bA(n,r,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ph.fetch()(o,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function FU(n,e){return M(this,null,function*(){return Vh(n,"POST","/v2/accounts:revokeToken",wA(n,e))})}var ql=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");let t=hA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return M(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return M(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:s}=yield kU(e,t);this.updateTokensAndExpiration(i,r,Number(s))})}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:s}=t,o=new n;return i&&(Ge(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(Ge(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(Ge(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Hl("not implemented")}};function Hr(n,e){Ge(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Wl=class n{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,s=Am(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new U_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gl(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return M(this,null,function*(){let t=yield V_(this,this.stsTokenManager.getToken(this.auth,e));return Ge(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return W_(this,e)}reload(){return K_(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return M(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield kh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return M(this,null,function*(){if(Zo(this.auth.app))return Promise.reject(Rh(this.auth));let e=yield this.getIdToken();return yield V_(this,OU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,s,o,a,l,u,d;let p=(i=t.displayName)!==null&&i!==void 0?i:void 0,m=(r=t.email)!==null&&r!==void 0?r:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,v=(o=t.photoURL)!==null&&o!==void 0?o:void 0,T=(a=t.tenantId)!==null&&a!==void 0?a:void 0,S=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,O=(u=t.createdAt)!==null&&u!==void 0?u:void 0,L=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:q,emailVerified:K,isAnonymous:Te,providerData:X,stsTokenManager:E}=t;Ge(q&&E,e,"internal-error");let _=ql.fromJSON(this.name,E);Ge(typeof q=="string",e,"internal-error"),Hr(p,e.name),Hr(m,e.name),Ge(typeof K=="boolean",e,"internal-error"),Ge(typeof Te=="boolean",e,"internal-error"),Hr(y,e.name),Hr(v,e.name),Hr(T,e.name),Hr(S,e.name),Hr(O,e.name),Hr(L,e.name);let I=new n({uid:q,auth:e,email:m,emailVerified:K,displayName:p,isAnonymous:Te,photoURL:v,phoneNumber:y,tenantId:T,stsTokenManager:_,createdAt:O,lastLoginAt:L});return X&&Array.isArray(X)&&(I.providerData=X.map(b=>Object.assign({},b))),S&&(I._redirectEventId=S),I}static _fromIdTokenResponse(e,t,i=!1){return M(this,null,function*(){let r=new ql;r.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield kh(s),s})}static _fromGetAccountInfoResponse(e,t,i){return M(this,null,function*(){let r=t.users[0];Ge(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?SA(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,a=new ql;a.updateFromIdToken(i);let l=new n({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new Gl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var fA=new Map;function Ps(n){Nh(n instanceof Function,"Expected a class definition");let e=fA.get(n);return e?(Nh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,fA.set(n,e),e)}var LU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return M(this,null,function*(){return!0})}_set(t,i){return M(this,null,function*(){this.storage[t]=i})}_get(t){return M(this,null,function*(){let i=this.storage[t];return i===void 0?null:i})}_remove(t){return M(this,null,function*(){delete this.storage[t]})}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})(),j_=LU;function F_(n,e,t){return`firebase:${n}:${e}:${t}`}var Fh=class n{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:s}=this.auth;this.fullUserKey=F_(this.userKey,r.apiKey,s),this.fullPersistenceKey=F_("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return M(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Wl._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return M(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return M(this,null,function*(){if(!t.length)return new n(Ps(j_),e,i);let r=(yield Promise.all(t.map(u=>M(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=r[0]||Ps(j_),o=F_(i,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(o);if(d){let p=Wl._fromJSON(e,d);u!==s&&(a=p),s=u;break}}catch{}let l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new n(s,e,i):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(u=>M(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,i))})}};function pA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HU(e))return"Blackberry";if(zU(e))return"Webos";if(UU(e))return"Safari";if((e.includes("chrome/")||jU(e))&&!e.includes("edge/"))return"Chrome";if($U(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function VU(n=Mn()){return/firefox\//i.test(n)}function UU(n=Mn()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jU(n=Mn()){return/crios\//i.test(n)}function BU(n=Mn()){return/iemobile/i.test(n)}function $U(n=Mn()){return/android/i.test(n)}function HU(n=Mn()){return/blackberry/i.test(n)}function zU(n=Mn()){return/webos/i.test(n)}function DA(n,e=[]){let t;switch(n){case"Browser":t=pA(Mn());break;case"Worker":t=`${pA(Mn())}-${n}`;break;default:t=n}let i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jo}/${i}`}var B_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return M(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)yield i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(let r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function qU(t){return M(this,arguments,function*(n,e={}){return Vh(n,"GET","/v2/passwordPolicy",wA(n,e))})}var GU=6,$_=class{constructor(e){var t,i,r,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:GU,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var H_=class{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lh(this),this.idTokenSubscription=new Lh(this),this.beforeStateQueue=new B_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ps(t)),this._initializationPromise=this.queue(()=>M(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Fh.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return M(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return M(this,null,function*(){try{let t=yield CA(this,{idToken:e}),i=yield Wl._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return M(this,null,function*(){var t;if(Zo(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return M(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return M(this,null,function*(){try{yield kh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=AU()}_delete(){return M(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return M(this,null,function*(){if(Zo(this.app))return Promise.reject(Rh(this));let t=e?Kn(e):null;return t&&Ge(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return M(this,null,function*(){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>M(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return M(this,null,function*(){return Zo(this.app)?Promise.reject(Rh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zo(this.app)?Promise.reject(Rh(this)):this.queue(()=>M(this,null,function*(){yield this.assertedPersistence.setPersistence(Ps(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return M(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return M(this,null,function*(){let e=yield qU(this),t=new $_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new or("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){return M(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),yield FU(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return M(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return M(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ps(e)||this._popupRedirectResolver;Ge(t,this,"argument-error"),this.redirectPersistenceManager=yield Fh.create(this,[Ps(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return M(this,null,function*(){var t,i;return this._isInitialized&&(yield this.queue(()=>M(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return M(this,null,function*(){if(e===this.currentUser)return this.queue(()=>M(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,i,r);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return M(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return M(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t})}_getAppCheckToken(){return M(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&TU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function WU(n){return Kn(n)}var Lh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=WD(t=>this.observer=t)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var KU={loadJS(){return M(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QU(n){KU=n}function YU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function ZU(n,e){let t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ps);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}var hZ=YU("rcb"),fZ=new ks(3e4,6e4);var pZ=new ks(2e3,1e4);var mZ=10*60*1e3;var gZ=new ks(3e4,6e4);var yZ=new ks(5e3,15e3);var _Z=encodeURIComponent("fac");var mA="@firebase/auth",gA="1.7.8";var z_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return M(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function JU(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XU(n){$r(new Qn("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(n)},u=new H_(i,r,s,l);return ZU(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),$r(new Qn("auth-internal",e=>{let t=WU(e.getProvider("auth").getImmediate());return(i=>new z_(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),kt(mA,gA,JU(n)),kt(mA,gA,"esm2017")}var ej=5*60,vZ=jD("authIdTokenMaxAge")||ej;function tj(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}QU({loadJS(n){return new Promise((e,t)=>{let i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{let s=q_("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",tj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XU("Browser");var eB="auth";var Uh=class{constructor(){return Ul(eB)}};var AA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},xA={};var zr,Q_;(function(){var n;function e(E,_){function I(){}I.prototype=_.prototype,E.D=_.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(b,C,A){for(var w=Array(arguments.length-2),Vn=2;Vn<arguments.length;Vn++)w[Vn-2]=arguments[Vn];return _.prototype[C].apply(b,w)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(E,_,I){I||(I=0);var b=Array(16);if(typeof _=="string")for(var C=0;16>C;++C)b[C]=_.charCodeAt(I++)|_.charCodeAt(I++)<<8|_.charCodeAt(I++)<<16|_.charCodeAt(I++)<<24;else for(C=0;16>C;++C)b[C]=_[I++]|_[I++]<<8|_[I++]<<16|_[I++]<<24;_=E.g[0],I=E.g[1],C=E.g[2];var A=E.g[3],w=_+(A^I&(C^A))+b[0]+3614090360&4294967295;_=I+(w<<7&4294967295|w>>>25),w=A+(C^_&(I^C))+b[1]+3905402710&4294967295,A=_+(w<<12&4294967295|w>>>20),w=C+(I^A&(_^I))+b[2]+606105819&4294967295,C=A+(w<<17&4294967295|w>>>15),w=I+(_^C&(A^_))+b[3]+3250441966&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(A^I&(C^A))+b[4]+4118548399&4294967295,_=I+(w<<7&4294967295|w>>>25),w=A+(C^_&(I^C))+b[5]+1200080426&4294967295,A=_+(w<<12&4294967295|w>>>20),w=C+(I^A&(_^I))+b[6]+2821735955&4294967295,C=A+(w<<17&4294967295|w>>>15),w=I+(_^C&(A^_))+b[7]+4249261313&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(A^I&(C^A))+b[8]+1770035416&4294967295,_=I+(w<<7&4294967295|w>>>25),w=A+(C^_&(I^C))+b[9]+2336552879&4294967295,A=_+(w<<12&4294967295|w>>>20),w=C+(I^A&(_^I))+b[10]+4294925233&4294967295,C=A+(w<<17&4294967295|w>>>15),w=I+(_^C&(A^_))+b[11]+2304563134&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(A^I&(C^A))+b[12]+1804603682&4294967295,_=I+(w<<7&4294967295|w>>>25),w=A+(C^_&(I^C))+b[13]+4254626195&4294967295,A=_+(w<<12&4294967295|w>>>20),w=C+(I^A&(_^I))+b[14]+2792965006&4294967295,C=A+(w<<17&4294967295|w>>>15),w=I+(_^C&(A^_))+b[15]+1236535329&4294967295,I=C+(w<<22&4294967295|w>>>10),w=_+(C^A&(I^C))+b[1]+4129170786&4294967295,_=I+(w<<5&4294967295|w>>>27),w=A+(I^C&(_^I))+b[6]+3225465664&4294967295,A=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(A^_))+b[11]+643717713&4294967295,C=A+(w<<14&4294967295|w>>>18),w=I+(A^_&(C^A))+b[0]+3921069994&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^A&(I^C))+b[5]+3593408605&4294967295,_=I+(w<<5&4294967295|w>>>27),w=A+(I^C&(_^I))+b[10]+38016083&4294967295,A=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(A^_))+b[15]+3634488961&4294967295,C=A+(w<<14&4294967295|w>>>18),w=I+(A^_&(C^A))+b[4]+3889429448&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^A&(I^C))+b[9]+568446438&4294967295,_=I+(w<<5&4294967295|w>>>27),w=A+(I^C&(_^I))+b[14]+3275163606&4294967295,A=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(A^_))+b[3]+4107603335&4294967295,C=A+(w<<14&4294967295|w>>>18),w=I+(A^_&(C^A))+b[8]+1163531501&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(C^A&(I^C))+b[13]+2850285829&4294967295,_=I+(w<<5&4294967295|w>>>27),w=A+(I^C&(_^I))+b[2]+4243563512&4294967295,A=_+(w<<9&4294967295|w>>>23),w=C+(_^I&(A^_))+b[7]+1735328473&4294967295,C=A+(w<<14&4294967295|w>>>18),w=I+(A^_&(C^A))+b[12]+2368359562&4294967295,I=C+(w<<20&4294967295|w>>>12),w=_+(I^C^A)+b[5]+4294588738&4294967295,_=I+(w<<4&4294967295|w>>>28),w=A+(_^I^C)+b[8]+2272392833&4294967295,A=_+(w<<11&4294967295|w>>>21),w=C+(A^_^I)+b[11]+1839030562&4294967295,C=A+(w<<16&4294967295|w>>>16),w=I+(C^A^_)+b[14]+4259657740&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^A)+b[1]+2763975236&4294967295,_=I+(w<<4&4294967295|w>>>28),w=A+(_^I^C)+b[4]+1272893353&4294967295,A=_+(w<<11&4294967295|w>>>21),w=C+(A^_^I)+b[7]+4139469664&4294967295,C=A+(w<<16&4294967295|w>>>16),w=I+(C^A^_)+b[10]+3200236656&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^A)+b[13]+681279174&4294967295,_=I+(w<<4&4294967295|w>>>28),w=A+(_^I^C)+b[0]+3936430074&4294967295,A=_+(w<<11&4294967295|w>>>21),w=C+(A^_^I)+b[3]+3572445317&4294967295,C=A+(w<<16&4294967295|w>>>16),w=I+(C^A^_)+b[6]+76029189&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(I^C^A)+b[9]+3654602809&4294967295,_=I+(w<<4&4294967295|w>>>28),w=A+(_^I^C)+b[12]+3873151461&4294967295,A=_+(w<<11&4294967295|w>>>21),w=C+(A^_^I)+b[15]+530742520&4294967295,C=A+(w<<16&4294967295|w>>>16),w=I+(C^A^_)+b[2]+3299628645&4294967295,I=C+(w<<23&4294967295|w>>>9),w=_+(C^(I|~A))+b[0]+4096336452&4294967295,_=I+(w<<6&4294967295|w>>>26),w=A+(I^(_|~C))+b[7]+1126891415&4294967295,A=_+(w<<10&4294967295|w>>>22),w=C+(_^(A|~I))+b[14]+2878612391&4294967295,C=A+(w<<15&4294967295|w>>>17),w=I+(A^(C|~_))+b[5]+4237533241&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~A))+b[12]+1700485571&4294967295,_=I+(w<<6&4294967295|w>>>26),w=A+(I^(_|~C))+b[3]+2399980690&4294967295,A=_+(w<<10&4294967295|w>>>22),w=C+(_^(A|~I))+b[10]+4293915773&4294967295,C=A+(w<<15&4294967295|w>>>17),w=I+(A^(C|~_))+b[1]+2240044497&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~A))+b[8]+1873313359&4294967295,_=I+(w<<6&4294967295|w>>>26),w=A+(I^(_|~C))+b[15]+4264355552&4294967295,A=_+(w<<10&4294967295|w>>>22),w=C+(_^(A|~I))+b[6]+2734768916&4294967295,C=A+(w<<15&4294967295|w>>>17),w=I+(A^(C|~_))+b[13]+1309151649&4294967295,I=C+(w<<21&4294967295|w>>>11),w=_+(C^(I|~A))+b[4]+4149444226&4294967295,_=I+(w<<6&4294967295|w>>>26),w=A+(I^(_|~C))+b[11]+3174756917&4294967295,A=_+(w<<10&4294967295|w>>>22),w=C+(_^(A|~I))+b[2]+718787259&4294967295,C=A+(w<<15&4294967295|w>>>17),w=I+(A^(C|~_))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+_&4294967295,E.g[1]=E.g[1]+(C+(w<<21&4294967295|w>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+A&4294967295}i.prototype.u=function(E,_){_===void 0&&(_=E.length);for(var I=_-this.blockSize,b=this.B,C=this.h,A=0;A<_;){if(C==0)for(;A<=I;)r(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<_;)if(b[C++]=E.charCodeAt(A++),C==this.blockSize){r(this,b),C=0;break}}else for(;A<_;)if(b[C++]=E[A++],C==this.blockSize){r(this,b),C=0;break}}this.h=C,this.o+=_},i.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var _=1;_<E.length-8;++_)E[_]=0;var I=8*this.o;for(_=E.length-8;_<E.length;++_)E[_]=I&255,I/=256;for(this.u(E),E=Array(16),_=I=0;4>_;++_)for(var b=0;32>b;b+=8)E[I++]=this.g[_]>>>b&255;return E};function s(E,_){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=_(E)}function o(E,_){this.h=_;for(var I=[],b=!0,C=E.length-1;0<=C;C--){var A=E[C]|0;b&&A==_||(I[C]=A,b=!1)}this.g=I}var a={};function l(E){return-128<=E&&128>E?s(E,function(_){return new o([_|0],0>_?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(u(-E));for(var _=[],I=1,b=0;E>=I;b++)_[b]=E/I|0,I*=4294967296;return new o(_,0)}function d(E,_){if(E.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(E.charAt(0)=="-")return S(d(E.substring(1),_));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(_,8)),b=p,C=0;C<E.length;C+=8){var A=Math.min(8,E.length-C),w=parseInt(E.substring(C,C+A),_);8>A?(A=u(Math.pow(_,A)),b=b.j(A).add(u(w))):(b=b.j(I),b=b.add(u(w)))}return b}var p=l(0),m=l(1),y=l(16777216);n=o.prototype,n.m=function(){if(T(this))return-S(this).m();for(var E=0,_=1,I=0;I<this.g.length;I++){var b=this.i(I);E+=(0<=b?b:4294967296+b)*_,_*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(T(this))return"-"+S(this).toString(E);for(var _=u(Math.pow(E,6)),I=this,b="";;){var C=K(I,_).g;I=O(I,C.j(_));var A=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=C,v(I))return A+b;for(;6>A.length;)A="0"+A;b=A+b}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var _=0;_<E.g.length;_++)if(E.g[_]!=0)return!1;return!0}function T(E){return E.h==-1}n.l=function(E){return E=O(this,E),T(E)?-1:v(E)?0:1};function S(E){for(var _=E.g.length,I=[],b=0;b<_;b++)I[b]=~E.g[b];return new o(I,~E.h).add(m)}n.abs=function(){return T(this)?S(this):this},n.add=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0,C=0;C<=_;C++){var A=b+(this.i(C)&65535)+(E.i(C)&65535),w=(A>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);b=w>>>16,A&=65535,w&=65535,I[C]=w<<16|A}return new o(I,I[I.length-1]&-2147483648?-1:0)};function O(E,_){return E.add(S(_))}n.j=function(E){if(v(this)||v(E))return p;if(T(this))return T(E)?S(this).j(S(E)):S(S(this).j(E));if(T(E))return S(this.j(S(E)));if(0>this.l(y)&&0>E.l(y))return u(this.m()*E.m());for(var _=this.g.length+E.g.length,I=[],b=0;b<2*_;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<E.g.length;C++){var A=this.i(b)>>>16,w=this.i(b)&65535,Vn=E.i(C)>>>16,gr=E.i(C)&65535;I[2*b+2*C]+=w*gr,L(I,2*b+2*C),I[2*b+2*C+1]+=A*gr,L(I,2*b+2*C+1),I[2*b+2*C+1]+=w*Vn,L(I,2*b+2*C+1),I[2*b+2*C+2]+=A*Vn,L(I,2*b+2*C+2)}for(b=0;b<_;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=_;b<2*_;b++)I[b]=0;return new o(I,0)};function L(E,_){for(;(E[_]&65535)!=E[_];)E[_+1]+=E[_]>>>16,E[_]&=65535,_++}function q(E,_){this.g=E,this.h=_}function K(E,_){if(v(_))throw Error("division by zero");if(v(E))return new q(p,p);if(T(E))return _=K(S(E),_),new q(S(_.g),S(_.h));if(T(_))return _=K(E,S(_)),new q(S(_.g),_.h);if(30<E.g.length){if(T(E)||T(_))throw Error("slowDivide_ only works with positive integers.");for(var I=m,b=_;0>=b.l(E);)I=Te(I),b=Te(b);var C=X(I,1),A=X(b,1);for(b=X(b,2),I=X(I,2);!v(b);){var w=A.add(b);0>=w.l(E)&&(C=C.add(I),A=w),b=X(b,1),I=X(I,1)}return _=O(E,C.j(_)),new q(C,_)}for(C=p;0<=E.l(_);){for(I=Math.max(1,Math.floor(E.m()/_.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),A=u(I),w=A.j(_);T(w)||0<w.l(E);)I-=b,A=u(I),w=A.j(_);v(A)&&(A=m),C=C.add(A),E=O(E,w)}return new q(C,E)}n.A=function(E){return K(this,E).h},n.and=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)&E.i(b);return new o(I,this.h&E.h)},n.or=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)|E.i(b);return new o(I,this.h|E.h)},n.xor=function(E){for(var _=Math.max(this.g.length,E.g.length),I=[],b=0;b<_;b++)I[b]=this.i(b)^E.i(b);return new o(I,this.h^E.h)};function Te(E){for(var _=E.g.length+1,I=[],b=0;b<_;b++)I[b]=E.i(b)<<1|E.i(b-1)>>>31;return new o(I,E.h)}function X(E,_){var I=_>>5;_%=32;for(var b=E.g.length-I,C=[],A=0;A<b;A++)C[A]=0<_?E.i(A+I)>>>_|E.i(A+I+1)<<32-_:E.i(A+I);return new o(C,E.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Q_=xA.Md5=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,zr=xA.Integer=o}).apply(typeof AA<"u"?AA:typeof self<"u"?self:typeof window<"u"?window:{});var jh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lr={};var Y_,Z_,ta,J_,Kl,Bh,X_,ev,tv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,h,f){return c==Array.prototype||c==Object.prototype||(c[h]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof jh=="object"&&jh];for(var h=0;h<c.length;++h){var f=c[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=t(this);function r(c,h){if(h)e:{var f=i;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],h=h(g),h!=g&&h!=null&&e(f,c,{configurable:!0,writable:!0,value:h})}}function s(c,h){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var R=f++;return{value:h(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}r("Array.prototype.values",function(c){return c||function(){return s(this,function(h,f){return f})}});var o=o||{},a=this||self;function l(c){var h=typeof c;return h=h!="object"?h:c?Array.isArray(c)?"array":h:"null",h=="array"||h=="object"&&typeof c.length=="number"}function u(c){var h=typeof c;return h=="object"&&c!=null||h=="function"}function d(c,h,f){return c.call.apply(c.bind,arguments)}function p(c,h,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(h,D)}}return function(){return c.apply(h,arguments)}}function m(c,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function y(c,h){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function v(c,h){function f(){}f.prototype=h.prototype,c.aa=h.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,R){for(var H=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)H[Xe-2]=arguments[Xe];return h.prototype[D].apply(g,H)}}function T(c){let h=c.length;if(0<h){let f=Array(h);for(let g=0;g<h;g++)f[g]=c[g];return f}return[]}function S(c,h){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(l(g)){let D=c.length||0,R=g.length||0;c.length=D+R;for(let H=0;H<R;H++)c[D+H]=g[H]}else c.push(g)}}class O{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function L(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var Te=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function X(c,h,f){for(let g in c)h.call(f,c[g],g,c)}function E(c,h){for(let f in c)h.call(void 0,c[f],f,c)}function _(c){let h={};for(let f in c)h[f]=c[f];return h}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,h){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let R=0;R<I.length;R++)f=I[R],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var h=1;c=c.split(":");let f=[];for(;0<h&&c.length;)f.push(c.shift()),h--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=Se;let h=null;return c.g&&(h=c.g,c.g=c.g.next,c.g||(c.h=null),h.next=null),h}class Vn{constructor(){this.h=this.g=null}add(h,f){let g=gr.get();g.set(h,f),this.h?this.h.next=g:this.g=g,this.h=g}}var gr=new O(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,ne=!1,Se=new Vn,It=()=>{let c=a.Promise.resolve(void 0);ee=()=>{c.then(Un)}};var Un=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){A(f)}var h=gr;h.j(c),100>h.h&&(h.h++,c.next=h.g,h.g=c)}ne=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,h){this.type=c,this.g=this.target=h,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,h=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return c}();function yr(c,h){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=h,h=c.relatedTarget){if(Te){e:{try{K(h.nodeName);var D=!0;break e}catch{}D=!1}D||(h=null)}}else f=="mouseover"?h=c.fromElement:f=="mouseout"&&(h=c.toElement);this.relatedTarget=h,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:jp[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yr.aa.h.call(this)}}v(yr,ot);var jp={2:"touch",3:"pen",4:"mouse"};yr.prototype.h=function(){yr.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ft="closure_listenable_"+(1e6*Math.random()|0),zi=0;function fn(c,h,f,g,D){this.listener=c,this.proxy=null,this.src=h,this.type=f,this.capture=!!g,this.ha=D,this.key=++zi,this.da=this.fa=!1}function qi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _r(c){this.src=c,this.g={},this.h=0}_r.prototype.add=function(c,h,f,g,D){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var H=$p(c,h,g,D);return-1<H?(h=c[H],f||(h.fa=!1)):(h=new fn(h,this.src,R,!!g,D),h.fa=f,c.push(h)),h};function Bp(c,h){var f=h.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,h,void 0),R;(R=0<=D)&&Array.prototype.splice.call(g,D,1),R&&(qi(h),c.g[f].length==0&&(delete c.g[f],c.h--))}}function $p(c,h,f,g){for(var D=0;D<c.length;++D){var R=c[D];if(!R.da&&R.listener==h&&R.capture==!!f&&R.ha==g)return D}return-1}var Hp="closure_lm_"+(1e6*Math.random()|0),zp={};function Z0(c,h,f,g,D){if(g&&g.once)return X0(c,h,f,g,D);if(Array.isArray(h)){for(var R=0;R<h.length;R++)Z0(c,h[R],f,g,D);return null}return f=Kp(f),c&&c[ft]?c.K(h,f,u(g)?!!g.capture:!!g,D):J0(c,h,f,!1,g,D)}function J0(c,h,f,g,D,R){if(!h)throw Error("Invalid event type");var H=u(D)?!!D.capture:!!D,Xe=Gp(c);if(Xe||(c[Hp]=Xe=new _r(c)),f=Xe.add(h,f,g,H,R),f.proxy)return f;if(g=KR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)at||(D=H),D===void 0&&(D=!1),c.addEventListener(h.toString(),g,D);else if(c.attachEvent)c.attachEvent(tE(h.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function KR(){function c(f){return h.call(c.src,c.listener,f)}let h=QR;return c}function X0(c,h,f,g,D){if(Array.isArray(h)){for(var R=0;R<h.length;R++)X0(c,h[R],f,g,D);return null}return f=Kp(f),c&&c[ft]?c.L(h,f,u(g)?!!g.capture:!!g,D):J0(c,h,f,!0,g,D)}function eE(c,h,f,g,D){if(Array.isArray(h))for(var R=0;R<h.length;R++)eE(c,h[R],f,g,D);else g=u(g)?!!g.capture:!!g,f=Kp(f),c&&c[ft]?(c=c.i,h=String(h).toString(),h in c.g&&(R=c.g[h],f=$p(R,f,g,D),-1<f&&(qi(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete c.g[h],c.h--)))):c&&(c=Gp(c))&&(h=c.g[h.toString()],c=-1,h&&(c=$p(h,f,g,D)),(f=-1<c?h[c]:null)&&qp(f))}function qp(c){if(typeof c!="number"&&c&&!c.da){var h=c.src;if(h&&h[ft])Bp(h.i,c);else{var f=c.type,g=c.proxy;h.removeEventListener?h.removeEventListener(f,g,c.capture):h.detachEvent?h.detachEvent(tE(f),g):h.addListener&&h.removeListener&&h.removeListener(g),(f=Gp(h))?(Bp(f,c),f.h==0&&(f.src=null,h[Hp]=null)):qi(c)}}}function tE(c){return c in zp?zp[c]:zp[c]="on"+c}function QR(c,h){if(c.da)c=!0;else{h=new yr(h,this);var f=c.listener,g=c.ha||c.src;c.fa&&qp(c),c=f.call(g,h)}return c}function Gp(c){return c=c[Hp],c instanceof _r?c:null}var Wp="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kp(c){return typeof c=="function"?c:(c[Wp]||(c[Wp]=function(h){return c.handleEvent(h)}),c[Wp])}function zt(){ht.call(this),this.i=new _r(this),this.M=this,this.F=null}v(zt,ht),zt.prototype[ft]=!0,zt.prototype.removeEventListener=function(c,h,f,g){eE(this,c,h,f,g)};function sn(c,h){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=h.type||h,typeof h=="string")h=new ot(h,c);else if(h instanceof ot)h.target=h.target||c;else{var D=h;h=new ot(g,c),b(h,D)}if(D=!0,f)for(var R=f.length-1;0<=R;R--){var H=h.g=f[R];D=ou(H,g,!0,h)&&D}if(H=h.g=c,D=ou(H,g,!0,h)&&D,D=ou(H,g,!1,h)&&D,f)for(R=0;R<f.length;R++)H=h.g=f[R],D=ou(H,g,!1,h)&&D}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,h;for(h in c.g){for(var f=c.g[h],g=0;g<f.length;g++)qi(f[g]);delete c.g[h],c.h--}}this.F=null},zt.prototype.K=function(c,h,f,g){return this.i.add(String(c),h,!1,f,g)},zt.prototype.L=function(c,h,f,g){return this.i.add(String(c),h,!0,f,g)};function ou(c,h,f,g){if(h=c.i.g[String(h)],!h)return!0;h=h.concat();for(var D=!0,R=0;R<h.length;++R){var H=h[R];if(H&&!H.da&&H.capture==f){var Xe=H.listener,Vt=H.ha||H.src;H.fa&&Bp(c.i,H),D=Xe.call(Vt,g)!==!1&&D}}return D&&!g.defaultPrevented}function nE(c,h,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(c,h||0)}function iE(c){c.g=nE(()=>{c.g=null,c.i&&(c.i=!1,iE(c))},c.l);let h=c.h;c.h=null,c.m.apply(null,h)}class YR extends ht{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:iE(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qa(c){ht.call(this),this.h=c,this.g={}}v(qa,ht);var rE=[];function sE(c){X(c.g,function(h,f){this.g.hasOwnProperty(f)&&qp(h)},c),c.g={}}qa.prototype.N=function(){qa.aa.N.call(this),sE(this)},qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qp=a.JSON.stringify,ZR=a.JSON.parse,JR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Yp(){}Yp.prototype.h=null;function oE(c){return c.h||(c.h=c.i())}function aE(){}var Ga={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zp(){ot.call(this,"d")}v(Zp,ot);function Jp(){ot.call(this,"c")}v(Jp,ot);var ss={},lE=null;function au(){return lE=lE||new zt}ss.La="serverreachability";function cE(c){ot.call(this,ss.La,c)}v(cE,ot);function Wa(c){let h=au();sn(h,new cE(h))}ss.STAT_EVENT="statevent";function uE(c,h){ot.call(this,ss.STAT_EVENT,c),this.stat=h}v(uE,ot);function on(c){let h=au();sn(h,new uE(h,c))}ss.Ma="timingevent";function dE(c,h){ot.call(this,ss.Ma,c),this.size=h}v(dE,ot);function Ka(c,h){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},h)}function Qa(){this.g=!0}Qa.prototype.xa=function(){this.g=!1};function XR(c,h,f,g,D,R){c.info(function(){if(c.g)if(R)for(var H="",Xe=R.split("&"),Vt=0;Vt<Xe.length;Vt++){var Be=Xe[Vt].split("=");if(1<Be.length){var qt=Be[0];Be=Be[1];var Gt=qt.split("_");H=2<=Gt.length&&Gt[1]=="type"?H+(qt+"="+Be+"&"):H+(qt+"=redacted&")}}else H=null;else H=R;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+h+`
`+f+`
`+H})}function eO(c,h,f,g,D,R,H){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+h+`
`+f+`
`+R+" "+H})}function ro(c,h,f,g){c.info(function(){return"XMLHTTP TEXT ("+h+"): "+nO(c,f)+(g?" "+g:"")})}function tO(c,h){c.info(function(){return"TIMEOUT: "+h})}Qa.prototype.info=function(){};function nO(c,h){if(!c.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var R=D[0];if(R!="noop"&&R!="stop"&&R!="close")for(var H=1;H<D.length;H++)D[H]=""}}}}return Qp(f)}catch{return h}}var lu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xp;function cu(){}v(cu,Yp),cu.prototype.g=function(){return new XMLHttpRequest},cu.prototype.i=function(){return{}},Xp=new cu;function vr(c,h,f,g){this.j=c,this.i=h,this.l=f,this.R=g||1,this.U=new qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fE}function fE(){this.i=null,this.g="",this.h=!1}var pE={},em={};function tm(c,h,f){c.L=1,c.v=fu(Gi(h)),c.m=f,c.P=!0,mE(c,null)}function mE(c,h){c.F=Date.now(),uu(c),c.A=Gi(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),xE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new fE,c.g=WE(c.j,f?h:null,!c.m),0<c.O&&(c.M=new YR(m(c.Y,c,c.g),c.O)),h=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(rE[0]=D.toString()),D=rE);for(var R=0;R<D.length;R++){var H=Z0(f,D[R],g||h.handleEvent,!1,h.h||h);if(!H)break;h.g[H.key]=H}h=c.H?_(c.H):{},c.m?(c.u||(c.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,h)):(c.u="GET",c.g.ea(c.A,c.u,null,h)),Wa(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}vr.prototype.ca=function(c){c=c.target;let h=this.M;h&&Wi(c)==3?h.j():this.Y(c)},vr.prototype.Y=function(c){try{if(c==this.g)e:{let Gt=Wi(this.g);var h=this.g.Ba();let ao=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||FE(this.g)))){this.J||Gt!=4||h==7||(h==8||0>=ao?Wa(3):Wa(2)),nm(this);var f=this.g.Z();this.X=f;t:if(gE(this)){var g=FE(this.g);c="";var D=g.length,R=Wi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),Ya(this);var H="";break t}this.h.i=new a.TextDecoder}for(h=0;h<D;h++)this.h.h=!0,c+=this.h.i.decode(g[h],{stream:!(R&&h==D-1)});g.length=0,this.h.g+=c,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=f==200,eO(this.i,this.u,this.A,this.l,this.R,Gt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Vt=this.g;if((Xe=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Xe)){var Be=Xe;break t}}Be=null}if(f=Be)ro(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,im(this,f);else{this.o=!1,this.s=3,on(12),os(this),Ya(this);break e}}if(this.P){f=!0;let Xn;for(;!this.J&&this.C<H.length;)if(Xn=iO(this,H),Xn==em){Gt==4&&(this.s=4,on(14),f=!1),ro(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==pE){this.s=4,on(15),ro(this.i,this.l,H,"[Invalid Chunk]"),f=!1;break}else ro(this.i,this.l,Xn,null),im(this,Xn);if(gE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||H.length!=0||this.h.h||(this.s=1,on(16),f=!1),this.o=this.o&&f,!f)ro(this.i,this.l,H,"[Invalid Chunked Response]"),os(this),Ya(this);else if(0<H.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),cm(qt),qt.M=!0,on(11))}}else ro(this.i,this.l,H,null),im(this,H);Gt==4&&os(this),this.o&&!this.J&&(Gt==4?HE(this.j,this):(this.o=!1,uu(this)))}else IO(this.g),f==400&&0<H.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),os(this),Ya(this)}}}catch{}finally{}};function gE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function iO(c,h){var f=c.C,g=h.indexOf(`
`,f);return g==-1?em:(f=Number(h.substring(f,g)),isNaN(f)?pE:(g+=1,g+f>h.length?em:(h=h.slice(g,g+f),c.C=g+f,h)))}vr.prototype.cancel=function(){this.J=!0,os(this)};function uu(c){c.S=Date.now()+c.I,yE(c,c.I)}function yE(c,h){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ka(m(c.ba,c),h)}function nm(c){c.B&&(a.clearTimeout(c.B),c.B=null)}vr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(tO(this.i,this.A),this.L!=2&&(Wa(),on(17)),os(this),this.s=2,Ya(this)):yE(this,this.S-c)};function Ya(c){c.j.G==0||c.J||HE(c.j,c)}function os(c){nm(c);var h=c.M;h&&typeof h.ma=="function"&&h.ma(),c.M=null,sE(c.U),c.g&&(h=c.g,c.g=null,h.abort(),h.ma())}function im(c,h){try{var f=c.j;if(f.G!=0&&(f.g==c||rm(f.h,c))){if(!c.K&&rm(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(h)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)_u(f),gu(f);else break e;lm(f),on(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ka(m(f.Za,f),6e3));if(1>=IE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ls(f,11)}else if((c.K||f.g==c)&&_u(f),!L(h))for(D=f.Da.g.parse(h),h=0;h<D.length;h++){let Be=D[h];if(f.T=Be[0],Be=Be[1],f.G==2)if(Be[0]=="c"){f.K=Be[1],f.ia=Be[2];let qt=Be[3];qt!=null&&(f.la=qt,f.j.info("VER="+f.la));let Gt=Be[4];Gt!=null&&(f.Aa=Gt,f.j.info("SVER="+f.Aa));let ao=Be[5];ao!=null&&typeof ao=="number"&&0<ao&&(g=1.5*ao,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Xn=c.g;if(Xn){let Iu=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Iu){var R=g.h;R.g||Iu.indexOf("spdy")==-1&&Iu.indexOf("quic")==-1&&Iu.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(sm(R,R.h),R.h=null))}if(g.D){let um=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;um&&(g.ya=um,lt(g.I,g.D,um))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var H=c;if(g.qa=GE(g,g.J?g.ia:null,g.W),H.K){wE(g.h,H);var Xe=H,Vt=g.L;Vt&&(Xe.I=Vt),Xe.B&&(nm(Xe),uu(Xe)),g.g=H}else BE(g);0<f.i.length&&yu(f)}else Be[0]!="stop"&&Be[0]!="close"||ls(f,7);else f.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?ls(f,7):am(f):Be[0]!="noop"&&f.l&&f.l.ta(Be),f.v=0)}}Wa(4)}catch{}}var rO=class{constructor(c,h){this.g=c,this.map=h}};function _E(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function IE(c){return c.h?1:c.g?c.g.size:0}function rm(c,h){return c.h?c.h==h:c.g?c.g.has(h):!1}function sm(c,h){c.g?c.g.add(h):c.h=h}function wE(c,h){c.h&&c.h==h?c.h=null:c.g&&c.g.has(h)&&c.g.delete(h)}_E.prototype.cancel=function(){if(this.i=EE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function EE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let h=c.i;for(let f of c.g.values())h=h.concat(f.D);return h}return T(c.i)}function sO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var h=[],f=c.length,g=0;g<f;g++)h.push(c[g]);return h}h=[],f=0;for(g in c)h[f++]=c[g];return h}function oO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var h=[];c=c.length;for(var f=0;f<c;f++)h.push(f);return h}h=[],f=0;for(let g in c)h[f++]=g;return h}}}function bE(c,h){if(c.forEach&&typeof c.forEach=="function")c.forEach(h,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,h,void 0);else for(var f=oO(c),g=sO(c),D=g.length,R=0;R<D;R++)h.call(void 0,g[R],f&&f[R],c)}var CE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aO(c,h){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var R=c[f].substring(0,g);D=c[f].substring(g+1)}else R=c[f];h(R,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function as(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof as){this.h=c.h,du(this,c.j),this.o=c.o,this.g=c.g,hu(this,c.s),this.l=c.l;var h=c.i,f=new Xa;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),TE(this,f),this.m=c.m}else c&&(h=String(c).match(CE))?(this.h=!1,du(this,h[1]||"",!0),this.o=Za(h[2]||""),this.g=Za(h[3]||"",!0),hu(this,h[4]),this.l=Za(h[5]||"",!0),TE(this,h[6]||"",!0),this.m=Za(h[7]||"")):(this.h=!1,this.i=new Xa(null,this.h))}as.prototype.toString=function(){var c=[],h=this.j;h&&c.push(Ja(h,SE,!0),":");var f=this.g;return(f||h=="file")&&(c.push("//"),(h=this.o)&&c.push(Ja(h,SE,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ja(f,f.charAt(0)=="/"?uO:cO,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ja(f,hO)),c.join("")};function Gi(c){return new as(c)}function du(c,h,f){c.j=f?Za(h,!0):h,c.j&&(c.j=c.j.replace(/:$/,""))}function hu(c,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);c.s=h}else c.s=null}function TE(c,h,f){h instanceof Xa?(c.i=h,fO(c.i,c.h)):(f||(h=Ja(h,dO)),c.i=new Xa(h,c.h))}function lt(c,h,f){c.i.set(h,f)}function fu(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Za(c,h){return c?h?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ja(c,h,f){return typeof c=="string"?(c=encodeURI(c).replace(h,lO),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var SE=/[#\/\?@]/g,cO=/[#\?:]/g,uO=/[#\?]/g,dO=/[#\?@]/g,hO=/#/g;function Xa(c,h){this.h=this.g=null,this.i=c||null,this.j=!!h}function Ir(c){c.g||(c.g=new Map,c.h=0,c.i&&aO(c.i,function(h,f){c.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=Xa.prototype,n.add=function(c,h){Ir(this),this.i=null,c=so(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(h),this.h+=1,this};function DE(c,h){Ir(c),h=so(c,h),c.g.has(h)&&(c.i=null,c.h-=c.g.get(h).length,c.g.delete(h))}function AE(c,h){return Ir(c),h=so(c,h),c.g.has(h)}n.forEach=function(c,h){Ir(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(h,D,g,this)},this)},this)},n.na=function(){Ir(this);let c=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let g=0;g<h.length;g++){let D=c[g];for(let R=0;R<D.length;R++)f.push(h[g])}return f},n.V=function(c){Ir(this);let h=[];if(typeof c=="string")AE(this,c)&&(h=h.concat(this.g.get(so(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)h=h.concat(c[f])}return h},n.set=function(c,h){return Ir(this),this.i=null,c=so(this,c),AE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[h]),this.h+=1,this},n.get=function(c,h){return c?(c=this.V(c),0<c.length?String(c[0]):h):h};function xE(c,h,f){DE(c,h),0<f.length&&(c.i=null,c.g.set(so(c,h),T(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var g=h[f];let R=encodeURIComponent(String(g)),H=this.V(g);for(g=0;g<H.length;g++){var D=R;H[g]!==""&&(D+="="+encodeURIComponent(String(H[g]))),c.push(D)}}return this.i=c.join("&")};function so(c,h){return h=String(h),c.j&&(h=h.toLowerCase()),h}function fO(c,h){h&&!c.j&&(Ir(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(DE(this,g),xE(this,D,f))},c)),c.j=h}function pO(c,h){let f=new Qa;if(a.Image){let g=new Image;g.onload=y(wr,f,"TestLoadImage: loaded",!0,h,g),g.onerror=y(wr,f,"TestLoadImage: error",!1,h,g),g.onabort=y(wr,f,"TestLoadImage: abort",!1,h,g),g.ontimeout=y(wr,f,"TestLoadImage: timeout",!1,h,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else h(!1)}function mO(c,h){let f=new Qa,g=new AbortController,D=setTimeout(()=>{g.abort(),wr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(D),R.ok?wr(f,"TestPingServer: ok",!0,h):wr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(D),wr(f,"TestPingServer: error",!1,h)})}function wr(c,h,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function gO(){this.g=new JR}function yO(c,h,f){let g=f||"";try{bE(c,function(D,R){let H=D;u(D)&&(H=Qp(D)),h.push(g+R+"="+encodeURIComponent(H))})}catch(D){throw h.push(g+"type="+encodeURIComponent("_badmap")),D}}function el(c){this.l=c.Ub||null,this.j=c.eb||!1}v(el,Yp),el.prototype.g=function(){return new pu(this.l,this.j)},el.prototype.i=function(c){return function(){return c}}({});function pu(c,h){zt.call(this),this.D=c,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(pu,zt),n=pu.prototype,n.open=function(c,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=h,this.readyState=1,nl(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(h.body=c),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tl(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nl(this)),this.g&&(this.readyState=3,nl(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ME(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ME(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var h=c.value?c.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!c.done}))&&(this.response=this.responseText+=h)}c.done?tl(this):nl(this),this.readyState==3&&ME(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,tl(this))},n.Qa=function(c){this.g&&(this.response=c,tl(this))},n.ga=function(){this.g&&tl(this)};function tl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nl(c)}n.setRequestHeader=function(c,h){this.u.append(c,h)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=h.next();return c.join(`\r
`)};function nl(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function RE(c){let h="";return X(c,function(f,g){h+=g,h+=":",h+=f,h+=`\r
`}),h}function om(c,h,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=RE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):lt(c,h,f))}function pt(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(pt,zt);var _O=/^https?$/i,vO=["POST","PUT"];n=pt.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,h,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);h=h?h.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xp.g(),this.v=this.o?oE(this.o):oE(Xp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(c),!0),this.B=!1}catch(R){OE(this,R);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())f.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vO,h,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,H]of f)this.g.setRequestHeader(R,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kE(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){OE(this,R)}};function OE(c,h){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=h,c.m=5,NE(c),mu(c)}function NE(c){c.A||(c.A=!0,sn(c,"complete"),sn(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,sn(this,"complete"),sn(this,"abort"),mu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mu(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?PE(this):this.bb())},n.bb=function(){PE(this)};function PE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Wi(c)!=4||c.Z()!=2)){if(c.u&&Wi(c)==4)nE(c.Ea,0,c);else if(sn(c,"readystatechange"),Wi(c)==4){c.h=!1;try{let H=c.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var g;if(g=H===0){var D=String(c.D).match(CE)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!_O.test(D?D.toLowerCase():"")}f=g}if(f)sn(c,"complete"),sn(c,"success");else{c.m=6;try{var R=2<Wi(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",NE(c)}}finally{mu(c)}}}}function mu(c,h){if(c.g){kE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,h||sn(c,"ready");try{f.onreadystatechange=g}catch{}}}function kE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Wi(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Wi(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var h=this.g.responseText;return c&&h.indexOf(c)==0&&(h=h.substring(c.length)),ZR(h)}};function FE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IO(c){let h={};c=(c.g&&2<=Wi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(L(c[g]))continue;var f=C(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=h[D]||[];h[D]=R,R.push(f)}E(h,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function il(c,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||h}function LE(c){this.Aa=0,this.i=[],this.j=new Qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=il("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=il("baseRetryDelayMs",5e3,c),this.cb=il("retryDelaySeedMs",1e4,c),this.Wa=il("forwardChannelMaxRetries",2,c),this.wa=il("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _E(c&&c.concurrentRequestLimit),this.Da=new gO,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=LE.prototype,n.la=8,n.G=1,n.connect=function(c,h,f,g){on(0),this.W=c,this.H=h||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=GE(this,null,this.W),yu(this)};function am(c){if(VE(c),c.G==3){var h=c.U++,f=Gi(c.I);if(lt(f,"SID",c.K),lt(f,"RID",h),lt(f,"TYPE","terminate"),rl(c,f),h=new vr(c,c.j,h),h.L=2,h.v=fu(Gi(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=WE(h.j,null),h.g.ea(h.v)),h.F=Date.now(),uu(h)}qE(c)}function gu(c){c.g&&(cm(c),c.g.cancel(),c.g=null)}function VE(c){gu(c),c.u&&(a.clearTimeout(c.u),c.u=null),_u(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yu(c){if(!vE(c.h)&&!c.s){c.s=!0;var h=c.Ga;ee||It(),ne||(ee(),ne=!0),Se.add(h,c),c.B=0}}function wO(c,h){return IE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=h.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ka(m(c.Ga,c,h),zE(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new vr(this,this.j,c),R=this.o;if(this.S&&(R?(R=_(R),b(R,this.S)):R=this.S),this.m!==null||this.O||(D.H=R,R=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(h+=g,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=jE(this,D,h),f=Gi(this.I),lt(f,"RID",c),lt(f,"CVER",22),this.D&&lt(f,"X-HTTP-Session-Id",this.D),rl(this,f),R&&(this.O?h="headers="+encodeURIComponent(String(RE(R)))+"&"+h:this.m&&om(f,this.m,R)),sm(this.h,D),this.Ua&&lt(f,"TYPE","init"),this.P?(lt(f,"$req",h),lt(f,"SID","null"),D.T=!0,tm(D,f,null)):tm(D,f,h),this.G=2}}else this.G==3&&(c?UE(this,c):this.i.length==0||vE(this.h)||UE(this))};function UE(c,h){var f;h?f=h.l:f=c.U++;let g=Gi(c.I);lt(g,"SID",c.K),lt(g,"RID",f),lt(g,"AID",c.T),rl(c,g),c.m&&c.o&&om(g,c.m,c.o),f=new vr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),h&&(c.i=h.D.concat(c.i)),h=jE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sm(c.h,f),tm(f,g,h)}function rl(c,h){c.H&&X(c.H,function(f,g){lt(h,g,f)}),c.l&&bE({},function(f,g){lt(h,g,f)})}function jE(c,h,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let R=-1;for(;;){let H=["count="+f];R==-1?0<f?(R=D[0].g,H.push("ofs="+R)):R=0:H.push("ofs="+R);let Xe=!0;for(let Vt=0;Vt<f;Vt++){let Be=D[Vt].g,qt=D[Vt].map;if(Be-=R,0>Be)R=Math.max(0,D[Vt].g-100),Xe=!1;else try{yO(qt,H,"req"+Be+"_")}catch{g&&g(qt)}}if(Xe){g=H.join("&");break e}}}return c=c.i.splice(0,f),h.D=c,g}function BE(c){if(!c.g&&!c.u){c.Y=1;var h=c.Fa;ee||It(),ne||(ee(),ne=!0),Se.add(h,c),c.v=0}}function lm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ka(m(c.Fa,c),zE(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,$E(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ka(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),gu(this),$E(this))};function cm(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $E(c){c.g=new vr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var h=Gi(c.qa);lt(h,"RID","rpc"),lt(h,"SID",c.K),lt(h,"AID",c.T),lt(h,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(h,"TO",c.ja),lt(h,"TYPE","xmlhttp"),rl(c,h),c.m&&c.o&&om(h,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=fu(Gi(h)),f.m=null,f.P=!0,mE(f,c)}n.Za=function(){this.C!=null&&(this.C=null,gu(this),lm(this),on(19))};function _u(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function HE(c,h){var f=null;if(c.g==h){_u(c),cm(c),c.g=null;var g=2}else if(rm(c.h,h))f=h.D,wE(c.h,h),g=1;else return;if(c.G!=0){if(h.o)if(g==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var D=c.B;g=au(),sn(g,new dE(g,f)),yu(c)}else BE(c);else if(D=h.s,D==3||D==0&&0<h.X||!(g==1&&wO(c,h)||g==2&&lm(c)))switch(f&&0<f.length&&(h=c.h,h.i=h.i.concat(f)),D){case 1:ls(c,5);break;case 4:ls(c,10);break;case 3:ls(c,6);break;default:ls(c,2)}}}function zE(c,h){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*h}function ls(c,h){if(c.j.info("Error code "+h),h==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new as(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||du(g,"https"),fu(g),D?pO(g.toString(),f):mO(g.toString(),f)}else on(2);c.G=0,c.l&&c.l.sa(h),qE(c),VE(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function qE(c){if(c.G=0,c.ka=[],c.l){let h=EE(c.h);(h.length!=0||c.i.length!=0)&&(S(c.ka,h),S(c.ka,c.i),c.h.i.length=0,T(c.i),c.i.length=0),c.l.ra()}}function GE(c,h,f){var g=f instanceof as?Gi(f):new as(f);if(g.g!="")h&&(g.g=h+"."+g.g),hu(g,g.s);else{var D=a.location;g=D.protocol,h=h?h+"."+D.hostname:D.hostname,D=+D.port;var R=new as(null);g&&du(R,g),h&&(R.g=h),D&&hu(R,D),f&&(R.l=f),g=R}return f=c.D,h=c.ya,f&&h&&lt(g,f,h),lt(g,"VER",c.la),rl(c,g),g}function WE(c,h,f){if(h&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=c.Ca&&!c.pa?new pt(new el({eb:f})):new pt(c.pa),h.Ha(c.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function KE(){}n=KE.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function vu(){}vu.prototype.g=function(c,h){return new wn(c,h)};function wn(c,h){zt.call(this),this.g=new LE(h),this.l=c,this.h=h&&h.messageUrlParams||null,c=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(c?c["X-WebChannel-Content-Type"]=h.messageContentType:c={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(c?c["X-WebChannel-Client-Profile"]=h.va:c={"X-WebChannel-Client-Profile":h.va}),this.g.S=c,(c=h&&h.Sb)&&!L(c)&&(this.g.m=c),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!L(h)&&(this.g.D=h,c=this.h,c!==null&&h in c&&(c=this.h,h in c&&delete c[h])),this.j=new oo(this)}v(wn,zt),wn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){am(this.g)},wn.prototype.o=function(c){var h=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Qp(c),c=f);h.i.push(new rO(h.Ya++,c)),h.G==3&&yu(h)},wn.prototype.N=function(){this.g.l=null,delete this.j,am(this.g),delete this.g,wn.aa.N.call(this)};function QE(c){Zp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var h=c.__sm__;if(h){e:{for(let f in h){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,h=h!==null&&c in h?h[c]:void 0),this.data=h}else this.data=c}v(QE,Zp);function YE(){Jp.call(this),this.status=1}v(YE,Jp);function oo(c){this.g=c}v(oo,KE),oo.prototype.ua=function(){sn(this.g,"a")},oo.prototype.ta=function(c){sn(this.g,new QE(c))},oo.prototype.sa=function(c){sn(this.g,new YE)},oo.prototype.ra=function(){sn(this.g,"b")},vu.prototype.createWebChannel=vu.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,tv=lr.createWebChannelTransport=function(){return new vu},ev=lr.getStatEventTarget=function(){return au()},X_=lr.Event=ss,Bh=lr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lu.NO_ERROR=0,lu.TIMEOUT=8,lu.HTTP_ERROR=6,Kl=lr.ErrorCode=lu,hE.COMPLETE="complete",J_=lr.EventType=hE,aE.EventType=Ga,Ga.OPEN="a",Ga.CLOSE="b",Ga.ERROR="c",Ga.MESSAGE="d",zt.prototype.listen=zt.prototype.K,ta=lr.WebChannel=aE,Z_=lr.FetchXmlHttpFactory=el,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,Y_=lr.XhrIo=pt}).apply(typeof jh<"u"?jh:typeof self<"u"?self:typeof window<"u"?window:{});var MA="@firebase/firestore";var Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");var Ea="10.13.1";var Us=new jr("@firebase/firestore");function Ql(){return Us.logLevel}function J(n,...e){if(Us.logLevel<=Ne.DEBUG){let t=e.map(zI);Us.debug(`Firestore (${Ea}): ${n}`,...t)}}function cr(n,...e){if(Us.logLevel<=Ne.ERROR){let t=e.map(zI);Us.error(`Firestore (${Ea}): ${n}`,...t)}}function ca(n,...e){if(Us.logLevel<=Ne.WARN){let t=e.map(zI);Us.warn(`Firestore (${Ea}): ${n}`,...t)}}function zI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ce(n="Unexpected state"){let e=`FIRESTORE (${Ea}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function st(n,e){n||ce()}function pe(n,e){return n}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Y=class extends Wn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Pi=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Gh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ov=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ft.UNAUTHENTICATED))}shutdown(){}},av=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},lv=class{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve(),s=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pi,e.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>M(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pi)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string"),new Gh(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new Ft(e)}},cv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},uv=class{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new cv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},dv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},hv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=s=>{s.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};let r=s=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new dv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function tB(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}var Wh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=tB(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%e.length))}return i}};function $e(n,e){return n<e?-1:n>e?1:0}function ua(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}var Pt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Y(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new n(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ve=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Pt(0,0))}static max(){return new n(new Pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Kh=class n{constructor(e,t,i){t===void 0?t=0:t>e.length&&ce(),i===void 0?i=e.length-t:i>e.length-t&&ce(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let s=e.get(r),o=t.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},dt=class n extends Kh{construct(e,t,i){return new n(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new Y(F.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new n(t)}static emptyPath(){return new n([])}},nB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Rn=class n extends Kh{construct(e,t,i){return new n(e,t,i)}static isValidIdentifier(e){return nB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],i="",r=0,s=()=>{if(i.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""},o=!1;for(;r<e.length;){let a=e[r];if(a==="\\"){if(r+1===e.length)throw new Y(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new Y(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var re=class n{constructor(e){this.path=e}static fromPath(e){return new n(dt.fromString(e))}static fromName(e){return new n(dt.fromString(e).popFirst(5))}static empty(){return new n(dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return dt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new dt(e.slice()))}};var fv=class{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}};fv.UNKNOWN_ID=-1;function iB(n,e){let t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=ve.fromTimestamp(i===1e9?new Pt(t+1,0):new Pt(t,i));return new js(r,re.empty(),e)}function rB(n){return new js(n.readTime,n.key,-1)}var js=class n{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new n(ve.min(),re.empty(),-1)}static max(){return new n(ve.max(),re.empty(),-1)}};function sB(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=re.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}var oB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",pv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function pc(n){return M(this,null,function*(){if(n.code!==F.FAILED_PRECONDITION||n.message!==oB)throw n;J("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(t,s).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,i)=>{t(e)})}static reject(e){return new n((t,i)=>{i(e)})}static waitFor(e){return new n((t,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&t()},l=>i(l))}),o=!0,s===r&&t()})}static or(e){let t=n.resolve(!1);for(let i of e)t=t.next(r=>r?n.resolve(r):i());return t}static forEach(e,t){let i=[];return e.forEach((r,s)=>{i.push(t.call(this,r,s))}),this.waitFor(i)}static mapArray(e,t){return new n((i,r)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;t(e[u]).next(d=>{o[u]=d,++a,a===s&&i(o)},d=>r(d))}})}static doWhile(e,t){return new n((i,r)=>{let s=()=>{e()===!0?t().next(()=>{s()},r):i()};s()})}};function aB(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function mc(n){return n.name==="IndexedDbTransactionError"}var c1=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Ef(n){return n==null}function tc(n){return n===0&&1/n==-1/0}function lB(n){return typeof n=="number"&&Number.isInteger(n)&&!tc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var cB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],IJ=[...cB,"documentOverlays"],uB=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dB=uB,hB=[...dB,"indexConfiguration","indexState","indexEntries"];var wJ=[...hB,"globals"];function RA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ba(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function u1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var vt=class n{constructor(e,t){this.comparator=e,this.root=t||ki.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ki.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sa(this.root,e,this.comparator,!1)}getReverseIterator(){return new sa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sa(this.root,e,this.comparator,!0)}},sa=class{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,t&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ki=class n{constructor(e,t,i,r,s){this.key=e,this.value=t,this.color=i??n.RED,this.left=r??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,s){return new n(e??this.key,t??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,t,i),null):s===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return n.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();let e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}};ki.EMPTY=null,ki.RED=!0,ki.BLACK=!1;ki.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,t,i,r,s){return this}insert(e,t,i){return new ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var en=class n{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qh(this.data.getIterator())}getIteratorFrom(e){return new Qh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Qh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Ni=class n{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new n([])}unionWith(e){let t=new en(Rn.comparator);for(let i of this.fields)t=t.add(i);for(let i of e)t=t.add(i);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,(t,i)=>t.isEqual(i))}};var Yh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var tn=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Yh("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};tn.EMPTY_BYTE_STRING=new tn("");var fB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(n){if(st(!!n),typeof n=="string"){let e=0,t=fB.exec(n);if(st(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gr(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}function qI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function GI(n){let e=n.mapValue.fields.__previous_value__;return qI(e)?GI(e):e}function nc(n){let e=ur(n.mapValue.fields.__local_write_time__.timestampValue);return new Pt(e.seconds,e.nanos)}var mv=class{constructor(e,t,i,r,s,o,a,l,u){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Zh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var $h={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qI(n)?4:h1(n)?9007199254740991:d1(n)?10:11:ce()}function Vi(n,e){if(n===e)return!0;let t=Bs(n);if(t!==Bs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return nc(n).isEqual(nc(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=ur(r.timestampValue),a=ur(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,s){return Gr(r.bytesValue).isEqual(Gr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return ct(r.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(r.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return ct(r.integerValue)===ct(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=ct(r.doubleValue),a=ct(s.doubleValue);return o===a?tc(o)===tc(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ua(n.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(RA(o)!==RA(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vi(o[l],a[l])))return!1;return!0}(n,e);default:return ce()}}function ic(n,e){return(n.values||[]).find(t=>Vi(t,e))!==void 0}function da(n,e){if(n===e)return 0;let t=Bs(n),i=Bs(e);if(t!==i)return $e(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=ct(s.integerValue||s.doubleValue),l=ct(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return OA(n.timestampValue,e.timestampValue);case 4:return OA(nc(n),nc(e));case 5:return $e(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Gr(s),l=Gr(o);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=$e(a[u],l[u]);if(d!==0)return d}return $e(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=$e(ct(s.latitude),ct(o.latitude));return a!==0?a:$e(ct(s.longitude),ct(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return NA(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,v=(l=m.value)===null||l===void 0?void 0:l.arrayValue,T=$e(((u=y?.values)===null||u===void 0?void 0:u.length)||0,((d=v?.values)===null||d===void 0?void 0:d.length)||0);return T!==0?T:NA(y,v)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===$h.mapValue&&o===$h.mapValue)return 0;if(s===$h.mapValue)return 1;if(o===$h.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let p=0;p<l.length&&p<d.length;++p){let m=$e(l[p],d[p]);if(m!==0)return m;let y=da(a[l[p]],u[d[p]]);if(y!==0)return y}return $e(l.length,d.length)}(n.mapValue,e.mapValue);default:throw ce()}}function OA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);let t=ur(n),i=ur(e),r=$e(t.seconds,i.seconds);return r!==0?r:$e(t.nanos,i.nanos)}function NA(n,e){let t=n.values||[],i=e.values||[];for(let r=0;r<t.length&&r<i.length;++r){let s=da(t[r],i[r]);if(s)return s}return $e(t.length,i.length)}function ha(n){return gv(n)}function gv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let i=ur(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(let s of t.values||[])r?r=!1:i+=",",i+=gv(s);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){let i=Object.keys(t.fields||{}).sort(),r="{",s=!0;for(let o of i)s?s=!1:r+=",",r+=`${o}:${gv(t.fields[o])}`;return r+"}"}(n.mapValue):ce()}function PA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yv(n){return!!n&&"integerValue"in n}function WI(n){return!!n&&"arrayValue"in n}function kA(n){return!!n&&"nullValue"in n}function FA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zh(n){return!!n&&"mapValue"in n}function d1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Zl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ba(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Zl(i)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function h1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fi=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!zh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=Rn.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}o?i[a.lastSegment()]=Zl(o):r.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,i,r)}delete(e){let t=this.field(e.popLast());zh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];zh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){ba(t,(r,s)=>e[r]=s);for(let r of i)delete e[r]}clone(){return new n(Zl(this.value))}};function f1(n){let e=[];return ba(n.fields,(t,i)=>{let r=new Rn([t]);if(zh(i)){let s=f1(i.mapValue).fields;if(s.length===0)e.push(r);else for(let o of s)e.push(r.child(o))}else e.push(r)}),new Ni(e)}var pi=class n{constructor(e,t,i,r,s,o,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ve.min(),ve.min(),ve.min(),fi.empty(),0)}static newFoundDocument(e,t,i,r){return new n(e,1,t,ve.min(),i,r,0)}static newNoDocument(e,t){return new n(e,2,t,ve.min(),ve.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ve.min(),ve.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var fa=class{constructor(e,t){this.position=e,this.inclusive=t}};function LA(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){let s=e[r],o=n.position[r];if(s.field.isKeyField()?i=re.comparator(re.fromName(o.referenceValue),t.key):i=da(o,t.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function VA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vi(n.position[t],e.position[t]))return!1;return!0}var pa=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function pB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Jh=class{},xt=class n extends Jh{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new vv(e,t,i):t==="array-contains"?new Ev(e,i):t==="in"?new bv(e,i):t==="not-in"?new Cv(e,i):t==="array-contains-any"?new Tv(e,i):new n(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Iv(e,i):new wv(e,i)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(da(t,this.value)):t!==null&&Bs(this.value)===Bs(t)&&this.matchesComparison(da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},mi=class n extends Jh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return p1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function p1(n){return n.op==="and"}function m1(n){return mB(n)&&p1(n)}function mB(n){for(let e of n.filters)if(e instanceof mi)return!1;return!0}function _v(n){if(n instanceof xt)return n.field.canonicalString()+n.op.toString()+ha(n.value);if(m1(n))return n.filters.map(e=>_v(e)).join(",");{let e=n.filters.map(t=>_v(t)).join(",");return`${n.op}(${e})`}}function g1(n,e){return n instanceof xt?function(i,r){return r instanceof xt&&i.op===r.op&&i.field.isEqual(r.field)&&Vi(i.value,r.value)}(n,e):n instanceof mi?function(i,r){return r instanceof mi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&g1(o,r.filters[a]),!0):!1}(n,e):void ce()}function y1(n){return n instanceof xt?function(t){return`${t.field.canonicalString()} ${t.op} ${ha(t.value)}`}(n):n instanceof mi?function(t){return t.op.toString()+" {"+t.getFilters().map(y1).join(" ,")+"}"}(n):"Filter"}var vv=class extends xt{constructor(e,t,i){super(e,t,i),this.key=re.fromName(i.referenceValue)}matches(e){let t=re.comparator(e.key,this.key);return this.matchesComparison(t)}},Iv=class extends xt{constructor(e,t){super(e,"in",t),this.keys=_1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},wv=class extends xt{constructor(e,t){super(e,"not-in",t),this.keys=_1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>re.fromName(i.referenceValue))}var Ev=class extends xt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return WI(t)&&ic(t.arrayValue,this.value)}},bv=class extends xt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&ic(this.value.arrayValue,t)}},Cv=class extends xt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!ic(this.value.arrayValue,t)}},Tv=class extends xt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!WI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>ic(this.value.arrayValue,i))}};var Sv=class{constructor(e,t=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function UA(n,e=null,t=[],i=[],r=null,s=null,o=null){return new Sv(n,e,t,i,r,s,o)}function KI(n){let e=pe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>_v(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ha(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ha(i)).join(",")),e.ue=t}return e.ue}function QI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!g1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!VA(n.startAt,e.startAt)&&VA(n.endAt,e.endAt)}function Dv(n){return re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var $s=class{constructor(e,t=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gB(n,e,t,i,r,s,o,a){return new $s(n,e,t,i,r,s,o,a)}function v1(n){return new $s(n)}function jA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function I1(n){return n.collectionGroup!==null}function Jl(n){let e=pe(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new en(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new pa(s,i))}),t.has(Rn.keyField().canonicalString())||e.ce.push(new pa(Rn.keyField(),i))}return e.ce}function Fi(n){let e=pe(n);return e.le||(e.le=yB(e,Jl(n))),e.le}function yB(n,e){if(n.limitType==="F")return UA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new pa(r.field,s)});let t=n.endAt?new fa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new fa(n.startAt.position,n.startAt.inclusive):null;return UA(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Av(n,e){let t=n.filters.concat([e]);return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function xv(n,e,t){return new $s(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function bf(n,e){return QI(Fi(n),Fi(e))&&n.limitType===e.limitType}function w1(n){return`${KI(Fi(n))}|lt:${n.limitType}`}function na(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>y1(r)).join(", ")}]`),Ef(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>ha(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>ha(r)).join(",")),`Target(${i})`}(Fi(n))}; limitType=${n.limitType})`}function Cf(n,e){return e.isFoundDocument()&&function(i,r){let s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):re.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(n,e)&&function(i,r){for(let s of Jl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(n,e)&&function(i,r){for(let s of i.filters)if(!s.matches(r))return!1;return!0}(n,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){let u=LA(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,Jl(i),r)||i.endAt&&!function(o,a,l){let u=LA(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,Jl(i),r))}(n,e)}function _B(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E1(n){return(e,t)=>{let i=!1;for(let r of Jl(n)){let s=vB(r,e,t);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function vB(n,e,t){let i=n.field.isKeyField()?re.comparator(e.key,t.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?da(l,u):ce()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ce()}}var Wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(let[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(t,i)=>{for(let[r,s]of i)e(r,s)})}isEmpty(){return u1(this.inner)}size(){return this.innerSize}};var IB=new vt(re.comparator);function dr(){return IB}var b1=new vt(re.comparator);function Yl(...n){let e=b1;for(let t of n)e=e.insert(t.key,t);return e}function C1(n){let e=b1;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Fs(){return Xl()}function T1(){return Xl()}function Xl(){return new Wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var wB=new vt(re.comparator),EB=new en(re.comparator);function Pe(...n){let e=EB;for(let t of n)e=e.add(t);return e}var bB=new en($e);function CB(){return bB}function YI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function S1(n){return{integerValue:""+n}}function TB(n,e){return lB(e)?S1(e):YI(n,e)}var ma=class{constructor(){this._=void 0}};function SB(n,e,t){return n instanceof ga?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&qI(s)&&(s=GI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Hs?A1(n,e):n instanceof zs?x1(n,e):function(r,s){let o=D1(r,s),a=BA(o)+BA(r.Pe);return yv(o)&&yv(r.Pe)?S1(a):YI(r.serializer,a)}(n,e)}function DB(n,e,t){return n instanceof Hs?A1(n,e):n instanceof zs?x1(n,e):t}function D1(n,e){return n instanceof ya?function(i){return yv(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}var ga=class extends ma{},Hs=class extends ma{constructor(e){super(),this.elements=e}};function A1(n,e){let t=M1(e);for(let i of n.elements)t.some(r=>Vi(r,i))||t.push(i);return{arrayValue:{values:t}}}var zs=class extends ma{constructor(e){super(),this.elements=e}};function x1(n,e){let t=M1(e);for(let i of n.elements)t=t.filter(r=>!Vi(r,i));return{arrayValue:{values:t}}}var ya=class extends ma{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function BA(n){return ct(n.integerValue||n.doubleValue)}function M1(n){return WI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function AB(n,e){return n.field.isEqual(e.field)&&function(i,r){return i instanceof Hs&&r instanceof Hs||i instanceof zs&&r instanceof zs?ua(i.elements,r.elements,Vi):i instanceof ya&&r instanceof ya?Vi(i.Pe,r.Pe):i instanceof ga&&r instanceof ga}(n.transform,e.transform)}var Mv=class{constructor(e,t){this.version=e,this.transformResults=t}},Vs=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function qh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _a=class{};function R1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xh(n.key,Vs.none()):new qs(n.key,n.data,Vs.none());{let t=n.data,i=fi.empty(),r=new en(Rn.comparator);for(let s of e.fields)if(!r.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new hr(n.key,i,new Ni(r.toArray()),Vs.none())}}function xB(n,e,t){n instanceof qs?function(r,s,o){let a=r.value.clone(),l=HA(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof hr?function(r,s,o){if(!qh(r.precondition,s))return void s.convertToUnknownDocument(o.version);let a=HA(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(O1(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function ec(n,e,t,i){return n instanceof qs?function(s,o,a,l){if(!qh(s.precondition,o))return a;let u=s.value.clone(),d=zA(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,i):n instanceof hr?function(s,o,a,l){if(!qh(s.precondition,o))return a;let u=zA(s.fieldTransforms,l,o),d=o.data;return d.setAll(O1(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,i):function(s,o,a){return qh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function MB(n,e){let t=null;for(let i of n.fieldTransforms){let r=e.data.field(i.field),s=D1(i.transform,r||null);s!=null&&(t===null&&(t=fi.empty()),t.set(i.field,s))}return t||null}function $A(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&ua(i,r,(s,o)=>AB(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var qs=class extends _a{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},hr=class extends _a{constructor(e,t,i,r,s=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function O1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let i=n.data.field(t);e.set(t,i)}}),e}function HA(n,e,t){let i=new Map;st(n.length===t.length);for(let r=0;r<t.length;r++){let s=n[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,DB(o,a,t[r]))}return i}function zA(n,e,t){let i=new Map;for(let r of n){let s=r.transform,o=t.data.field(r.field);i.set(r.field,SB(s,o,e))}return i}var Xh=class extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Rv=class extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ov=class{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){let i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(e.key)&&xB(s,e,i[r])}}applyToLocalView(e,t){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(t=ec(i,e,t,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(t=ec(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let i=T1();return this.mutations.forEach(r=>{let s=e.get(r.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(r.key)?null:a;let l=R1(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ve.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,(t,i)=>$A(t,i))&&ua(this.baseMutations,e.baseMutations,(t,i)=>$A(t,i))}},Nv=class n{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){st(e.mutations.length===i.length);let r=function(){return wB}(),s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new n(e,t,i,r)}};var Pv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,Ve;function RB(n){switch(n){default:return ce();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function N1(n){if(n===void 0)return cr("GRPC error has no .code"),F.UNKNOWN;switch(n){case Dt.OK:return F.OK;case Dt.CANCELLED:return F.CANCELLED;case Dt.UNKNOWN:return F.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return F.INTERNAL;case Dt.UNAVAILABLE:return F.UNAVAILABLE;case Dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Dt.NOT_FOUND:return F.NOT_FOUND;case Dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Dt.ABORTED:return F.ABORTED;case Dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Dt.DATA_LOSS:return F.DATA_LOSS;default:return ce()}}(Ve=Dt||(Dt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";var qA=null;function OB(){return new TextEncoder}var NB=new zr([4294967295,4294967295],0);function GA(n){let e=OB().encode(n),t=new Q_;return t.update(e),new Uint8Array(t.digest())}function WA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zr([t,i],0),new zr([r,s],0)]}var Fv=class n{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ls(`Invalid padding: ${t}`);if(i<0)throw new Ls(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ls(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ls(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zr.fromNumber(this.Ie)}Ee(e,t,i){let r=e.add(t.multiply(zr.fromNumber(i)));return r.compare(NB)===1&&(r=new zr([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=GA(e),[i,r]=WA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,t,i){let r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,r,t);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=GA(e),[i,r]=WA(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}},Ls=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var ef=class n{constructor(e,t,i,r,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,i){let r=new Map;return r.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new n(ve.min(),r,new vt($e),dr(),Pe())}},rc=class n{constructor(e,t,i,r,s){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new n(i,t,Pe(),Pe(),Pe())}};var aa=class{constructor(e,t,i,r){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=r}},tf=class{constructor(e,t){this.targetId=e,this.me=t}},nf=class{constructor(e,t,i=tn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}},rf=class{constructor(){this.fe=0,this.ge=QA(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Pe(),t=Pe(),i=Pe();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ce()}}),new rc(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=QA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Lv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=dr(),this.qe=KA(),this.Qe=new vt($e)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,r)=>{this.ze(r)&&t(r)})}He(e){let t=e.targetId,i=e.me.count,r=this.Je(t);if(r){let s=r.target;if(Dv(s))if(i===0){let o=new re(s.path);this.Ue(t,o,pi.newNoDocument(o,ve.min()))}else st(i===1);else{let o=this.Ye(t);if(o!==i){let a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}qA?.et(function(d,p,m,y,v){var T,S,O,L,q,K;let Te={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},X=p.unchangedNames;return X&&(Te.bloomFilter={applied:v===0,hashCount:(T=X?.hashCount)!==null&&T!==void 0?T:0,bitmapLength:(L=(O=(S=X?.bits)===null||S===void 0?void 0:S.bitmap)===null||O===void 0?void 0:O.length)!==null&&L!==void 0?L:0,padding:(K=(q=X?.bits)===null||q===void 0?void 0:q.padding)!==null&&K!==void 0?K:0,mightContain:E=>{var _;return(_=y?.mightContain(E))!==null&&_!==void 0&&_}}),Te}(o,e.me,this.Le.tt(),a,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=t,o,a;try{o=Gr(i).toUint8Array()}catch(l){if(l instanceof Yh)return ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Fv(o,r,s)}catch(l){return ca(l instanceof Ls?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){let i=this.Le.getRemoteKeysForTarget(t),r=0;return i.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),r++)}),r}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&Dv(a.target)){let l=new re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,pi.newNoDocument(l,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let i=Pe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let r=new ef(e,t,this.Qe,this.ke,i);return this.ke=dr(),this.qe=KA(),this.Qe=new vt($e),r}$e(e,t){if(!this.ze(e))return;let i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rf,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new en($e),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||J("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rf),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function KA(){return new vt(re.comparator)}function QA(){return new vt(re.comparator)}var PB={asc:"ASCENDING",desc:"DESCENDING"},kB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FB={and:"AND",or:"OR"},Vv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Uv(n,e){return n.useProto3Json||Ef(e)?e:{value:e}}function sf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LB(n,e){return sf(n,e.toTimestamp())}function Li(n){return st(!!n),ve.fromTimestamp(function(t){let i=ur(t);return new Pt(i.seconds,i.nanos)}(n))}function ZI(n,e){return jv(n,e).canonicalString()}function jv(n,e){let t=function(r){return new dt(["projects",r.projectId,"databases",r.database])}(n).child("documents");return e===void 0?t:t.child(e)}function k1(n){let e=dt.fromString(n);return st(j1(e)),e}function Bv(n,e){return ZI(n.databaseId,e.path)}function nv(n,e){let t=k1(e);if(t.get(1)!==n.databaseId.projectId)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Y(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new re(L1(t))}function F1(n,e){return ZI(n.databaseId,e)}function VB(n){let e=k1(n);return e.length===4?dt.emptyPath():L1(e)}function $v(n){return new dt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function L1(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function YA(n,e,t){return{name:Bv(n,e),fields:t.value.mapValue.fields}}function UB(n,e){let t;if("targetChange"in e){e.targetChange;let i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(st(d===void 0||typeof d=="string"),tn.fromBase64String(d||"")):(st(d===void 0||d instanceof Buffer||d instanceof Uint8Array),tn.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?F.UNKNOWN:N1(u.code);return new Y(d,u.message||"")}(o);t=new nf(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=nv(n,i.document.name),s=Li(i.document.updateTime),o=i.document.createTime?Li(i.document.createTime):ve.min(),a=new fi({mapValue:{fields:i.document.fields}}),l=pi.newFoundDocument(r,s,o,a),u=i.targetIds||[],d=i.removedTargetIds||[];t=new aa(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=nv(n,i.document),s=i.readTime?Li(i.readTime):ve.min(),o=pi.newNoDocument(r,s),a=i.removedTargetIds||[];t=new aa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=nv(n,i.document),s=i.removedTargetIds||[];t=new aa([],s,r,null)}else{if(!("filter"in e))return ce();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:s}=i,o=new kv(r,s),a=i.targetId;t=new tf(a,o)}}return t}function jB(n,e){let t;if(e instanceof qs)t={update:YA(n,e.key,e.value)};else if(e instanceof Xh)t={delete:Bv(n,e.key)};else if(e instanceof hr)t={update:YA(n,e.key,e.data),updateMask:QB(e.fieldMask)};else{if(!(e instanceof Rv))return ce();t={verify:Bv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(s,o){let a=o.transform;if(a instanceof ga)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hs)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ya)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ce()}(0,i))),e.precondition.isNone||(t.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:LB(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ce()}(n,e.precondition)),t}function BB(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(r,s){let o=r.updateTime?Li(r.updateTime):Li(s);return o.isEqual(ve.min())&&(o=Li(s)),new Mv(o,r.transformResults||[])}(t,e))):[]}function $B(n,e){return{documents:[F1(n,e.path)]}}function HB(n,e){let t={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=F1(n,r);let s=function(u){if(u.length!==0)return U1(mi.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ia(m.field),direction:GB(m.dir)}}(d))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=Uv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:r}}function zB(n){let e=VB(n.parent),t=n.structuredQuery,i=t.from?t.from.length:0,r=null;if(i>0){st(i===1);let d=t.from[0];d.allDescendants?r=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(p){let m=V1(p);return m instanceof mi&&m1(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(v){return new pa(ra(v.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Ef(m)?null:m}(t.limit));let l=null;t.startAt&&(l=function(p){let m=!!p.before,y=p.values||[];return new fa(y,m)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let m=!p.before,y=p.values||[];return new fa(y,m)}(t.endAt)),gB(e,r,o,s,a,"F",l,u)}function qB(n,e){let t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function V1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let i=ra(t.unaryFilter.field);return xt.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=ra(t.unaryFilter.field);return xt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=ra(t.unaryFilter.field);return xt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=ra(t.unaryFilter.field);return xt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(n):n.fieldFilter!==void 0?function(t){return xt.create(ra(t.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return mi.create(t.compositeFilter.filters.map(i=>V1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return ce()}}(t.compositeFilter.op))}(n):ce()}function GB(n){return PB[n]}function WB(n){return kB[n]}function KB(n){return FB[n]}function ia(n){return{fieldPath:n.canonicalString()}}function ra(n){return Rn.fromServerFormat(n.fieldPath)}function U1(n){return n instanceof xt?function(t){if(t.op==="=="){if(FA(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NAN"}};if(kA(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(FA(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NAN"}};if(kA(t.value))return{unaryFilter:{field:ia(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ia(t.field),op:WB(t.op),value:t.value}}}(n):n instanceof mi?function(t){let i=t.getFilters().map(r=>U1(r));return i.length===1?i[0]:{compositeFilter:{op:KB(t.op),filters:i}}}(n):ce()}function QB(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function j1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var sc=class n{constructor(e,t,i,r,s=ve.min(),o=ve.min(),a=tn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Hv=class{constructor(e){this.ct=e}};function YB(n){let e=zB({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?xv(e,e.limit,"L"):e}var of=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(ct(e.integerValue));else if("doubleValue"in e){let i=ct(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),tc(i)?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),typeof i=="string"&&(i=ur(i)),t.Rt(`${i.seconds||""}`),t.At(i.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?h1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):d1(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ce()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let i=e.fields||{};this.dt(t,55);for(let r of Object.keys(i))this.Vt(r,t),this.Tt(i[r],t)}wt(e,t){var i,r;let s=e.fields||{};this.dt(t,53);let o="value",a=((r=(i=s[o].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.length)||0;this.dt(t,15),t.At(ct(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let i=e.values||[];this.dt(t,50);for(let r of i)this.Tt(r,t)}yt(e,t){this.dt(t,37),re.fromName(e).path.forEach(i=>{this.dt(t,60),this.Dt(i,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};of.vt=new of;var zv=class{constructor(){this.un=new qv}addToCollectionParentIndex(e,t){return this.un.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(js.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(js.min())}updateCollectionGroup(e,t,i){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},qv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new en(dt.comparator),s=!r.has(i);return this.index[t]=r.add(i),s}has(e){let t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new en(dt.comparator)).toArray()}};var bJ=new Uint8Array(0);var Oi=class n{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Oi.DEFAULT_COLLECTION_PERCENTILE=10,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Oi.DEFAULT=new Oi(41943040,Oi.DEFAULT_COLLECTION_PERCENTILE,Oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Oi.DISABLED=new Oi(-1,0,0);var oc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Gv=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let i=this.changes.get(t);return i!==void 0?$.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Wv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Kv=class{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(i!==null&&ec(i.mutation,r,Ni.empty(),Pt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){let r=Fs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(s=>{let o=Yl();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let i=Fs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){let r=[];return i.forEach(s=>{t.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,i,r){let s=dr(),o=Xl(),a=function(){return Xl()}();return t.forEach((l,u)=>{let d=i.get(u.key);r.has(u.key)&&(d===void 0||d.mutation instanceof hr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),ec(d.mutation,u,d.mutation.getFieldMask(),Pt.now())):o.set(u.key,Ni.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new Wv(d,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let i=Xl(),r=new vt((o,a)=>o-a),s=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let d=i.get(l)||Ni.empty();d=a.applyToLocalView(u,d),i.set(l,d);let p=(r.get(a.batchId)||Pe()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{let o=[],a=r.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,p=T1();d.forEach(m=>{if(!s.has(m)){let y=R1(t.get(m),i.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return $.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return function(o){return re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):I1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r)}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-s.size):$.resolve(Fs()),a=-1,l=s;return o.next(u=>$.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Pe())).next(d=>({batchId:a,changes:C1(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new re(t)).next(i=>{let r=Yl();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){let s=t.collectionGroup,o=Yl();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{let u=function(p,m){return new $s(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(d=>{d.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,s,r))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,pi.newInvalidDocument(d)))});let a=Yl();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&ec(d.mutation,u,Ni.empty(),Pt.now()),Cf(t,u)&&(a=a.insert(l,u))}),a})}};var Qv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return $.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(r){return{id:r.id,version:r.version,createTime:Li(r.createTime)}}(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(r){return{name:r.name,query:YB(r.bundledQuery),readTime:Li(r.readTime)}}(t)),$.resolve()}};var Yv=class{constructor(){this.overlays=new vt(re.comparator),this.Ir=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let i=Fs();return $.forEach(t,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,s)=>{this.ht(e,t,s)}),$.resolve()}removeOverlaysForBatchId(e,t,i){let r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),$.resolve()}getOverlaysForCollection(e,t,i){let r=Fs(),s=t.length+1,o=new re(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return $.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let s=new vt((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>i){let d=s.get(u.largestBatchId);d===null&&(d=Fs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=r)););return $.resolve(a)}ht(e,t,i){let r=this.overlays.get(i.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new Pv(t,i));let s=this.Ir.get(t);s===void 0&&(s=Pe(),this.Ir.set(t,s)),this.Ir.set(t,s.add(i.key))}};var Zv=class{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var ac=class{constructor(){this.Tr=new en(At.Er),this.dr=new en(At.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let i=new At(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new At(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){let t=new re(new dt([])),i=new At(t,e),r=new At(t,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new re(new dt([])),i=new At(t,e),r=new At(t,e+1),s=Pe();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new At(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}},At=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return re.comparator(e.key,t.key)||$e(e.wr,t.wr)}static Ar(e,t){return $e(e.wr,t.wr)||re.comparator(e.key,t.key)}};var Jv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new en(At.Er)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ov(s,t,i,r);this.mutationQueue.push(o);for(let a of r)this.br=this.br.add(new At(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let i=t+1,r=this.vr(i),s=r<0?0:r;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let i=new At(t,0),r=new At(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{let a=this.Dr(o.wr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new en($e);return t.forEach(r=>{let s=new At(r,0),o=new At(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),$.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){let i=t.path,r=i.length+1,s=i;re.isDocumentKey(s)||(s=s.child(""));let o=new At(new re(s),0),a=new en($e);return this.br.forEachWhile(l=>{let u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),$.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(i=>{let r=this.Dr(i);r!==null&&t.push(r)}),t}removeMutationBatch(e,t){st(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return $.forEach(t.mutations,r=>{let s=new At(r.key,t.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){let i=new At(t,0),r=this.br.firstAfterOrEqual(i);return $.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Xv=class{constructor(e){this.Mr=e,this.docs=function(){return new vt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let i=t.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let i=this.docs.get(t);return $.resolve(i?i.document.mutableCopy():pi.newInvalidDocument(t))}getEntries(e,t){let i=dr();return t.forEach(r=>{let s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():pi.newInvalidDocument(r))}),$.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let s=dr(),o=t.path,a=new re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||sB(rB(d),i)<=0||(r.has(d.key)||Cf(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,t,i,r){ce()}Or(e,t){return $.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eI(this)}getSize(e){return $.resolve(this.size)}},eI=class extends Gv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),$.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var tI=class{constructor(e){this.persistence=e,this.Nr=new Wr(t=>KI(t),QI),this.lastRemoteSnapshotVersion=ve.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ac,this.targetCount=0,this.kr=oc.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,r)=>t(r)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),$.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new oc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Kn(t),$.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,i){let r=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),$.waitFor(s).next(()=>r)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let i=this.Nr.get(t)||null;return $.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),$.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);let r=this.persistence.referenceDelegate,s=[];return r&&t.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let i=this.Br.yr(t);return $.resolve(i)}containsKey(e,t){return $.resolve(this.Br.containsKey(t))}};var nI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new c1(0),this.Kr=!1,this.Kr=!0,this.$r=new Zv,this.referenceDelegate=e(this),this.Ur=new tI(this),this.indexManager=new zv,this.remoteDocumentCache=function(r){return new Xv(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Hv(t),this.Gr=new Qv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Yv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new Jv(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){J("MemoryPersistence","Starting transaction:",e);let r=new iI(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,t){return $.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}},iI=class extends pv{constructor(e){super(),this.currentSequenceNumber=e}},rI=class n{constructor(e){this.persistence=e,this.Jr=new ac,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),$.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),$.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(r=>this.Xr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Xr,i=>{let r=re.fromPath(i);return this.ei(e,r).next(s=>{s||t.removeEntry(r,ve.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return $.or([()=>$.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var sI=class n{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=r}static Wi(e,t){let i=Pe(),r=Pe();for(let s of t.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new n(e,t.fromCache,i,r)}};var oI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var aI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return qD()?8:aB(Mn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,r){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new oI;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,i,r){return i.documentReadCount<this.ji?(Ql()<=Ne.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",na(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),$.resolve()):(Ql()<=Ne.DEBUG&&J("QueryEngine","Query:",na(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(Ql()<=Ne.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",na(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fi(t))):$.resolve())}Yi(e,t){if(jA(t))return $.resolve(null);let i=Fi(t);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(t.limit!==null&&r===1&&(t=xv(t,null,"F"),i=Fi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{let o=Pe(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{let u=this.ts(t,a);return this.ns(t,u,o,l.readTime)?this.Yi(e,xv(t,null,"F")):this.rs(e,u,t,l)}))})))}Zi(e,t,i,r){return jA(t)||r.isEqual(ve.min())?$.resolve(null):this.Ji.getDocuments(e,i).next(s=>{let o=this.ts(t,s);return this.ns(t,o,i,r)?$.resolve(null):(Ql()<=Ne.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),na(t)),this.rs(e,o,t,iB(r,-1)).next(a=>a))})}ts(e,t){let i=new en(E1(e));return t.forEach((r,s)=>{Cf(e,s)&&(i=i.add(s))}),i}ns(e,t,i,r){if(e.limit===null)return!1;if(i.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,t,i){return Ql()<=Ne.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",na(t)),this.Ji.getDocumentsMatchingQuery(e,t,js.min(),i)}rs(e,t,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var lI=class{constructor(e,t,i,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new vt($e),this._s=new Wr(s=>KI(s),QI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function ZB(n,e,t,i){return new lI(n,e,t,i)}function B1(n,e){return M(this,null,function*(){let t=pe(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(s=>{let o=[],a=[],l=Pe();for(let u of r){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return t.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function JB(n,e){let t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let p=u.batch,m=p.keys(),y=$.resolve();return m.forEach(v=>{y=y.next(()=>d.getEntry(l,v)).next(T=>{let S=u.docVersions.get(v);st(S!==null),T.version.compareTo(S)<0&&(p.applyToRemoteDocument(T,u),T.isValidDocument()&&(T.setReadTime(u.commitVersion),d.addEntry(T)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,p))}(t,i,e,s).next(()=>s.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=Pe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function $1(n){let e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function XB(n,e){let t=pe(n),i=e.snapshotVersion,r=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});r=t.os;let a=[];e.targetChanges.forEach((d,p)=>{let m=r.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(tn.EMPTY_BYTE_STRING,ve.min()).withLastLimboFreeSnapshotVersion(ve.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,i)),r=r.insert(p,y),function(T,S,O){return T.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(m,y,d)&&a.push(t.Ur.updateTargetData(s,y))});let l=dr(),u=Pe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(e3(s,o,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!i.isEqual(ve.min())){let d=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(t.os=r,s))}function e3(n,e,t){let i=Pe(),r=Pe();return t.forEach(s=>i=i.add(s)),e.getEntries(n,i).next(s=>{let o=dr();return t.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ve.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function t3(n,e){let t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function n3(n,e){let t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Ur.getTargetData(i,e).next(s=>s?(r=s,$.resolve(r)):t.Ur.allocateTargetId(i).next(o=>(r=new sc(e,o,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=t.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}function cI(n,e,t){return M(this,null,function*(){let i=pe(n),r=i.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!mc(o))throw o;J("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)})}function ZA(n,e,t){let i=pe(n),r=ve.min(),s=Pe();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let p=pe(l),m=p._s.get(d);return m!==void 0?$.resolve(p.os.get(m)):p.Ur.getTargetData(u,d)}(i,o,Fi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,t?r:ve.min(),t?s:Pe())).next(a=>(i3(i,_B(e),a),{documents:a,Ts:s})))}function i3(n,e,t){let i=n.us.get(e)||ve.min();t.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.us.set(e,i)}var af=class{constructor(){this.activeTargetIds=CB()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uI=class{constructor(){this.so=new af,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new af,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var dI=class{_o(e){}shutdown(){}};var lf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){J("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){J("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Hh=null;function iv(){return Hh===null?Hh=function(){return 268435456+Math.round(2147483648*Math.random())}():Hh++,"0x"+Hh.toString(16)}var r3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var hI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Xt="WebChannelConnection",fI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(t,i,r,s,o){let a=iv(),l=this.xo(t,i.toUriEncodedString());J("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,l,u,r).then(d=>(J("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw ca("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(t,i,r,s,o,a){return this.Mo(t,i,r,s,o)}Oo(t,i,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ea}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>t[o]=s),r&&r.headers.forEach((s,o)=>t[o]=s)}xo(t,i){let r=r3[t];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,r){let s=iv();return new Promise((o,a)=>{let l=new Y_;l.setWithCredentials(!0),l.listenOnce(J_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kl.NO_ERROR:let d=l.getResponseJson();J(Xt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Kl.TIMEOUT:J(Xt,`RPC '${e}' ${s} timed out`),a(new Y(F.DEADLINE_EXCEEDED,"Request time out"));break;case Kl.HTTP_ERROR:let p=l.getStatus();if(J(Xt,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let v=function(S){let O=S.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(O)>=0?O:F.UNKNOWN}(y.status);a(new Y(v,y.message))}else a(new Y(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(F.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{J(Xt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(r);J(Xt,`RPC '${e}' ${s} sending request:`,r),l.send(t,"POST",u,i,15)})}Bo(e,t,i){let r=iv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=tv(),a=ev(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Z_({})),this.Oo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;let d=s.join("");J(Xt,`Creating RPC '${e}' stream ${r}: ${d}`,l);let p=o.createWebChannel(d,l),m=!1,y=!1,v=new hI({Io:S=>{y?J(Xt,`Not sending because RPC '${e}' stream ${r} is closed:`,S):(m||(J(Xt,`Opening RPC '${e}' stream ${r} transport.`),p.open(),m=!0),J(Xt,`RPC '${e}' stream ${r} sending:`,S),p.send(S))},To:()=>p.close()}),T=(S,O,L)=>{S.listen(O,q=>{try{L(q)}catch(K){setTimeout(()=>{throw K},0)}})};return T(p,ta.EventType.OPEN,()=>{y||(J(Xt,`RPC '${e}' stream ${r} transport opened.`),v.yo())}),T(p,ta.EventType.CLOSE,()=>{y||(y=!0,J(Xt,`RPC '${e}' stream ${r} transport closed`),v.So())}),T(p,ta.EventType.ERROR,S=>{y||(y=!0,ca(Xt,`RPC '${e}' stream ${r} transport errored:`,S),v.So(new Y(F.UNAVAILABLE,"The operation could not be completed")))}),T(p,ta.EventType.MESSAGE,S=>{var O;if(!y){let L=S.data[0];st(!!L);let q=L,K=q.error||((O=q[0])===null||O===void 0?void 0:O.error);if(K){J(Xt,`RPC '${e}' stream ${r} received error:`,K);let Te=K.status,X=function(I){let b=Dt[I];if(b!==void 0)return N1(b)}(Te),E=K.message;X===void 0&&(X=F.INTERNAL,E="Unknown error status: "+Te+" with message "+K.message),y=!0,v.So(new Y(X,E)),p.close()}else J(Xt,`RPC '${e}' stream ${r} received:`,L),v.bo(L)}}),T(a,X_.STAT_EVENT,S=>{S.stat===Bh.PROXY?J(Xt,`RPC '${e}' stream ${r} detected buffering proxy`):S.stat===Bh.NOPROXY&&J(Xt,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}};function rv(){return typeof document<"u"?document:null}function Tf(n){return new Vv(n,!0)}var cf=class{constructor(e,t,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-i);r>0&&J("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var uf=class{constructor(e,t,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new cf(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return M(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return M(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return M(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===F.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===t&&this.P_(i,r)},i=>{e(()=>{let r=new Y(F.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,t){let i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>M(this,null,function*(){this.state=0,this.start()}))}I_(e){return J("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(J("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},pI=class extends uf{constructor(e,t,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=UB(this.serializer,e),i=function(s){if(!("targetChange"in s))return ve.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ve.min():o.readTime?Li(o.readTime):ve.min()}(e);return this.listener.d_(t,i)}A_(e){let t={};t.database=$v(this.serializer),t.addTarget=function(s,o){let a,l=o.target;if(a=Dv(l)?{documents:$B(s,l)}:{query:HB(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=P1(s,o.resumeToken);let u=Uv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ve.min())>0){a.readTime=sf(s,o.snapshotVersion.toTimestamp());let u=Uv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let i=qB(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){let t={};t.database=$v(this.serializer),t.removeTarget=e,this.a_(t)}},mI=class extends uf{constructor(e,t,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=BB(e.writeResults,e.commitTime),i=Li(e.commitTime);return this.listener.g_(i,t)}p_(){let e={};e.database=$v(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(i=>jB(this.serializer,i))};this.a_(t)}};var gI=class extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,jv(t,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(F.UNKNOWN,s.toString())})}Lo(e,t,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,jv(t,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},yI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(cr(t),this.D_=!1):J("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var _I=class{constructor(e,t,i,r,s){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(()=>M(this,null,function*(){Gs(this)&&(J("RemoteStore","Restarting streams for network reachability change."),yield function(l){return M(this,null,function*(){let u=pe(l);u.L_.add(4),yield gc(u),u.q_.set("Unknown"),u.L_.delete(4),yield Sf(u)})}(this))}))}),this.q_=new yI(i,r)}};function Sf(n){return M(this,null,function*(){if(Gs(n))for(let e of n.B_)yield e(!0)})}function gc(n){return M(this,null,function*(){for(let e of n.B_)yield e(!1)})}function H1(n,e){let t=pe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),tw(t)?ew(t):Ca(t).r_()&&XI(t,e))}function JI(n,e){let t=pe(n),i=Ca(t);t.N_.delete(e),i.r_()&&z1(t,e),t.N_.size===0&&(i.r_()?i.o_():Gs(t)&&t.q_.set("Unknown"))}function XI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ve.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ca(n).A_(e)}function z1(n,e){n.Q_.xe(e),Ca(n).R_(e)}function ew(n){n.Q_=new Lv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ca(n).start(),n.q_.v_()}function tw(n){return Gs(n)&&!Ca(n).n_()&&n.N_.size>0}function Gs(n){return pe(n).L_.size===0}function q1(n){n.Q_=void 0}function s3(n){return M(this,null,function*(){n.q_.set("Online")})}function o3(n){return M(this,null,function*(){n.N_.forEach((e,t)=>{XI(n,e)})})}function a3(n,e){return M(this,null,function*(){q1(n),tw(n)?(n.q_.M_(e),ew(n)):n.q_.set("Unknown")})}function l3(n,e,t){return M(this,null,function*(){if(n.q_.set("Online"),e instanceof nf&&e.state===2&&e.cause)try{yield function(r,s){return M(this,null,function*(){let o=s.cause;for(let a of s.targetIds)r.N_.has(a)&&(yield r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))})}(n,e)}catch(i){J("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield df(n,i)}else if(e instanceof aa?n.Q_.Ke(e):e instanceof tf?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ve.min()))try{let i=yield $1(n.localStore);t.compareTo(i)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(tn.EMPTY_BYTE_STRING,d.snapshotVersion)),z1(s,l);let p=new sc(d.target,l,u,d.sequenceNumber);XI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){J("RemoteStore","Failed to raise snapshot:",i),yield df(n,i)}})}function df(n,e,t){return M(this,null,function*(){if(!mc(e))throw e;n.L_.add(1),yield gc(n),n.q_.set("Offline"),t||(t=()=>$1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>M(this,null,function*(){J("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Sf(n)}))})}function G1(n,e){return e().catch(t=>df(n,t,e))}function Df(n){return M(this,null,function*(){let e=pe(n),t=Kr(e),i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;c3(e);)try{let r=yield t3(e.localStore,i);if(r===null){e.O_.length===0&&t.o_();break}i=r.batchId,u3(e,r)}catch(r){yield df(e,r)}W1(e)&&K1(e)})}function c3(n){return Gs(n)&&n.O_.length<10}function u3(n,e){n.O_.push(e);let t=Kr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function W1(n){return Gs(n)&&!Kr(n).n_()&&n.O_.length>0}function K1(n){Kr(n).start()}function d3(n){return M(this,null,function*(){Kr(n).p_()})}function h3(n){return M(this,null,function*(){let e=Kr(n);for(let t of n.O_)e.m_(t.mutations)})}function f3(n,e,t){return M(this,null,function*(){let i=n.O_.shift(),r=Nv.from(i,e,t);yield G1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Df(n)})}function p3(n,e){return M(this,null,function*(){e&&Kr(n).V_&&(yield function(i,r){return M(this,null,function*(){if(function(o){return RB(o)&&o!==F.ABORTED}(r.code)){let s=i.O_.shift();Kr(i).s_(),yield G1(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield Df(i)}})}(n,e)),W1(n)&&K1(n)})}function JA(n,e){return M(this,null,function*(){let t=pe(n);t.asyncQueue.verifyOperationInProgress(),J("RemoteStore","RemoteStore received new credentials");let i=Gs(t);t.L_.add(3),yield gc(t),i&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Sf(t)})}function m3(n,e){return M(this,null,function*(){let t=pe(n);e?(t.L_.delete(2),yield Sf(t)):e||(t.L_.add(2),yield gc(t),t.q_.set("Unknown"))})}function Ca(n){return n.K_||(n.K_=function(t,i,r){let s=pe(t);return s.w_(),new pI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:s3.bind(null,n),Ro:o3.bind(null,n),mo:a3.bind(null,n),d_:l3.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.K_.s_(),tw(n)?ew(n):n.q_.set("Unknown")):(yield n.K_.stop(),q1(n))}))),n.K_}function Kr(n){return n.U_||(n.U_=function(t,i,r){let s=pe(t);return s.w_(),new mI(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:d3.bind(null,n),mo:p3.bind(null,n),f_:h3.bind(null,n),g_:f3.bind(null,n)}),n.B_.push(e=>M(this,null,function*(){e?(n.U_.s_(),yield Df(n)):(yield n.U_.stop(),n.O_.length>0&&(J("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var vI=class n{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){let o=Date.now()+i,a=new n(e,t,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nw(n,e){if(cr("AsyncQueue",`${e}: ${n}`),mc(n))return new Y(F.UNAVAILABLE,`${e}: ${n}`);throw n}var hf=class n{constructor(e){this.comparator=e?(t,i)=>e(t,i)||re.comparator(t.key,i.key):(t,i)=>re.comparator(t.key,i.key),this.keyedMap=Yl(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){let r=t.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let i=new n;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}};var ff=class{constructor(){this.W_=new vt(re.comparator)}track(e){let t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}},va=class n{constructor(e,t,i,r,s,o,a,l,u){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,i,r,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,hf.emptySet(t),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}};var II=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},wI=class{constructor(){this.queries=XA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){let r=pe(t),s=r.queries;r.queries=XA(),s.forEach((o,a)=>{for(let l of a.j_)l.onError(i)})})(this,new Y(F.ABORTED,"Firestore shutting down"))}};function XA(){return new Wr(n=>w1(n),bf)}function g3(n,e){return M(this,null,function*(){let t=pe(n),i=3,r=e.query,s=t.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new II,i=e.J_()?0:1);try{switch(i){case 0:s.z_=yield t.onListen(r,!0);break;case 1:s.z_=yield t.onListen(r,!1);break;case 2:yield t.onFirstRemoteStoreListen(r)}}catch(o){let a=nw(o,`Initialization of query '${na(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&iw(t)})}function y3(n,e){return M(this,null,function*(){let t=pe(n),i=e.query,r=3,s=t.queries.get(i);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}})}function _3(n,e){let t=pe(n),i=!1;for(let r of e){let s=r.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&iw(t)}function v3(n,e,t){let i=pe(n),r=i.queries.get(e);if(r)for(let s of r.j_)s.onError(t);i.queries.delete(e)}function iw(n){n.Y_.forEach(e=>{e.next()})}var EI,e1;(e1=EI||(EI={})).ea="default",e1.Cache="cache";var bI=class{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new va(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==EI.Cache}};var pf=class{constructor(e){this.key=e}},mf=class{constructor(e){this.key=e}},CI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Pe(),this.mutatedKeys=Pe(),this.Aa=E1(e),this.Ra=new hf(this.Aa)}get Va(){return this.Ta}ma(e,t){let i=t?t.fa:new ff,r=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=r,a=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((d,p)=>{let m=r.get(d),y=Cf(this.query,p)?p:null,v=!!m&&this.mutatedKeys.has(m.key),T=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?v!==T&&(i.track({type:3,doc:y}),S=!0):this.ga(m,y)||(i.track({type:2,doc:y}),S=!0,(l&&this.Aa(y,l)>0||u&&this.Aa(y,u)<0)&&(a=!0)):!m&&y?(i.track({type:0,doc:y}),S=!0):m&&!y&&(i.track({type:1,doc:m}),S=!0,(l||u)&&(a=!0)),S&&(y?(o=o.add(y),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),i.track({type:1,doc:d})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,r){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((d,p)=>function(y,v){let T=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return T(y)-T(v)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(i),r=r!=null&&r;let a=t&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new va(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ff,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Pe(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});let t=[];return e.forEach(i=>{this.da.has(i)||t.push(new mf(i))}),this.da.forEach(i=>{e.has(i)||t.push(new pf(i))}),t}ba(e){this.Ta=e.Ts,this.da=Pe();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},TI=class{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}},SI=class{constructor(e){this.key=e,this.va=!1}},DI=class{constructor(e,t,i,r,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wr(a=>w1(a),bf),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(re.comparator),this.Na=new Map,this.La=new ac,this.Ba={},this.ka=new Map,this.qa=oc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function I3(n,e,t=!0){return M(this,null,function*(){let i=ex(n),r,s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Q1(i,e,t,!0),r})}function w3(n,e){return M(this,null,function*(){let t=ex(n);yield Q1(t,e,!0,!1)})}function Q1(n,e,t,i){return M(this,null,function*(){let r=yield n3(n.localStore,Fi(e)),s=r.targetId,o=t?n.sharedClientState.addLocalQueryTarget(s):"not-current",a;return i&&(a=yield E3(n,e,s,o==="current",r.resumeToken)),n.isPrimaryClient&&t&&H1(n.remoteStore,r),a})}function E3(n,e,t,i,r){return M(this,null,function*(){n.Ka=(p,m,y)=>function(T,S,O,L){return M(this,null,function*(){let q=S.view.ma(O);q.ns&&(q=yield ZA(T.localStore,S.query,!1).then(({documents:E})=>S.view.ma(E,q)));let K=L&&L.targetChanges.get(S.targetId),Te=L&&L.targetMismatches.get(S.targetId)!=null,X=S.view.applyChanges(q,T.isPrimaryClient,K,Te);return n1(T,S.targetId,X.wa),X.snapshot})}(n,p,m,y);let s=yield ZA(n.localStore,e,!0),o=new CI(e,s.Ts),a=o.ma(s.documents),l=rc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",r),u=o.applyChanges(a,n.isPrimaryClient,l);n1(n,t,u.wa);let d=new TI(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function b3(n,e,t){return M(this,null,function*(){let i=pe(n),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!bf(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cI(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),t&&JI(i.remoteStore,r.targetId),AI(i,r.targetId)}).catch(pc))):(AI(i,r.targetId),yield cI(i.localStore,r.targetId,!0))})}function C3(n,e){return M(this,null,function*(){let t=pe(n),i=t.Fa.get(e),r=t.Ma.get(i.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),JI(t.remoteStore,i.targetId))})}function T3(n,e,t){return M(this,null,function*(){let i=O3(n);try{let r=yield function(o,a){let l=pe(o),u=Pt.now(),d=a.reduce((y,v)=>y.add(v.key),Pe()),p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let v=dr(),T=Pe();return l.cs.getEntries(y,d).next(S=>{v=S,v.forEach((O,L)=>{L.isValidDocument()||(T=T.add(O))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,v)).next(S=>{p=S;let O=[];for(let L of a){let q=MB(L,p.get(L.key).overlayedDocument);q!=null&&O.push(new hr(L.key,q,f1(q.value.mapValue),Vs.exists(!0)))}return l.mutationQueue.addMutationBatch(y,u,O,a)}).next(S=>{m=S;let O=S.applyToLocalDocumentSet(p,T);return l.documentOverlayCache.saveOverlays(y,S.batchId,O)})}).then(()=>({batchId:m.batchId,changes:C1(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new vt($e)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,t),yield yc(i,r.changes),yield Df(i.remoteStore)}catch(r){let s=nw(r,"Failed to persist write");t.reject(s)}})}function Y1(n,e){return M(this,null,function*(){let t=pe(n);try{let i=yield XB(t.localStore,e);e.targetChanges.forEach((r,s)=>{let o=t.Na.get(s);o&&(st(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?st(o.va):r.removedDocuments.size>0&&(st(o.va),o.va=!1))}),yield yc(t,i,e)}catch(i){yield pc(i)}})}function t1(n,e,t){let i=pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){let r=[];i.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){let l=pe(o);l.onlineState=a;let u=!1;l.queries.forEach((d,p)=>{for(let m of p.j_)m.Z_(a)&&(u=!0)}),u&&iw(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function S3(n,e,t){return M(this,null,function*(){let i=pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);let r=i.Na.get(e),s=r&&r.key;if(s){let o=new vt(re.comparator);o=o.insert(s,pi.newNoDocument(s,ve.min()));let a=Pe().add(s),l=new ef(ve.min(),new Map,new vt($e),o,a);yield Y1(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),rw(i)}else yield cI(i.localStore,e,!1).then(()=>AI(i,e,t)).catch(pc)})}function D3(n,e){return M(this,null,function*(){let t=pe(n),i=e.batch.batchId;try{let r=yield JB(t.localStore,e);J1(t,i,null),Z1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield yc(t,r)}catch(r){yield pc(r)}})}function A3(n,e,t){return M(this,null,function*(){let i=pe(n);try{let r=yield function(o,a){let l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(p=>(st(p!==null),d=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(i.localStore,e);J1(i,e,t),Z1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield yc(i,r)}catch(r){yield pc(r)}})}function Z1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function J1(n,e,t){let i=pe(n),r=i.Ba[i.currentUser.toKey()];if(r){let s=r.get(e);s&&(t?s.reject(t):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function AI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||X1(n,i)})}function X1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(JI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),rw(n))}function n1(n,e,t){for(let i of t)i instanceof pf?(n.La.addReference(i.key,e),x3(n,i)):i instanceof mf?(J("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||X1(n,i.key)):ce()}function x3(n,e){let t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(J("SyncEngine","New document in limbo: "+t),n.xa.add(i),rw(n))}function rw(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new re(dt.fromString(e)),i=n.qa.next();n.Na.set(i,new SI(t)),n.Oa=n.Oa.insert(t,i),H1(n.remoteStore,new sc(Fi(v1(t.path)),i,"TargetPurposeLimboResolution",c1.oe))}}function yc(n,e,t){return M(this,null,function*(){let i=pe(n),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,t).then(u=>{var d;if((u||t)&&i.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;i.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){r.push(u);let p=sI.Wi(l.targetId,u);s.push(p)}}))}),yield Promise.all(o),i.Ca.d_(r),yield function(l,u){return M(this,null,function*(){let d=pe(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(u,m=>$.forEach(m.$i,y=>d.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>$.forEach(m.Ui,y=>d.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!mc(p))throw p;J("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let y=d.os.get(m),v=y.snapshotVersion,T=y.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(m,T)}}})}(i.localStore,s))})}function M3(n,e){return M(this,null,function*(){let t=pe(n);if(!t.currentUser.isEqual(e)){J("SyncEngine","User change. New user:",e.toKey());let i=yield B1(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new Y(F.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield yc(t,i.hs)}})}function R3(n,e){let t=pe(n),i=t.Na.get(e);if(i&&i.va)return Pe().add(i.key);{let r=Pe(),s=t.Ma.get(e);if(!s)return r;for(let o of s){let a=t.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function ex(n){let e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=R3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S3.bind(null,e),e.Ca.d_=_3.bind(null,e.eventManager),e.Ca.$a=v3.bind(null,e.eventManager),e}function O3(n){let e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=D3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=A3.bind(null,e),e}var gf=class{constructor(){this.synchronizeTabs=!1}initialize(e){return M(this,null,function*(){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ZB(this.persistence,new aI,e.initialUser,this.serializer)}createPersistence(e){return new nI(rI.Zr,this.serializer)}createSharedClientState(e){return new uI}terminate(){return M(this,null,function*(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var xI=class{initialize(e,t){return M(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>t1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=M3.bind(null,this.syncEngine),yield m3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new wI}()}createDatastore(e){let t=Tf(e.databaseInfo.databaseId),i=function(s){return new fI(s)}(e.databaseInfo);return function(s,o,a,l){return new gI(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,r,s,o,a){return new _I(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,t=>t1(this.syncEngine,t,0),function(){return lf.D()?new lf:new dI}())}createSyncEngine(e,t){return function(r,s,o,a,l,u,d){let p=new DI(r,s,o,a,l,u);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return M(this,null,function*(){var e,t;yield function(r){return M(this,null,function*(){let s=pe(r);J("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield gc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()})}};var MI=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var RI=class{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=Ft.UNAUTHENTICATED,this.clientId=Wh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,s=>M(this,null,function*(){J("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(i,s=>(J("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>M(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let i=nw(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function sv(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),J("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(r=>M(this,null,function*(){i.isEqual(r)||(yield B1(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function i1(n,e){return M(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield P3(n);J("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>JA(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>JA(e.remoteStore,r)),n._onlineComponents=e})}function N3(n){return n.name==="FirebaseError"?n.code===F.FAILED_PRECONDITION||n.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}function P3(n){return M(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){J("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!N3(t))throw t;ca("Error using user provided cache. Falling back to memory cache: "+t),yield sv(n,new gf)}}else J("FirestoreClient","Using default OfflineComponentProvider"),yield sv(n,new gf);return n._offlineComponents})}function tx(n){return M(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(J("FirestoreClient","Using user provided OnlineComponentProvider"),yield i1(n,n._uninitializedComponentsProvider._online)):(J("FirestoreClient","Using default OnlineComponentProvider"),yield i1(n,new xI))),n._onlineComponents})}function k3(n){return tx(n).then(e=>e.syncEngine)}function F3(n){return M(this,null,function*(){let e=yield tx(n),t=e.eventManager;return t.onListen=I3.bind(null,e.syncEngine),t.onUnlisten=b3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=w3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=C3.bind(null,e.syncEngine),t})}function L3(n,e,t={}){let i=new Pi;return n.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return function(s,o,a,l,u){let d=new MI({next:m=>{o.enqueueAndForget(()=>y3(s,p)),m.fromCache&&l.source==="server"?u.reject(new Y(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new bI(a,d,{includeMetadataChanges:!0,_a:!0});return g3(s,p)}(yield F3(n),n.asyncQueue,e,t,i)})),i.promise}function nx(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var r1=new Map;function ix(n,e,t){if(!t)throw new Y(F.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function V3(n,e,t,i){if(e===!0&&i===!0)throw new Y(F.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function s1(n){if(!re.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function o1(n){if(re.isDocumentKey(n))throw new Y(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Af(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ce()}function yf(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Y(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Af(n);throw new Y(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var _f=class{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}V3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ia=class{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _f({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _f(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ov;switch(i.type){case"firstParty":return new uv(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Y(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let i=r1.get(t);i&&(J("ComponentProvider","Removing Datastore"),r1.delete(t),i.terminate())}(this),Promise.resolve()}};function rx(n,e,t,i={}){var r;let s=(n=yf(n,Ia))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ft.MOCK_USER;else{a=BD(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);let u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new Y(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(u)}n._authCredentials=new av(new Gh(a,l))}}var wa=class n{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Yn=class n{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},qr=class n extends wa{constructor(e,t,i){super(e,t,v1(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new re(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function sw(n,e,...t){if(n=Kn(n),ix("collection","path",e),n instanceof Ia){let i=dt.fromString(e,...t);return o1(i),new qr(n,null,i)}{if(!(n instanceof Yn||n instanceof qr))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(dt.fromString(e,...t));return o1(i),new qr(n.firestore,null,i)}}function sx(n,e,...t){if(n=Kn(n),arguments.length===1&&(e=Wh.newId()),ix("doc","path",e),n instanceof Ia){let i=dt.fromString(e,...t);return s1(i),new Yn(n,null,new re(i))}{if(!(n instanceof Yn||n instanceof qr))throw new Y(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=n._path.child(dt.fromString(e,...t));return s1(i),new Yn(n.firestore,n instanceof qr?n.converter:null,new re(i))}}var OI=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new cf(this,"async_queue_retry"),this.Eu=()=>{let t=rv();t&&J("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};let e=rv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let t=rv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let t=new Pi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return M(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!mc(e))throw e;J("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let t=this.au.then(()=>(this.Pu=!0,e().catch(i=>{this.hu=i,this.Pu=!1;let r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw cr("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.Pu=!1,i))));return this.au=t,t}enqueueAfterDelay(e,t,i){this.du(),this.Tu.indexOf(e)>-1&&(t=0);let r=vI.createAndSchedule(this,e,t,i,s=>this.Vu(s));return this.lu.push(r),r}du(){this.hu&&ce()}verifyOperationInProgress(){}mu(){return M(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(let t of this.lu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let t=this.lu.indexOf(e);this.lu.splice(t,1)}};var lc=class extends Ia{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=function(){return new OI}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||lx(this),this._firestoreClient.terminate()}};function ox(n,e){let t=typeof n=="object"?n:Ll(),i=typeof n=="string"?n:e||"(default)",r=M_(t,"firestore").getImmediate({identifier:i});if(!r._initialized){let s=UD("firestore");s&&rx(r,...s)}return r}function ax(n){return n._firestoreClient||lx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function lx(n){var e,t,i;let r=n._freezeSettings(),s=function(a,l,u,d){return new mv(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,nx(d.experimentalLongPollingOptions),d.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,r);n._firestoreClient=new RI(n._authCredentials,n._appCheckCredentials,n._queue,s),!((t=r.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var cc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(tn.fromBase64String(e))}catch(t){throw new Y(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var uc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Y(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var vf=class{constructor(e){this._methodName=e}};var dc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Y(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Y(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}};var hc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}};var U3=/^__.*__$/,NI=class{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new hr(e,this.data,this.fieldMask,t,this.fieldTransforms):new qs(e,this.data,t,this.fieldTransforms)}};function cx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}var PI=class n{constructor(e,t,i,r,s,o){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.vu(e),r}Cu(e){var t;let i=(t=this.path)===null||t===void 0?void 0:t.child(e),r=this.Su({path:i,Du:!1});return r.yu(),r}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return If(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(cx(this.wu)&&U3.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},kI=class{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Tf(e)}Nu(e,t,i,r=!1){return new PI({wu:e,methodName:t,Ou:i,path:Rn.emptyPath(),Du:!1,xu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function ux(n){let e=n._freezeSettings(),t=Tf(n._databaseId);return new kI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j3(n,e,t,i,r,s={}){let o=n.Nu(s.merge||s.mergeFields?2:0,e,t,r);fx("Data must be an object, but it was:",o,i);let a=dx(i,o),l,u;if(s.merge)l=new Ni(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let p of s.mergeFields){let m=$3(e,p,t);if(!o.contains(m))throw new Y(F.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);z3(d,m)||d.push(m)}l=new Ni(d),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new NI(new fi(a),l,u)}function B3(n,e,t,i=!1){return ow(t,n.Nu(i?4:3,e))}function ow(n,e){if(hx(n=Kn(n)))return fx("Unsupported field value:",e,n),dx(n,e);if(n instanceof vf)return function(i,r){if(!cx(r.wu))throw r.Mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Mu(`${i._methodName}() is not currently supported inside arrays`);let s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(i,r){let s=[],o=0;for(let a of i){let l=ow(a,r.Fu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(n,e)}return function(i,r){if((i=Kn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TB(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let s=Pt.fromDate(i);return{timestampValue:sf(r.serializer,s)}}if(i instanceof Pt){let s=new Pt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:sf(r.serializer,s)}}if(i instanceof dc)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof cc)return{bytesValue:P1(r.serializer,i._byteString)};if(i instanceof Yn){let s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ZI(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof hc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return YI(a.serializer,l)})}}}}}}(i,r);throw r.Mu(`Unsupported field value: ${Af(i)}`)}(n,e)}function dx(n,e){let t={};return u1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(n,(i,r)=>{let s=ow(r,e.bu(i));s!=null&&(t[i]=s)}),{mapValue:{fields:t}}}function hx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Pt||n instanceof dc||n instanceof cc||n instanceof Yn||n instanceof vf||n instanceof hc)}function fx(n,e,t){if(!hx(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let i=Af(t);throw i==="an object"?e.Mu(n+" a custom object"):e.Mu(n+" "+i)}}function $3(n,e,t){if((e=Kn(e))instanceof uc)return e._internalPath;if(typeof e=="string")return px(n,e);throw If("Field path arguments must be of type string or ",n,!1,void 0,t)}var H3=new RegExp("[~\\*/\\[\\]]");function px(n,e,t){if(e.search(H3)>=0)throw If(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new uc(...e.split("."))._internalPath}catch{throw If(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function If(n,e,t,i,r){let s=i&&!i.isEmpty(),o=r!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new Y(F.INVALID_ARGUMENT,a+n+l)}function z3(n,e){return n.some(t=>t.isEqual(e))}var wf=class{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(mx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FI=class extends wf{data(){return super.data()}};function mx(n,e){return typeof e=="string"?px(n,e):e instanceof uc?e._internalPath:e._delegate._internalPath}function q3(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Y(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fc=class{},LI=class extends fc{};function aw(n,e,...t){let i=[];e instanceof fc&&i.push(e),i=i.concat(t),function(s){let o=s.filter(l=>l instanceof UI).length,a=s.filter(l=>l instanceof VI).length;if(o>1||o>0&&a>0)throw new Y(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(let r of i)n=r._apply(n);return n}var VI=class n extends LI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new n(e,t,i)}_apply(e){let t=this._parse(e);return gx(e._query,t),new wa(e.firestore,e.converter,Av(e._query,t))}_parse(e){let t=ux(e.firestore);return function(s,o,a,l,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){l1(p,d);let y=[];for(let v of p)y.push(a1(l,s,v));m={arrayValue:{values:y}}}else m=a1(l,s,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||l1(p,d),m=B3(a,o,p,d==="in"||d==="not-in");return xt.create(u,d,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var UI=class n extends fc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:mi.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,s){let o=r,a=s.getFlattenedFilters();for(let l of a)gx(o,l),o=Av(o,l)}(e._query,t),new wa(e.firestore,e.converter,Av(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function a1(n,e,t){if(typeof(t=Kn(t))=="string"){if(t==="")throw new Y(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I1(e)&&t.indexOf("/")!==-1)throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let i=e.path.child(dt.fromString(t));if(!re.isDocumentKey(i))throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return PA(n,new re(i))}if(t instanceof Yn)return PA(n,t._key);throw new Y(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Af(t)}.`)}function l1(n,e){if(!Array.isArray(n)||n.length===0)throw new Y(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gx(n,e){let t=function(r,s){for(let o of r)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var jI=class{convertValue(e,t="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let i={};return ba(e,(r,s)=>{i[r]=this.convertValue(s,t)}),i}convertVectorValue(e){var t,i,r;let s=(r=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>ct(o.doubleValue));return new hc(s)}convertGeoPoint(e){return new dc(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":let i=GI(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){let t=ur(e);return new Pt(t.seconds,t.nanos)}convertDocumentKey(e,t){let i=dt.fromString(e);st(j1(i));let r=new Zh(i.get(1),i.get(3)),s=new re(i.popFirst(5));return r.isEqual(t)||cr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function G3(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}var oa=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},BI=class extends wf{constructor(e,t,i,r,s,o){super(e,t,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new la(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let i=this._document.data.field(mx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}},la=class extends BI{data(e={}){return super.data(e)}},$I=class{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new oa(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new la(this._firestore,this._userDataWriter,i.key,i,new oa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Y(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{let l=new la(r._firestore,r._userDataWriter,a.doc.key,a.doc,new oa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let l=new la(r._firestore,r._userDataWriter,a.doc.key,a.doc,new oa(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),u=-1,d=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:W3(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function W3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}var HI=class extends jI{constructor(e){super(),this.firestore=e}convertBytes(e){return new cc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,t)}};function lw(n){n=yf(n,wa);let e=yf(n.firestore,lc),t=ax(e),i=new HI(e);return q3(n._query),L3(t,n._query).then(r=>new $I(e,i,n,r))}function cw(n,e){let t=yf(n.firestore,lc),i=sx(n),r=G3(n.converter,e);return K3(t,[j3(ux(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Vs.exists(!1))]).then(()=>i)}function K3(n,e){return function(i,r){let s=new Pi;return i.asyncQueue.enqueueAndForget(()=>M(this,null,function*(){return T3(yield k3(i),r,s)})),s.promise}(ax(n),e)}(function(e,t=!0){(function(r){Ea=r})(Jo),$r(new Qn("firestore",(i,{instanceIdentifier:r,options:s})=>{let o=i.getProvider("app").getImmediate(),a=new lc(new lv(i.getProvider("auth-internal")),new hv(i.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zh(u.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),kt(MA,"4.7.1",e),kt(MA,"4.7.1","esm2017")})();var Ws=class{constructor(e){return e}},yx="firestore",uw=class{constructor(){return Ul(yx)}};var dw=new te("angularfire2.firestore-instances");function Q3(n,e){let t=N_(yx,n,e);return t&&new Ws(t)}function Y3(n){return(e,t)=>{let i=e.runOutsideAngular(()=>n(t));return new Ws(i)}}var Z3={provide:uw,deps:[[new An,dw]]},J3={provide:Ws,useFactory:Q3,deps:[[new An,dw],Ns]};function _x(n,...e){return kt("angularfire",ea.full,"fst"),Lr([J3,Z3,{provide:dw,useFactory:Y3(n),multi:!0,deps:[Ee,Yt,jl,$l,[new An,Uh],[new An,Vl],...e]}])}var vx=Bl(ox,!0);var ye=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}(ye||{}),Ui="*";function Ix(n,e){return{type:ye.Trigger,name:n,definitions:e,options:{}}}function hw(n,e=null){return{type:ye.Animate,styles:e,timings:n}}function wx(n,e=null){return{type:ye.Sequence,steps:n,options:e}}function Ta(n){return{type:ye.Style,styles:n,offset:null}}function fw(n,e,t=null){return{type:ye.Transition,expr:n,animation:e,options:t}}function pw(n,e=null){return{type:ye.Reference,animation:n,options:e}}function mw(n,e=null){return{type:ye.AnimateRef,animation:n,options:e}}var Qr=class{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},_c=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let t=e*this.totalTime;this.players.forEach(i=>{let r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){let e=this.players.reduce((t,i)=>t===null||i.totalTime>t.totalTime?i:t,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let t=e=="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},xf="!";function Ex(n){return new j(3e3,!1)}function e4(){return new j(3100,!1)}function t4(){return new j(3101,!1)}function n4(n){return new j(3001,!1)}function i4(n){return new j(3003,!1)}function r4(n){return new j(3004,!1)}function s4(n,e){return new j(3005,!1)}function o4(){return new j(3006,!1)}function a4(){return new j(3007,!1)}function l4(n,e){return new j(3008,!1)}function c4(n){return new j(3002,!1)}function u4(n,e,t,i,r){return new j(3010,!1)}function d4(){return new j(3011,!1)}function h4(){return new j(3012,!1)}function f4(){return new j(3200,!1)}function p4(){return new j(3202,!1)}function m4(){return new j(3013,!1)}function g4(n){return new j(3014,!1)}function y4(n){return new j(3015,!1)}function _4(n){return new j(3016,!1)}function v4(n,e){return new j(3404,!1)}function I4(n){return new j(3502,!1)}function w4(n){return new j(3503,!1)}function E4(){return new j(3300,!1)}function b4(n){return new j(3504,!1)}function C4(n){return new j(3301,!1)}function T4(n,e){return new j(3302,!1)}function S4(n){return new j(3303,!1)}function D4(n,e){return new j(3400,!1)}function A4(n){return new j(3401,!1)}function x4(n){return new j(3402,!1)}function M4(n,e){return new j(3505,!1)}function Yr(n){switch(n.length){case 0:return new Qr;case 1:return n[0];default:return new _c(n)}}function Fx(n,e,t=new Map,i=new Map){let r=[],s=[],o=-1,a=null;if(e.forEach(l=>{let u=l.get("offset"),d=u==o,p=d&&a||new Map;l.forEach((m,y)=>{let v=y,T=m;if(y!=="offset")switch(v=n.normalizePropertyName(v,r),T){case xf:T=t.get(y);break;case Ui:T=i.get(y);break;default:T=n.normalizeStyleValue(y,v,T,r);break}p.set(v,T)}),d||s.push(p),a=p,o=u}),r.length)throw I4(r);return s}function Vw(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&gw(t,"start",n)));break;case"done":n.onDone(()=>i(t&&gw(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&gw(t,"destroy",n)));break}}function gw(n,e,t){let i=t.totalTime,r=!!t.disabled,s=Uw(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,i??n.totalTime,r),o=n._data;return o!=null&&(s._data=o),s}function Uw(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function Nn(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function bx(n){let e=n.indexOf(":"),t=n.substring(1,e),i=n.slice(e+1);return[t,i]}var R4=typeof document>"u"?null:document.documentElement;function jw(n){let e=n.parentNode||n.host||null;return e===R4?null:e}function O4(n){return n.substring(1,6)=="ebkit"}var Ks=null,Cx=!1;function N4(n){Ks||(Ks=P4()||{},Cx=Ks.style?"WebkitAppearance"in Ks.style:!1);let e=!0;return Ks.style&&!O4(n)&&(e=n in Ks.style,!e&&Cx&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ks.style)),e}function P4(){return typeof document<"u"?document.body:null}function Lx(n,e){for(;e;){if(e===n)return!0;e=jw(e)}return!1}function Vx(n,e,t){if(t)return Array.from(n.querySelectorAll(e));let i=n.querySelector(e);return i?[i]:[]}var Bw=(()=>{let e=class e{validateStyleProperty(i){return N4(i)}containsElement(i,r){return Lx(i,r)}getParentElement(i){return jw(i)}query(i,r,s){return Vx(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,o,a,l=[],u){return new Qr(s,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})(),qw=class qw{};qw.NOOP=new Bw;var Zs=qw,Js=class{};var k4=1e3,Ux="{{",F4="}}",jx="ng-enter",Ew="ng-leave",Mf="ng-trigger",kf=".ng-trigger",Tx="ng-animating",bw=".ng-animating";function fr(n){if(typeof n=="number")return n;let e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Cw(parseFloat(e[1]),e[2])}function Cw(n,e){switch(e){case"s":return n*k4;default:return n}}function Ff(n,e,t){return n.hasOwnProperty("duration")?n:L4(n,e,t)}function L4(n,e,t){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,s=0,o="";if(typeof n=="string"){let a=n.match(i);if(a===null)return e.push(Ex(n)),{duration:0,delay:0,easing:""};r=Cw(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Cw(parseFloat(l),a[4]));let u=a[5];u&&(o=u)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(e4()),a=!0),s<0&&(e.push(t4()),a=!0),a&&e.splice(l,0,Ex(n))}return{duration:r,delay:s,easing:o}}function V4(n){return n.length?n[0]instanceof Map?n:n.map(e=>new Map(Object.entries(e))):[]}function ji(n,e,t){e.forEach((i,r)=>{let s=$w(r);t&&!t.has(r)&&t.set(r,n.style[s]),n.style[s]=i})}function Ys(n,e){e.forEach((t,i)=>{let r=$w(i);n.style[r]=""})}function vc(n){return Array.isArray(n)?n.length==1?n[0]:wx(n):n}function U4(n,e,t){let i=e.params||{},r=Bx(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(n4(s))})}var Tw=new RegExp(`${Ux}\\s*(.+?)\\s*${F4}`,"g");function Bx(n){let e=[];if(typeof n=="string"){let t;for(;t=Tw.exec(n);)e.push(t[1]);Tw.lastIndex=0}return e}function wc(n,e,t){let i=`${n}`,r=i.replace(Tw,(s,o)=>{let a=e[o];return a==null&&(t.push(i4(o)),a=""),a.toString()});return r==i?n:r}var j4=/-+([a-z0-9])/g;function $w(n){return n.replace(j4,(...e)=>e[1].toUpperCase())}function B4(n,e){return n===0||e===0}function $4(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((s,o)=>{i.has(o)||r.push(o),i.set(o,s)}),r.length)for(let s=1;s<e.length;s++){let o=e[s];r.forEach(a=>o.set(a,Hw(n,a)))}}return e}function On(n,e,t){switch(e.type){case ye.Trigger:return n.visitTrigger(e,t);case ye.State:return n.visitState(e,t);case ye.Transition:return n.visitTransition(e,t);case ye.Sequence:return n.visitSequence(e,t);case ye.Group:return n.visitGroup(e,t);case ye.Animate:return n.visitAnimate(e,t);case ye.Keyframes:return n.visitKeyframes(e,t);case ye.Style:return n.visitStyle(e,t);case ye.Reference:return n.visitReference(e,t);case ye.AnimateChild:return n.visitAnimateChild(e,t);case ye.AnimateRef:return n.visitAnimateRef(e,t);case ye.Query:return n.visitQuery(e,t);case ye.Stagger:return n.visitStagger(e,t);default:throw r4(e.type)}}function Hw(n,e){return window.getComputedStyle(n)[e]}var H4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Lf=class extends Js{normalizePropertyName(e,t){return $w(e)}normalizeStyleValue(e,t,i,r){let s="",o=i.toString().trim();if(H4.has(t)&&i!==0&&i!=="0")if(typeof i=="number")s="px";else{let a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&r.push(s4(e,i))}return o+s}};var Vf="*";function z4(n,e){let t=[];return typeof n=="string"?n.split(/\s*,\s*/).forEach(i=>q4(i,t,e)):t.push(n),t}function q4(n,e,t){if(n[0]==":"){let l=G4(n,t);if(typeof l=="function"){e.push(l);return}n=l}let i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return t.push(y4(n)),e;let r=i[1],s=i[2],o=i[3];e.push(Sx(r,o));let a=r==Vf&&o==Vf;s[0]=="<"&&!a&&e.push(Sx(o,r))}function G4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(_4(n)),"* => *"}}var Rf=new Set(["true","1"]),Of=new Set(["false","0"]);function Sx(n,e){let t=Rf.has(n)||Of.has(n),i=Rf.has(e)||Of.has(e);return(r,s)=>{let o=n==Vf||n==r,a=e==Vf||e==s;return!o&&t&&typeof r=="boolean"&&(o=r?Rf.has(n):Of.has(n)),!a&&i&&typeof s=="boolean"&&(a=s?Rf.has(e):Of.has(e)),o&&a}}var $x=":self",W4=new RegExp(`s*${$x}s*,?`,"g");function Hx(n,e,t,i){return new Sw(n).build(e,t,i)}var Dx="",Sw=class{constructor(e){this._driver=e}build(e,t,i){let r=new Dw(t);return this._resetContextStyleTimingState(r),On(this,vc(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector=Dx,e.collectedStyles=new Map,e.collectedStyles.set(Dx,new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&t.errors.push(o4()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==ye.State){let l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,s.push(this.visitState(l,t))}),l.name=u}else if(a.type==ye.Transition){let l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(a4())}),{type:ye.Trigger,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){let i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){let s=new Set,o=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{Bx(l).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&t.errors.push(l4(e.name,[...s.values()]))}return{type:ye.State,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let i=On(this,vc(e.animation),t),r=z4(e.expr,t.errors);return{type:ye.Transition,matchers:r,animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Qs(e.options)}}visitSequence(e,t){return{type:ye.Sequence,steps:e.steps.map(i=>On(this,i,t)),options:Qs(e.options)}}visitGroup(e,t){let i=t.currentTime,r=0,s=e.steps.map(o=>{t.currentTime=i;let a=On(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:ye.Group,steps:s,options:Qs(e.options)}}visitAnimate(e,t){let i=Z4(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Ta({});if(s.type==ye.Keyframes)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;let u={};i.easing&&(u.easing=i.easing),o=Ta(u)}t.currentTime+=i.duration+i.delay;let l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:ye.Animate,timings:i,style:r,options:null}}visitStyle(e,t){let i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){let i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)typeof a=="string"?a===Ui?i.push(a):t.errors.push(c4(a)):i.push(new Map(Object.entries(a)));let s=!1,o=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(Ux)>=0){s=!0;break}}}),{type:ye.Style,styles:i,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){let i=t.currentAnimateTimings,r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(l),p=!0;d&&(s!=r&&s>=d.startTime&&r<=d.endTime&&(t.errors.push(u4(l,d.startTime,d.endTime,s,r)),p=!1),s=d.startTime),p&&u.set(l,{startTime:s,endTime:r}),t.options&&U4(a,t.options,t.errors)})})}visitKeyframes(e,t){let i={type:ye.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(d4()),i;let r=1,s=0,o=[],a=!1,l=!1,u=0,d=e.steps.map(O=>{let L=this._makeStyleAst(O,t),q=L.offset!=null?L.offset:Y4(L.styles),K=0;return q!=null&&(s++,K=L.offset=q),l=l||K<0||K>1,a=a||K<u,u=K,o.push(K),L});l&&t.errors.push(h4()),a&&t.errors.push(f4());let p=e.steps.length,m=0;s>0&&s<p?t.errors.push(p4()):s==0&&(m=r/(p-1));let y=p-1,v=t.currentTime,T=t.currentAnimateTimings,S=T.duration;return d.forEach((O,L)=>{let q=m>0?L==y?1:m*L:o[L],K=q*S;t.currentTime=v+T.delay+K,T.duration=K,this._validateStyleAst(O,t),O.offset=q,i.styles.push(O)}),i}visitReference(e,t){return{type:ye.Reference,animation:On(this,vc(e.animation),t),options:Qs(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:ye.AnimateChild,options:Qs(e.options)}}visitAnimateRef(e,t){return{type:ye.AnimateRef,animation:this.visitReference(e.animation,t),options:Qs(e.options)}}visitQuery(e,t){let i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;let[s,o]=K4(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,Nn(t.collectedStyles,t.currentQuerySelector,new Map);let a=On(this,vc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:ye.Query,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Qs(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(m4());let i=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ff(e.timings,t.errors,!0);return{type:ye.Stagger,animation:On(this,vc(e.animation),t),timings:i,options:null}}};function K4(n){let e=!!n.split(/\s*,\s*/).find(t=>t==$x);return e&&(n=n.replace(W4,"")),n=n.replace(/@\*/g,kf).replace(/@\w+/g,t=>kf+"-"+t.slice(1)).replace(/:animating/g,bw),[n,e]}function Q4(n){return n?k({},n):null}var Dw=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function Y4(n){if(typeof n=="string")return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){let i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){let t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Z4(n,e){if(n.hasOwnProperty("duration"))return n;if(typeof n=="number"){let s=Ff(n,e).duration;return yw(s,0,"")}let t=n;if(t.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=yw(0,0,"");return s.dynamic=!0,s.strValue=t,s}let r=Ff(t,e);return yw(r.duration,r.delay,r.easing)}function Qs(n){return n?(n=k({},n),n.params&&(n.params=Q4(n.params))):n={},n}function yw(n,e,t){return{duration:n,delay:e,easing:t}}function zw(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}var Ec=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},J4=1,X4=":enter",e$=new RegExp(X4,"g"),t$=":leave",n$=new RegExp(t$,"g");function zx(n,e,t,i,r,s=new Map,o=new Map,a,l,u=[]){return new Aw().buildKeyframes(n,e,t,i,r,s,o,a,l,u)}var Aw=class{buildKeyframes(e,t,i,r,s,o,a,l,u,d=[]){u=u||new Ec;let p=new xw(e,t,u,r,s,d,[]);p.options=l;let m=l.delay?fr(l.delay):0;p.currentTimeline.delayNextStep(m),p.currentTimeline.setStyles([o],null,p.errors,l),On(this,i,p);let y=p.timelines.filter(v=>v.containsAnimation());if(y.length&&a.size){let v;for(let T=y.length-1;T>=0;T--){let S=y[T];if(S.element===t){v=S;break}}v&&!v.allowOnlyTimelineStyles()&&v.setStyles([a],null,p.errors,l)}return y.length?y.map(v=>v.buildKeyframes()):[zw(t,[],[],[],0,m,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let i=t.subInstructions.get(t.element);if(i){let r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){let i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(let r of e){let s=r?.delay;if(s){let o=typeof s=="number"?s:fr(wc(s,r?.params??{},t.errors));i.delayNextStep(o)}}}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime,o=i.duration!=null?fr(i.duration):null,a=i.delay!=null?fr(i.delay):null;return o!==0&&e.forEach(l=>{let u=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),On(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let i=t.subContextCount,r=t,s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),s.delay!=null)){r.previousNode.type==ye.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Uf);let o=fr(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>On(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let i=[],r=t.currentTimeline.currentTime,s=e.options&&e.options.delay?fr(e.options.delay):0;e.steps.forEach(o=>{let a=t.createSubContext(e.options);s&&a.delayNextStep(s),On(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let i=e.strValue,r=t.params?wc(i,t.params,t.errors):i;return Ff(r,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());let s=e.style;s.type==ye.Keyframes?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();let s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{let u=l.offset||0;a.forwardTime(u*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){let i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?fr(r.delay):0;s&&(t.previousNode.type===ye.Style||i==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Uf);let o=i,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((u,d)=>{t.currentQueryIndex=d;let p=t.createSubContext(e.options,u);s&&p.delayNextStep(s),u===t.element&&(l=p.currentTimeline),On(this,e.animation,p),p.currentTimeline.applyStylesToKeyframe();let m=p.currentTimeline.currentTime;o=Math.max(o,m)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1),l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime;break}let d=t.currentTimeline;l&&d.delayNextStep(l);let p=d.currentTime;On(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-p+(r.startTime-i.currentTimeline.startTime)}},Uf={},xw=class n{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Uf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new jf(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let i=e,r=this.options;i.duration!=null&&(r.duration=fr(i.duration)),i.delay!=null&&(r.delay=fr(i.delay));let s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=wc(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){let r=t||this.element,s=new n(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Uf,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){let r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Mw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=e.replace(e$,"."+this._enterClassName),e=e.replace(n$,"."+this._leaveClassName);let l=i!=1,u=this._driver.query(this.element,e,l);i!==0&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!s&&a.length==0&&o.push(g4(t)),a}},jf=class n{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new n(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=J4,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Ui),this._currentKeyframe.set(t,Ui);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);let s=r&&r.params||{},o=i$(e,this._globalTimelineStyles);for(let[a,l]of o){let u=wc(l,s,i);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Ui),this._updateStyle(a,u)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{let r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,i=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((a,l)=>{let u=new Map([...this._backFill,...a]);u.forEach((d,p)=>{d===xf?e.add(p):d===Ui&&t.add(p)}),i||u.set("offset",l/this.duration),r.push(u)});let s=[...e.values()],o=[...t.values()];if(i){let a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return zw(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}},Mw=class extends jf{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){let s=[],o=i+t,a=t/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let u=new Map(e[0]);u.set("offset",Ax(a)),s.push(u);let d=e.length-1;for(let p=1;p<=d;p++){let m=new Map(e[p]),y=m.get("offset"),v=t+y*i;m.set("offset",Ax(v/o)),s.push(m)}i=o,t=0,r="",e=s}return zw(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}};function Ax(n,e=3){let t=Math.pow(10,e-1);return Math.round(n*t)/t}function i$(n,e){let t=new Map,i;return n.forEach(r=>{if(r==="*"){i??=e.keys();for(let s of i)t.set(s,Ui)}else for(let[s,o]of r)t.set(s,o)}),t}function xx(n,e,t,i,r,s,o,a,l,u,d,p,m){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:d,totalTime:p,errors:m}}var _w={},Bf=class{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return r$(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return e!==void 0&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,s,o,a,l,u,d){let p=[],m=this.ast.options&&this.ast.options.params||_w,y=a&&a.params||_w,v=this.buildStyles(i,y,p),T=l&&l.params||_w,S=this.buildStyles(r,T,p),O=new Set,L=new Map,q=new Map,K=r==="void",Te={params:qx(T,m),delay:this.ast.options?.delay},X=d?[]:zx(e,t,this.ast.animation,s,o,v,S,Te,u,p),E=0;return X.forEach(_=>{E=Math.max(_.duration+_.delay,E)}),p.length?xx(t,this._triggerName,i,r,K,v,S,[],[],L,q,E,p):(X.forEach(_=>{let I=_.element,b=Nn(L,I,new Set);_.preStyleProps.forEach(A=>b.add(A));let C=Nn(q,I,new Set);_.postStyleProps.forEach(A=>C.add(A)),I!==t&&O.add(I)}),xx(t,this._triggerName,i,r,K,v,S,X,[...O.values()],L,q,E))}};function r$(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}function qx(n,e){let t=k({},e);return Object.entries(n).forEach(([i,r])=>{r!=null&&(t[i]=r)}),t}var Rw=class{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){let i=new Map,r=qx(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=wc(o,r,t));let l=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,l,o,t),i.set(a,o)})}),i}};function s$(n,e,t){return new Ow(n,e,t)}var Ow=class{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{let s=r.options&&r.options.params||{};this.states.set(r.name,new Rw(r.style,s,i))}),Mx(this.states,"true","1"),Mx(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Bf(e,r,this.states))}),this.fallbackTransition=o$(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}};function o$(n,e,t){let i=[(o,a)=>!0],r={type:ye.Sequence,steps:[],options:null},s={type:ye.Transition,animation:r,matchers:i,options:null,queryCount:0,depCount:0};return new Bf(n,s,e)}function Mx(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}var a$=new Ec,Nw=class{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){let i=[],r=[],s=Hx(this._driver,t,i,r);if(i.length)throw w4(i);r.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,t,i){let r=e.element,s=Fx(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){let r=[],s=this._animations.get(e),o,a=new Map;if(s?(o=zx(this._driver,t,s,jx,Ew,new Map,new Map,i,a$,r),o.forEach(d=>{let p=Nn(a,d.element,new Map);d.postStyleProps.forEach(m=>p.set(m,null))})):(r.push(E4()),o=[]),r.length)throw b4(r);a.forEach((d,p)=>{d.forEach((m,y)=>{d.set(y,this._driver.computeStyle(p,y,Ui))})});let l=o.map(d=>{let p=a.get(d.element);return this._buildPlayer(d,new Map,p)}),u=Yr(l);return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw C4(e);return t}listen(e,t,i,r){let s=Uw(t,"","","");return Vw(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if(i=="register"){this.register(e,r[0]);return}if(i=="create"){let o=r[0]||{};this.create(e,t,o);return}let s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e);break}}},Rx="ng-animate-queued",l$=".ng-animate-queued",vw="ng-animate-disabled",c$=".ng-animate-disabled",u$="ng-star-inserted",d$=".ng-star-inserted",h$=[],Gx={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},f$={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gi="__ng_removed",bc=class{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let i=e&&e.hasOwnProperty("value"),r=i?e.value:e;if(this.value=m$(r),i){let s=e,{value:o}=s,a=eb(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let i=this.options.params;Object.keys(t).forEach(r=>{i[r]==null&&(i[r]=t[r])})}}},Ic="void",Iw=new bc(Ic),Pw=class{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Zn(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw T4(i,t);if(i==null||i.length==0)throw S4(t);if(!g$(i))throw D4(i,t);let s=Nn(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);let a=Nn(this._engine.statesByElement,e,new Map);return a.has(t)||(Zn(e,Mf),Zn(e,Mf+"-"+t),a.set(t,Iw)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw A4(e);return t}trigger(e,t,i,r=!0){let s=this._getTrigger(t),o=new Cc(this.id,t,e),a=this._engine.statesByElement.get(e);a||(Zn(e,Mf),Zn(e,Mf+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),u=new bc(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a.set(t,u),l||(l=Iw),!(u.value===Ic)&&l.value===u.value){if(!v$(l.params,u.params)){let T=[],S=s.matchStyles(l.value,l.params,T),O=s.matchStyles(u.value,u.params,T);T.length?this._engine.reportError(T):this._engine.afterFlush(()=>{Ys(e,S),ji(e,O)})}return}let m=Nn(this._engine.playersByElement,e,[]);m.forEach(T=>{T.namespaceId==this.id&&T.triggerName==t&&T.queued&&T.destroy()});let y=s.matchTransition(l.value,u.value,e,u.params),v=!1;if(!y){if(!r)return;y=s.fallbackTransition,v=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:l,toState:u,player:o,isFallbackTransition:v}),v||(Zn(e,Rx),o.onStart(()=>{Sa(e,Rx)})),o.onDone(()=>{let T=this.players.indexOf(o);T>=0&&this.players.splice(T,1);let S=this._engine.playersByElement.get(e);if(S){let O=S.indexOf(o);O>=0&&S.splice(O,1)}}),this.players.push(o),m.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let i=this._engine.driver.query(e,kf,!0);i.forEach(r=>{if(r[gi])return;let s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,u)=>{if(o.set(u,l.value),this._triggers.has(u)){let d=this.trigger(e,u,Ic,r);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Yr(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){let r=new Set;t.forEach(s=>{let o=s.name;if(r.has(o))return;r.add(o);let l=this._triggers.get(o).fallbackTransition,u=i.get(o)||Iw,d=new bc(Ic),p=new Cc(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:u,toState:d,player:p,isFallbackTransition:!0})})}}removeNode(e,t){let i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){let s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{let s=e[gi];(!s||s===Gx)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){Zn(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(i=>{let r=i.player;if(r.destroyed)return;let s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){let l=Uw(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,Vw(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{let s=i.transition.ast.depCount,o=r.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},kw=class{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){let i=new Pw(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){let i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){let l=r.get(a);if(l){let u=i.indexOf(l);i.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);let r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,i=this.statesByElement.get(e);if(i){for(let r of i.values())if(r.namespaceId){let s=this._fetchNamespace(r.namespaceId);s&&t.add(s)}}return t}trigger(e,t,i,r){if(Nf(t)){let s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Nf(t))return;let s=t[gi];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Zn(e,vw)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Sa(e,vw))}removeNode(e,t,i){if(Nf(t)){let r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);let s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[gi]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return Nf(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,kf,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,bw,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Yr(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[gi];if(t&&t.setForRemoval){if(e[gi]=Gx,t.namespaceId){this.destroyInnerAnimations(e);let i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vw)&&this.markElementAsDisabled(e,!1),this.driver.query(e,c$,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let r=this.collectedEnterElements[i];Zn(r,u$)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let r=this.collectedLeaveElements[i];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],t.length?Yr(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw x4(e)}_flushAnimations(e,t){let i=new Ec,r=[],s=new Map,o=[],a=new Map,l=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(Z=>{d.add(Z);let ee=this.driver.query(Z,l$,!0);for(let ne=0;ne<ee.length;ne++)d.add(ee[ne])});let p=this.bodyNode,m=Array.from(this.statesByElement.keys()),y=Px(m,this.collectedEnterElements),v=new Map,T=0;y.forEach((Z,ee)=>{let ne=jx+T++;v.set(ee,ne),Z.forEach(Se=>Zn(Se,ne))});let S=[],O=new Set,L=new Set;for(let Z=0;Z<this.collectedLeaveElements.length;Z++){let ee=this.collectedLeaveElements[Z],ne=ee[gi];ne&&ne.setForRemoval&&(S.push(ee),O.add(ee),ne.hasAnimation?this.driver.query(ee,d$,!0).forEach(Se=>O.add(Se)):L.add(ee))}let q=new Map,K=Px(m,Array.from(O));K.forEach((Z,ee)=>{let ne=Ew+T++;q.set(ee,ne),Z.forEach(Se=>Zn(Se,ne))}),e.push(()=>{y.forEach((Z,ee)=>{let ne=v.get(ee);Z.forEach(Se=>Sa(Se,ne))}),K.forEach((Z,ee)=>{let ne=q.get(ee);Z.forEach(Se=>Sa(Se,ne))}),S.forEach(Z=>{this.processLeaveNode(Z)})});let Te=[],X=[];for(let Z=this._namespaceList.length-1;Z>=0;Z--)this._namespaceList[Z].drainQueuedTransitions(t).forEach(ne=>{let Se=ne.player,It=ne.element;if(Te.push(Se),this.collectedEnterElements.length){let ft=It[gi];if(ft&&ft.setForMove){if(ft.previousTriggersValues&&ft.previousTriggersValues.has(ne.triggerName)){let zi=ft.previousTriggersValues.get(ne.triggerName),fn=this.statesByElement.get(ne.element);if(fn&&fn.has(ne.triggerName)){let qi=fn.get(ne.triggerName);qi.value=zi,fn.set(ne.triggerName,qi)}}Se.destroy();return}}let Un=!p||!this.driver.containsElement(p,It),ht=q.get(It),ot=v.get(It),at=this._buildInstruction(ne,i,ot,ht,Un);if(at.errors&&at.errors.length){X.push(at);return}if(Un){Se.onStart(()=>Ys(It,at.fromStyles)),Se.onDestroy(()=>ji(It,at.toStyles)),r.push(Se);return}if(ne.isFallbackTransition){Se.onStart(()=>Ys(It,at.fromStyles)),Se.onDestroy(()=>ji(It,at.toStyles)),r.push(Se);return}let yr=[];at.timelines.forEach(ft=>{ft.stretchStartingKeyframe=!0,this.disabledNodes.has(ft.element)||yr.push(ft)}),at.timelines=yr,i.append(It,at.timelines);let jp={instruction:at,player:Se,element:It};o.push(jp),at.queriedElements.forEach(ft=>Nn(a,ft,[]).push(Se)),at.preStyleProps.forEach((ft,zi)=>{if(ft.size){let fn=l.get(zi);fn||l.set(zi,fn=new Set),ft.forEach((qi,_r)=>fn.add(_r))}}),at.postStyleProps.forEach((ft,zi)=>{let fn=u.get(zi);fn||u.set(zi,fn=new Set),ft.forEach((qi,_r)=>fn.add(_r))})});if(X.length){let Z=[];X.forEach(ee=>{Z.push(M4(ee.triggerName,ee.errors))}),Te.forEach(ee=>ee.destroy()),this.reportError(Z)}let E=new Map,_=new Map;o.forEach(Z=>{let ee=Z.element;i.has(ee)&&(_.set(ee,ee),this._beforeAnimationBuild(Z.player.namespaceId,Z.instruction,E))}),r.forEach(Z=>{let ee=Z.element;this._getPreviousPlayers(ee,!1,Z.namespaceId,Z.triggerName,null).forEach(Se=>{Nn(E,ee,[]).push(Se),Se.destroy()})});let I=S.filter(Z=>kx(Z,l,u)),b=new Map;Nx(b,this.driver,L,u,Ui).forEach(Z=>{kx(Z,l,u)&&I.push(Z)});let A=new Map;y.forEach((Z,ee)=>{Nx(A,this.driver,new Set(Z),l,xf)}),I.forEach(Z=>{let ee=b.get(Z),ne=A.get(Z);b.set(Z,new Map([...ee?.entries()??[],...ne?.entries()??[]]))});let w=[],Vn=[],gr={};o.forEach(Z=>{let{element:ee,player:ne,instruction:Se}=Z;if(i.has(ee)){if(d.has(ee)){ne.onDestroy(()=>ji(ee,Se.toStyles)),ne.disabled=!0,ne.overrideTotalTime(Se.totalTime),r.push(ne);return}let It=gr;if(_.size>1){let ht=ee,ot=[];for(;ht=ht.parentNode;){let at=_.get(ht);if(at){It=at;break}ot.push(ht)}ot.forEach(at=>_.set(at,It))}let Un=this._buildAnimation(ne.namespaceId,Se,E,s,A,b);if(ne.setRealPlayer(Un),It===gr)w.push(ne);else{let ht=this.playersByElement.get(It);ht&&ht.length&&(ne.parentPlayer=Yr(ht)),r.push(ne)}}else Ys(ee,Se.fromStyles),ne.onDestroy(()=>ji(ee,Se.toStyles)),Vn.push(ne),d.has(ee)&&r.push(ne)}),Vn.forEach(Z=>{let ee=s.get(Z.element);if(ee&&ee.length){let ne=Yr(ee);Z.setRealPlayer(ne)}}),r.forEach(Z=>{Z.parentPlayer?Z.syncPlayerEvents(Z.parentPlayer):Z.destroy()});for(let Z=0;Z<S.length;Z++){let ee=S[Z],ne=ee[gi];if(Sa(ee,Ew),ne&&ne.hasAnimation)continue;let Se=[];if(a.size){let Un=a.get(ee);Un&&Un.length&&Se.push(...Un);let ht=this.driver.query(ee,bw,!0);for(let ot=0;ot<ht.length;ot++){let at=a.get(ht[ot]);at&&at.length&&Se.push(...at)}}let It=Se.filter(Un=>!Un.destroyed);It.length?y$(this,ee,It):this.processLeaveNode(ee)}return S.length=0,w.forEach(Z=>{this.players.push(Z),Z.onDone(()=>{Z.destroy();let ee=this.players.indexOf(Z);this.players.splice(ee,1)}),Z.play()}),w}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==Ic;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||o.push(u)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){let r=t.triggerName,s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:r;for(let l of t.timelines){let u=l.element,d=u!==s,p=Nn(i,u,[]);this._getPreviousPlayers(u,d,o,a,t.toState).forEach(y=>{let v=y.getRealPlayer();v.beforeDestroy&&v.beforeDestroy(),y.destroy(),p.push(y)})}Ys(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){let a=t.triggerName,l=t.element,u=[],d=new Set,p=new Set,m=t.timelines.map(v=>{let T=v.element;d.add(T);let S=T[gi];if(S&&S.removedBeforeQueried)return new Qr(v.duration,v.delay);let O=T!==l,L=_$((i.get(T)||h$).map(E=>E.getRealPlayer())).filter(E=>{let _=E;return _.element?_.element===T:!1}),q=s.get(T),K=o.get(T),Te=Fx(this._normalizer,v.keyframes,q,K),X=this._buildPlayer(v,Te,L);if(v.subTimeline&&r&&p.add(T),O){let E=new Cc(e,a,T);E.setRealPlayer(X),u.push(E)}return X});u.forEach(v=>{Nn(this.playersByQueriedElement,v.element,[]).push(v),v.onDone(()=>p$(this.playersByQueriedElement,v.element,v))}),d.forEach(v=>Zn(v,Tx));let y=Yr(m);return y.onDestroy(()=>{d.forEach(v=>Sa(v,Tx)),ji(l,t.toStyles)}),p.forEach(v=>{Nn(r,v,[]).push(y)}),y}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Qr(e.duration,e.delay)}},Cc=class{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Qr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>Vw(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Nn(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function p$(n,e,t){let i=n.get(e);if(i){if(i.length){let r=i.indexOf(t);i.splice(r,1)}i.length==0&&n.delete(e)}return i}function m$(n){return n??null}function Nf(n){return n&&n.nodeType===1}function g$(n){return n=="start"||n=="done"}function Ox(n,e){let t=n.style.display;return n.style.display=e??"none",t}function Nx(n,e,t,i,r){let s=[];t.forEach(l=>s.push(Ox(l)));let o=[];i.forEach((l,u)=>{let d=new Map;l.forEach(p=>{let m=e.computeStyle(u,p,r);d.set(p,m),(!m||m.length==0)&&(u[gi]=f$,o.push(u))}),n.set(u,d)});let a=0;return t.forEach(l=>Ox(l,s[a++])),o}function Px(n,e){let t=new Map;if(n.forEach(a=>t.set(a,[])),e.length==0)return t;let i=1,r=new Set(e),s=new Map;function o(a){if(!a)return i;let l=s.get(a);if(l)return l;let u=a.parentNode;return t.has(u)?l=u:r.has(u)?l=i:l=o(u),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==i&&t.get(l).push(a)}),t}function Zn(n,e){n.classList?.add(e)}function Sa(n,e){n.classList?.remove(e)}function y$(n,e,t){Yr(t).onDone(()=>n.processLeaveNode(e))}function _$(n){let e=[];return Wx(n,e),e}function Wx(n,e){for(let t=0;t<n.length;t++){let i=n[t];i instanceof _c?Wx(i.players,e):e.push(i)}}function v$(n,e){let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){let s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}function kx(n,e,t){let i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}var Aa=class{constructor(e,t,i){this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new kw(e.body,t,i),this._timelineEngine=new Nw(e.body,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){let o=e+"-"+r,a=this._triggerCache[o];if(!a){let l=[],u=[],d=Hx(this._driver,s,l,u);if(l.length)throw v4(r,l);u.length&&void 0,a=s$(r,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if(i.charAt(0)=="@"){let[s,o]=bx(i),a=r;this._timelineEngine.command(s,t,o,a)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if(i.charAt(0)=="@"){let[o,a]=bx(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function I$(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=ww(e[0]),e.length>1&&(i=ww(e[e.length-1]))):e instanceof Map&&(t=ww(e)),t||i?new Fw(n,t,i):null}var Da=class Da{constructor(e,t,i){this._element=e,this._startStyles=t,this._endStyles=i,this._state=0;let r=Da.initialStylesByElement.get(e);r||Da.initialStylesByElement.set(e,r=new Map),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&ji(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ji(this._element,this._initialStyles),this._endStyles&&(ji(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Da.initialStylesByElement.delete(this._element),this._startStyles&&(Ys(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ys(this._element,this._endStyles),this._endStyles=null),ji(this._element,this._initialStyles),this._state=3)}};Da.initialStylesByElement=new WeakMap;var Fw=Da;function ww(n){let e=null;return n.forEach((t,i)=>{w$(i)&&(e=e||new Map,e.set(i,t))}),e}function w$(n){return n==="display"||n==="position"}var $f=class{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{r!=="offset"&&e.set(r,this._finished?i:Hw(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}},Hf=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return Lx(e,t)}getParentElement(e){return jw(e)}query(e,t,i){return Vx(e,t,i)}computeStyle(e,t,i){return Hw(e,t)}animate(e,t,i,r,s,o=[]){let a=r==0?"both":"forwards",l={duration:i,delay:r,fill:a};s&&(l.easing=s);let u=new Map,d=o.filter(y=>y instanceof $f);B4(i,r)&&d.forEach(y=>{y.currentSnapshot.forEach((v,T)=>u.set(T,v))});let p=V4(t).map(y=>new Map(y));p=$4(e,p,u);let m=I$(e,p);return new $f(e,p,l,m)}};var Pf="@",Kx="@.disabled",zf=class{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){t.charAt(0)==Pf&&t==Kx?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Lw=class extends zf{constructor(e,t,i,r,s){super(t,i,r,s),this.factory=e,this.namespaceId=t}setProperty(e,t,i){t.charAt(0)==Pf?t.charAt(1)=="."&&t==Kx?(i=i===void 0?!0:!!i,this.disableAnimations(e,i)):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if(t.charAt(0)==Pf){let r=E$(e),s=t.slice(1),o="";return s.charAt(0)!=Pf&&([s,o]=b$(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,i,a)})}return this.delegate.listen(e,t,i)}};function E$(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}function b$(n){let e=n.indexOf("."),t=n.substring(0,e),i=n.slice(e+1);return[t,i]}var qf=class{constructor(e,t,i){this.delegate=e,this.engine=t,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,t.onRemovalComplete=(r,s)=>{s?.removeChild(null,r)}}createRenderer(e,t){let i="",r=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let u=this._rendererCache,d=u.get(r);if(!d){let p=()=>u.delete(r);d=new zf(i,r,this.engine,p),u.set(r,d)}return d}let s=t.id,o=t.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=u=>{Array.isArray(u)?u.forEach(a):this.engine.registerTrigger(s,o,e,u.name,u)};return t.data.animation.forEach(a),new Lw(this,o,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,i){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(i));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),r.push([t,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var T$=(()=>{let e=class e extends Aa{constructor(i,r,s){super(i,r,s)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(r){return new(r||e)(ie(rt),ie(Zs),ie(Js))},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})();function S$(){return new Lf}function D$(n,e,t){return new qf(n,e,t)}var Qx=[{provide:Js,useFactory:S$},{provide:Aa,useClass:T$},{provide:kr,useFactory:D$,deps:[Ih,Aa,Ee]}],A$=[{provide:Zs,useFactory:()=>new Hf},{provide:by,useValue:"BrowserAnimations"},...Qx],ree=[{provide:Zs,useClass:Bw},{provide:by,useValue:"NoopAnimations"},...Qx];function Yx(){return oi("NgEagerAnimations"),[...A$]}var we="primary",Uc=Symbol("RouteTitle"),Yw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Pa(n){return new Yw(n)}function x$(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=n[s];if(o[0]===":")r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function M$(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Bi(n[t],e[t]))return!1;return!0}function Bi(n,e){let t=n?Zw(n):void 0,i=e?Zw(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!aM(n[r],e[r]))return!1;return!0}function Zw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function aM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}else return n===e}function lM(n){return n.length>0?n[n.length-1]:null}function Xr(n){return xm(n)?n:xs(n)?ut(Promise.resolve(n)):ue(n)}var R$={exact:uM,subset:dM},cM={exact:O$,subset:N$,ignored:()=>!0};function Zx(n,e,t){return R$[t.paths](n.root,e.root,t.matrixParams)&&cM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function O$(n,e){return Bi(n,e)}function uM(n,e,t){if(!eo(n.segments,e.segments)||!Kf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!uM(n.children[i],e.children[i],t))return!1;return!0}function N$(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>aM(n[t],e[t]))}function dM(n,e,t){return hM(n,e,e.segments,t)}function hM(n,e,t,i){if(n.segments.length>t.length){let r=n.segments.slice(0,t.length);return!(!eo(r,t)||e.hasChildren()||!Kf(r,t,i))}else if(n.segments.length===t.length){if(!eo(n.segments,t)||!Kf(n.segments,t,i))return!1;for(let r in e.children)if(!n.children[r]||!dM(n.children[r],e.children[r],i))return!1;return!0}else{let r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!eo(n.segments,r)||!Kf(n.segments,r,i)||!n.children[we]?!1:hM(n.children[we],e,s,i)}}function Kf(n,e,t){return e.every((i,r)=>cM[t](n[r].parameters,i.parameters))}var mr=class{constructor(e=new Ye([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){return F$.serialize(this)}},Ye=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qf(this)}},Xs=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Pa(this.parameters),this._parameterMap}toString(){return pM(this)}};function P$(n,e){return eo(n,e)&&n.every((t,i)=>Bi(t.parameters,e[i].parameters))}function eo(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function k$(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===we&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==we&&(t=t.concat(e(r,i)))}),t}var jc=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>new ka,providedIn:"root"});let n=e;return n})(),ka=class{parse(e){let t=new Xw(e);return new mr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Tc(e.root,!0)}`,i=U$(e.queryParams),r=typeof e.fragment=="string"?`#${L$(e.fragment)}`:"";return`${t}${i}${r}`}},F$=new ka;function Qf(n){return n.segments.map(e=>pM(e)).join("/")}function Tc(n,e){if(!n.hasChildren())return Qf(n);if(e){let t=n.children[we]?Tc(n.children[we],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==we&&i.push(`${r}:${Tc(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=k$(n,(i,r)=>r===we?[Tc(n.children[we],!1)]:[`${r}:${Tc(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[we]!=null?`${Qf(n)}/${t[0]}`:`${Qf(n)}/(${t.join("//")})`}}function fM(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gf(n){return fM(n).replace(/%3B/gi,";")}function L$(n){return encodeURI(n)}function Jw(n){return fM(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yf(n){return decodeURIComponent(n)}function Jx(n){return Yf(n.replace(/\+/g,"%20"))}function pM(n){return`${Jw(n.path)}${V$(n.parameters)}`}function V$(n){return Object.entries(n).map(([e,t])=>`;${Jw(e)}=${Jw(t)}`).join("")}function U$(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Gf(t)}=${Gf(r)}`).join("&"):`${Gf(t)}=${Gf(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var j$=/^[^\/()?;#]+/;function Gw(n){let e=n.match(j$);return e?e[0]:""}var B$=/^[^\/()?;=#]+/;function $$(n){let e=n.match(B$);return e?e[0]:""}var H$=/^[^=?&#]+/;function z$(n){let e=n.match(H$);return e?e[0]:""}var q$=/^[^&#]+/;function G$(n){let e=n.match(q$);return e?e[0]:""}var Xw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ye([],{}):new Ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[we]=new Ye(e,t)),i}parseSegment(){let e=Gw(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new Xs(Yf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=$$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Gw(this.remaining);r&&(i=r,this.capture(i))}e[Yf(t)]=Yf(i)}parseQueryParam(e){let t=z$(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let o=G$(this.remaining);o&&(i=o,this.capture(i))}let r=Jx(t),s=Jx(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Gw(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new j(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=we);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[we]:new Ye([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function mM(n){return n.segments.length>0?new Ye([],{[we]:n}):n}function gM(n){let e={};for(let[i,r]of Object.entries(n.children)){let s=gM(r);if(i===we&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let t=new Ye(n.segments,e);return W$(t)}function W$(n){if(n.numberOfChildren===1&&n.children[we]){let e=n.children[we];return new Ye(n.segments.concat(e.segments),e.children)}return n}function to(n){return n instanceof mr}function K$(n,e,t=null,i=null){let r=yM(n);return _M(r,e,t,i)}function yM(n){let e;function t(s){let o={};for(let l of s.children){let u=t(l);o[l.outlet]=u}let a=new Ye(s.url,o);return s===n&&(e=a),a}let i=t(n.root),r=mM(i);return e??r}function _M(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(e.length===0)return Ww(r,r,r,t,i);let s=Q$(e);if(s.toRoot())return Ww(r,r,new Ye([],{}),t,i);let o=Y$(s,r,n),a=o.processChildren?Ac(o.segmentGroup,o.index,s.commands):IM(o.segmentGroup,o.index,s.commands);return Ww(r,o.segmentGroup,a,t,i)}function Zf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Rc(n){return typeof n=="object"&&n!=null&&n.outlets}function Ww(n,e,t,i,r){let s={};i&&Object.entries(i).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=vM(n,e,t);let a=mM(gM(o));return new mr(a,s,r)}function vM(n,e,t){let i={};return Object.entries(n.children).forEach(([r,s])=>{s===e?i[r]=t:i[r]=vM(s,e,t)}),new Ye(n.segments,i)}var Jf=class{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zf(i[0]))throw new j(4003,!1);let r=i.find(Rc);if(r&&r!==lM(i))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Q$(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Jf(!0,0,n);let e=0,t=!1,i=n.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new Jf(t,e,i)}var Ra=class{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function Y$(n,e,t){if(n.isAbsolute)return new Ra(e,!0,0);if(!t)return new Ra(e,!1,NaN);if(t.parent===null)return new Ra(t,!0,0);let i=Zf(n.commands[0])?0:1,r=t.segments.length-1+i;return Z$(t,r,n.numberOfDoubleDots)}function Z$(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new j(4005,!1);r=i.segments.length}return new Ra(i,!1,r-s)}function J$(n){return Rc(n[0])?n[0].outlets:{[we]:n}}function IM(n,e,t){if(n??=new Ye([],{}),n.segments.length===0&&n.hasChildren())return Ac(n,e,t);let i=X$(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let s=new Ye(n.segments.slice(0,i.pathIndex),{});return s.children[we]=new Ye(n.segments.slice(i.pathIndex),n.children),Ac(s,0,r)}else return i.match&&r.length===0?new Ye(n.segments,{}):i.match&&!n.hasChildren()?e0(n,e,t):i.match?Ac(n,0,r):e0(n,e,t)}function Ac(n,e,t){if(t.length===0)return new Ye(n.segments,{});{let i=J$(t),r={};if(Object.keys(i).some(s=>s!==we)&&n.children[we]&&n.numberOfChildren===1&&n.children[we].segments.length===0){let s=Ac(n.children[we],e,t);return new Ye(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=IM(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new Ye(n.segments,r)}}function X$(n,e,t){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;let o=n.segments[r],a=t[i];if(Rc(a))break;let l=`${a}`,u=i<t.length-1?t[i+1]:null;if(r>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!eM(l,u,o))return s;i+=2}else{if(!eM(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function e0(n,e,t){let i=n.segments.slice(0,e),r=0;for(;r<t.length;){let s=t[r];if(Rc(s)){let l=eH(s.outlets);return new Ye(i,l)}if(r===0&&Zf(t[0])){let l=n.segments[e];i.push(new Xs(l.path,Xx(t[0]))),r++;continue}let o=Rc(s)?s.outlets[we]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Zf(a)?(i.push(new Xs(o,Xx(a))),r+=2):(i.push(new Xs(o,{})),r++)}return new Ye(i,{})}function eH(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=e0(new Ye([],{}),0,i))}),e}function Xx(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function eM(n,e,t){return n==t.path&&Bi(e,t.parameters)}var xc="imperative",Lt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Lt||{}),Jn=class{constructor(e,t){this.id=e,this.url=t}},Fa=class extends Jn{constructor(e,t,i="imperative",r=null){super(e,t),this.type=Lt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$i=class extends Jn{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=Lt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},kn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(kn||{}),Xf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Xf||{}),pr=class extends Jn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Lt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zr=class extends Jn{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=Lt.NavigationSkipped}},Oc=class extends Jn{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=Lt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ep=class extends Jn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Lt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},t0=class extends Jn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Lt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},n0=class extends Jn{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=Lt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},i0=class extends Jn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Lt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},r0=class extends Jn{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=Lt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},s0=class{constructor(e){this.route=e,this.type=Lt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},o0=class{constructor(e){this.route=e,this.type=Lt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},a0=class{constructor(e){this.snapshot=e,this.type=Lt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},l0=class{constructor(e){this.snapshot=e,this.type=Lt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},c0=class{constructor(e){this.snapshot=e,this.type=Lt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},u0=class{constructor(e){this.snapshot=e,this.type=Lt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},tp=class{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=Lt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Nc=class{},La=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function tH(n,e){return n.providers&&!n._injector&&(n._injector=sh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function yi(n){return n.outlet||we}function nH(n,e){let t=n.filter(i=>yi(i)===e);return t.push(...n.filter(i=>yi(i)!==e)),t}function Bc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var d0=class{get injector(){return Bc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new $c(this.rootInjector),this.attachRef=null}},$c=(()=>{let e=class e{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new d0(this.rootInjector),this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)(ie(Cn))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),np=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=h0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=h0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=f0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return f0(e,this._root).map(t=>t.value)}};function h0(n,e){if(n===e.value)return e;for(let t of e.children){let i=h0(n,t);if(i)return i}return null}function f0(n,e){if(n===e.value)return[e];for(let t of e.children){let i=f0(n,t);if(i.length)return i.unshift(e),i}return[]}var Pn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ma(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ip=class extends np{constructor(e,t){super(e),this.snapshot=t,E0(this,e)}toString(){return this.snapshot.toString()}};function wM(n){let e=iH(n),t=new Ut([new Xs("",{})]),i=new Ut({}),r=new Ut({}),s=new Ut({}),o=new Ut(""),a=new Jr(t,i,s,o,r,we,n,e.root);return a.snapshot=e.root,new ip(new Pn(a,[]),e)}function iH(n){let e={},t={},i={},r="",s=new Oa([],e,i,r,t,we,n,null,{});return new sp("",new Pn(s,[]))}var Jr=class{constructor(e,t,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ae(u=>u[Uc]))??ue(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ae(e=>Pa(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ae(e=>Pa(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rp(n,e,t="emptyOnly"){let i,{routeConfig:r}=n;return e!==null&&(t==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),r?.data),n._resolvedData)}:i={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&bM(r)&&(i.resolve[Uc]=r.title),i}var Oa=class{get title(){return this.data?.[Uc]}constructor(e,t,i,r,s,o,a,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Pa(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Pa(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},sp=class extends np{constructor(e,t){super(t),this.url=e,E0(this,t)}toString(){return EM(this._root)}};function E0(n,e){e.value._routerState=n,e.children.forEach(t=>E0(n,t))}function EM(n){let e=n.children.length>0?` { ${n.children.map(EM).join(", ")} } `:"";return`${n.value}${e}`}function Kw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Bi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Bi(e.params,t.params)||n.paramsSubject.next(t.params),M$(e.url,t.url)||n.urlSubject.next(t.url),Bi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function p0(n,e){let t=Bi(n.params,e.params)&&P$(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||p0(n.parent,e.parent))}function bM(n){return typeof n.title=="string"||n.title===null}var b0=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=we,this.activateEvents=new se,this.deactivateEvents=new se,this.attachEvents=new se,this.detachEvents=new se,this.parentContexts=B($c),this.location=B(si),this.changeDetector=B(Ht),this.inputBinder=B(cp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new m0(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[yn]});let n=e;return n})(),m0=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Jr?this.route:e===$c?this.childContexts:this.parent.get(e,t)}},cp=new te(""),tM=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=ul([r.queryParams,r.params,r.data]).pipe(Bn(([o,a,l],u)=>(l=k(k(k({},o),a),l),u===0?ue(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=pD(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})();function rH(n,e,t){let i=Pc(n,e._root,t?t._root:void 0);return new ip(i,e)}function Pc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let r=sH(n,e,t);return new Pn(i,r)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Pc(n,a)),o}}let i=oH(e.value),r=e.children.map(s=>Pc(n,s));return new Pn(i,r)}}function sH(n,e,t){return e.children.map(i=>{for(let r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Pc(n,i,r);return Pc(n,i)})}function oH(n){return new Jr(new Ut(n.url),new Ut(n.params),new Ut(n.queryParams),new Ut(n.fragment),new Ut(n.data),n.outlet,n.component,n)}var kc=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},CM="ngNavigationCancelingError";function op(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=to(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=TM(!1,kn.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function TM(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[CM]=!0,t.cancellationCode=e,t}function aH(n){return SM(n)&&to(n.url)}function SM(n){return!!n&&n[CM]}var lH=(n,e,t,i)=>Ae(r=>(new g0(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)),g0=class{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Kw(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let r=Ma(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ma(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Ma(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let r=Ma(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new u0(s.value.snapshot))}),e.children.length&&this.forwardEvent(new l0(e.value.snapshot))}activateRoutes(e,t,i){let r=e.value,s=t?t.value:null;if(Kw(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Kw(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,i)}},ap=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Na=class{constructor(e,t){this.component=e,this.route=t}};function cH(n,e,t){let i=n._root,r=e?e._root:null;return Sc(i,r,t,[i.value])}function uH(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ua(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!RC(n)?n:e.get(n):i}function Sc(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=Ma(e);return n.children.forEach(o=>{dH(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Mc(a,t.getContext(o),r)),r}function dH(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=hH(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new ap(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Sc(n,e,a?a.children:null,i,r):Sc(n,e,t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Na(a.outlet.component,o))}else o&&Mc(e,a,r),r.canActivateChecks.push(new ap(i)),s.component?Sc(n,null,a?a.children:null,i,r):Sc(n,null,t,i,r);return r}function hH(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!eo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(n.url,e.url)||!Bi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!p0(n,e)||!Bi(n.queryParams,e.queryParams);case"paramsChange":default:return!p0(n,e)}}function Mc(n,e,t){let i=Ma(n),r=n.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Mc(o,e.children.getContext(s),t):Mc(o,null,t):Mc(o,e,t)}),r.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Na(e.outlet.component,r)):t.canDeactivateChecks.push(new Na(null,r)):t.canDeactivateChecks.push(new Na(null,r))}function Hc(n){return typeof n=="function"}function fH(n){return typeof n=="boolean"}function pH(n){return n&&Hc(n.canLoad)}function mH(n){return n&&Hc(n.canActivate)}function gH(n){return n&&Hc(n.canActivateChild)}function yH(n){return n&&Hc(n.canDeactivate)}function _H(n){return n&&Hc(n.canMatch)}function DM(n){return n instanceof Ki||n?.name==="EmptyError"}var Wf=Symbol("INITIAL_VALUE");function Va(){return Bn(n=>ul(n.map(e=>e.pipe(Qi(1),Pm(Wf)))).pipe(Ae(e=>{for(let t of e)if(t!==!0){if(t===Wf)return Wf;if(t===!1||vH(t))return t}return!0}),jn(e=>e!==Wf),Qi(1)))}function vH(n){return to(n)||n instanceof kc}function IH(n,e){return Ct(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?ue(me(k({},t),{guardsResult:!0})):wH(o,i,r,n).pipe(Ct(a=>a&&fH(a)?EH(i,s,n,e):ue(a)),Ae(a=>me(k({},t),{guardsResult:a})))})}function wH(n,e,t,i){return ut(n).pipe(Ct(r=>DH(r.component,r.route,t,e,i)),Ii(r=>r!==!0,!0))}function EH(n,e,t,i){return ut(e).pipe(fs(r=>Eo(CH(r.route.parent,i),bH(r.route,i),SH(n,r.path,t),TH(n,r.route,t))),Ii(r=>r!==!0,!0))}function bH(n,e){return n!==null&&e&&e(new c0(n)),ue(!0)}function CH(n,e){return n!==null&&e&&e(new a0(n)),ue(!0)}function TH(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return ue(!0);let r=i.map(s=>Zu(()=>{let o=Bc(e)??t,a=Ua(s,o),l=mH(a)?a.canActivate(e,n):Ai(o,()=>a(e,n));return Xr(l).pipe(Ii())}));return ue(r).pipe(Va())}function SH(n,e,t){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>uH(o)).filter(o=>o!==null).map(o=>Zu(()=>{let a=o.guards.map(l=>{let u=Bc(o.node)??t,d=Ua(l,u),p=gH(d)?d.canActivateChild(i,n):Ai(u,()=>d(i,n));return Xr(p).pipe(Ii())});return ue(a).pipe(Va())}));return ue(s).pipe(Va())}function DH(n,e,t,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ue(!0);let o=s.map(a=>{let l=Bc(e)??r,u=Ua(a,l),d=yH(u)?u.canDeactivate(n,e,t,i):Ai(l,()=>u(n,e,t,i));return Xr(d).pipe(Ii())});return ue(o).pipe(Va())}function AH(n,e,t,i){let r=e.canLoad;if(r===void 0||r.length===0)return ue(!0);let s=r.map(o=>{let a=Ua(o,n),l=pH(a)?a.canLoad(e,t):Ai(n,()=>a(e,t));return Xr(l)});return ue(s).pipe(Va(),AM(i))}function AM(n){return wm(Rt(e=>{if(typeof e!="boolean")throw op(n,e)}),Ae(e=>e===!0))}function xH(n,e,t,i){let r=e.canMatch;if(!r||r.length===0)return ue(!0);let s=r.map(o=>{let a=Ua(o,n),l=_H(a)?a.canMatch(e,t):Ai(n,()=>a(e,t));return Xr(l)});return ue(s).pipe(Va(),AM(i))}var Fc=class{constructor(e){this.segmentGroup=e||null}},Lc=class extends Error{constructor(e){super(),this.urlTree=e}};function xa(n){return Io(new Fc(n))}function MH(n){return Io(new j(4e3,!1))}function RH(n){return Io(TM(!1,kn.GuardRejected))}var y0=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return ue(i);if(r.numberOfChildren>1||!r.children[we])return MH(`${e.redirectTo}`);r=r.children[we]}}applyRedirectCommands(e,t,i,r,s){if(typeof t!="string"){let a=t,{queryParams:l,fragment:u,routeConfig:d,url:p,outlet:m,params:y,data:v,title:T}=r,S=Ai(s,()=>a({params:y,data:v,queryParams:l,fragment:u,routeConfig:d,url:p,outlet:m,title:T}));if(S instanceof mr)throw new Lc(S);t=S}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Lc(o);return o}applyRedirectCreateUrlTree(e,t,i,r){let s=this.createSegmentGroup(e,t.root,i,r);return new mr(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){let s=this.createSegments(e,t.segments,i,r),o={};return Object.entries(t.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new Ye(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){let r=i[t.path.substring(1)];if(!r)throw new j(4001,!1);return r}findOrReturn(e,t){let i=0;for(let r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}},_0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OH(n,e,t,i,r){let s=xM(n,e,t);return s.matched?(i=tH(e,i),xH(i,e,t,r).pipe(Ae(o=>o===!0?s:k({},_0)))):ue(s)}function xM(n,e,t){if(e.path==="**")return NH(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},_0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(e.matcher||x$)(t,n,e);if(!r)return k({},_0);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?k(k({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function NH(n){return{matched:!0,parameters:n.length>0?lM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function nM(n,e,t,i){return t.length>0&&FH(n,t,i)?{segmentGroup:new Ye(e,kH(i,new Ye(t,n.children))),slicedSegments:[]}:t.length===0&&LH(n,t,i)?{segmentGroup:new Ye(n.segments,PH(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Ye(n.segments,n.children),slicedSegments:t}}function PH(n,e,t,i){let r={};for(let s of t)if(up(n,e,s)&&!i[yi(s)]){let o=new Ye([],{});r[yi(s)]=o}return k(k({},i),r)}function kH(n,e){let t={};t[we]=e;for(let i of n)if(i.path===""&&yi(i)!==we){let r=new Ye([],{});t[yi(i)]=r}return t}function FH(n,e,t){return t.some(i=>up(n,e,i)&&yi(i)!==we)}function LH(n,e,t){return t.some(i=>up(n,e,i))}function up(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function VH(n,e,t){return e.length===0&&!n.children[t]}var v0=class{};function UH(n,e,t,i,r,s,o="emptyOnly"){return new I0(n,e,t,i,r,o,s).recognize()}var jH=31,I0=class{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new y0(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=nM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ae(({children:t,rootSnapshot:i})=>{let r=new Pn(i,t),s=new sp("",r),o=K$(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Oa([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),we,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,we,t).pipe(Ae(i=>({children:i,rootSnapshot:t})),Tr(i=>{if(i instanceof Lc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Fc?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,r,s){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,s):this.processSegment(e,t,i,i.segments,r,!0,s).pipe(Ae(o=>o instanceof Pn?[o]:[]))}processChildren(e,t,i,r){let s=[];for(let o of Object.keys(i.children))o==="primary"?s.unshift(o):s.push(o);return ut(s).pipe(fs(o=>{let a=i.children[o],l=nH(t,o);return this.processSegmentGroup(e,l,a,o,r)}),Nm((o,a)=>(o.push(...a),o)),Sr(null),Om(),Ct(o=>{if(o===null)return xa(i);let a=MM(o);return BH(a),ue(a)}))}processSegment(e,t,i,r,s,o,a){return ut(t).pipe(fs(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,i,r,s,o,a).pipe(Tr(u=>{if(u instanceof Fc)return ue(null);throw u}))),Ii(l=>!!l),Tr(l=>{if(DM(l))return VH(i,r,s)?ue(new v0):xa(i);throw l}))}processSegmentAgainstRoute(e,t,i,r,s,o,a,l){return yi(i)!==o&&(o===we||!up(r,s,i))?xa(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o,l):xa(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=xM(t,r,s);if(!l)return xa(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>jH&&(this.allowRedirects=!1));let y=new Oa(s,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,iM(r),yi(r),r.component??r._loadedComponent??null,r,rM(r)),v=rp(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(v.params),y.data=Object.freeze(v.data);let T=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(r,T).pipe(Ct(S=>this.processSegment(e,i,t,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,i,r,s,o){let a=OH(t,i,r,e,this.urlSerializer);return i.path==="**"&&(t.children={}),a.pipe(Bn(l=>l.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Bn(({routes:u})=>{let d=i._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=l,v=new Oa(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,iM(i),yi(i),i.component??i._loadedComponent??null,i,rM(i)),T=rp(v,o,this.paramsInheritanceStrategy);v.params=Object.freeze(T.params),v.data=Object.freeze(T.data);let{segmentGroup:S,slicedSegments:O}=nM(t,m,y,u);if(O.length===0&&S.hasChildren())return this.processChildren(d,u,S,v).pipe(Ae(q=>new Pn(v,q)));if(u.length===0&&O.length===0)return ue(new Pn(v,[]));let L=yi(i)===s;return this.processSegment(d,u,S,O,L?we:s,!0,v).pipe(Ae(q=>new Pn(v,q instanceof Pn?[q]:[])))}))):xa(t)))}getChildConfig(e,t,i){return t.children?ue({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ue({routes:t._loadedRoutes,injector:t._loadedInjector}):AH(e,t,i,this.urlSerializer).pipe(Ct(r=>r?this.configLoader.loadChildren(e,t).pipe(Rt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):RH(t))):ue({routes:[],injector:e})}};function BH(n){n.sort((e,t)=>e.value.outlet===we?-1:t.value.outlet===we?1:e.value.outlet.localeCompare(t.value.outlet))}function $H(n){let e=n.value.routeConfig;return e&&e.path===""}function MM(n){let e=[],t=new Set;for(let i of n){if(!$H(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):e.push(i)}for(let i of t){let r=MM(i.children);e.push(new Pn(i.value,r))}return e.filter(i=>!t.has(i))}function iM(n){return n.data||{}}function rM(n){return n.resolve||{}}function HH(n,e,t,i,r,s){return Ct(o=>UH(n,e,t,i,o.extractedUrl,r,s).pipe(Ae(({state:a,tree:l})=>me(k({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function zH(n,e){return Ct(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ue(t);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of RM(l))o.add(u);let a=0;return ut(o).pipe(fs(l=>s.has(l)?qH(l,i,n,e):(l.data=rp(l,l.parent,n).resolve,ue(void 0))),Rt(()=>a++),bo(1),Ct(l=>a===o.size?ue(t):bn))})}function RM(n){let e=n.children.map(t=>RM(t)).flat();return[n,...e]}function qH(n,e,t,i){let r=n.routeConfig,s=n._resolve;return r?.title!==void 0&&!bM(r)&&(s[Uc]=r.title),GH(s,n,e,i).pipe(Ae(o=>(n._resolvedData=o,n.data=rp(n,n.parent,t).resolve,null)))}function GH(n,e,t,i){let r=Zw(n);if(r.length===0)return ue({});let s={};return ut(r).pipe(Ct(o=>WH(n[o],e,t,i).pipe(Ii(),Rt(a=>{if(a instanceof kc)throw op(new ka,a);s[o]=a}))),bo(1),Rm(s),Tr(o=>DM(o)?bn:Io(o)))}function WH(n,e,t,i){let r=Bc(e)??i,s=Ua(n,r),o=s.resolve?s.resolve(e,t):Ai(r,()=>s(e,t));return Xr(o)}function Qw(n){return Bn(e=>{let t=n(e);return t?ut(t).pipe(Ae(()=>e)):ue(e)})}var OM=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===we);return r}getResolvedTitleForRoute(i){return i.data[Uc]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(KH),providedIn:"root"});let n=e;return n})(),KH=(()=>{let e=class e extends OM{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(ie(PD))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),zc=new te("",{providedIn:"root",factory:()=>({})}),QH=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=de({type:e,selectors:[["ng-component"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(r,s){r&1&&fe(0,"router-outlet")},dependencies:[b0],encapsulation:2});let n=e;return n})();function C0(n){let e=n.children&&n.children.map(C0),t=e?me(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==we&&(t.component=QH),t}var Vc=new te(""),T0=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=B(mh)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return ue(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=Xr(i.loadComponent()).pipe(Ae(NM),Rt(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),dl(()=>{this.componentLoaders.delete(i)})),s=new go(r,()=>new wt).pipe(mo());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ue({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=YH(r,this.compiler,i,this.onLoadEndListener).pipe(dl(()=>{this.childrenLoaders.delete(r)})),a=new go(o,()=>new wt).pipe(mo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function YH(n,e,t,i){return Xr(n.loadChildren()).pipe(Ae(NM),Ct(r=>r instanceof vl||Array.isArray(r)?ue(r):ut(e.compileModuleAsync(r))),Ae(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(t).injector,o=s.get(Vc,[],{optional:!0,self:!0}).flat()),{routes:o.map(C0),injector:s}}))}function ZH(n){return n&&typeof n=="object"&&"default"in n}function NM(n){return ZH(n)?n.default:n}var S0=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(JH),providedIn:"root"});let n=e;return n})(),JH=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),PM=new te(""),kM=new te("");function XH(n,e,t){let i=n.get(kM),r=n.get(rt);return n.get(Ee).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),ez(n))),{onViewTransitionCreated:l}=i;return l&&Ai(n,()=>l({transition:a,from:e,to:t})),o})}function ez(n){return new Promise(e=>{By({read:()=>setTimeout(e)},{injector:n})})}var tz=new te(""),D0=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=B(T0),this.environmentInjector=B(Cn),this.urlSerializer=B(jc),this.rootContexts=B($c),this.location=B(Qo),this.inputBindingEnabled=B(cp,{optional:!0})!==null,this.titleStrategy=B(OM),this.options=B(zc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=B(S0),this.createViewTransition=B(PM,{optional:!0}),this.navigationErrorHandler=B(tz,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ue(void 0),this.rootComponentType=null;let i=s=>this.events.next(new s0(s)),r=s=>this.events.next(new o0(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(me(k(k({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new Ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(jn(o=>o.id!==0),Ae(o=>me(k({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Bn(o=>{let a=!1,l=!1;return ue(o).pipe(Bn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",kn.SupersededByNewNavigation),bn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?me(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!d&&p!=="reload"){let m="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.rawUrl),m,Xf.IgnoredSameUrlNavigation)),u.resolve(!1),bn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ue(u).pipe(Bn(m=>{let y=this.transitions?.getValue();return this.events.next(new Fa(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),y!==this.transitions?.getValue()?bn:Promise.resolve(m)}),HH(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(m=>{o.targetSnapshot=m.targetSnapshot,o.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=me(k({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let y=new ep(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(y)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:m,extractedUrl:y,source:v,restoredState:T,extras:S}=u,O=new Fa(m,this.urlSerializer.serialize(y),v,T);this.events.next(O);let L=wM(this.rootComponentType).snapshot;return this.currentTransition=o=me(k({},u),{targetSnapshot:L,urlAfterRedirects:y,extras:me(k({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,ue(o)}else{let m="";return this.events.next(new Zr(u.id,this.urlSerializer.serialize(u.extractedUrl),m,Xf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),bn}}),Rt(u=>{let d=new t0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ae(u=>(this.currentTransition=o=me(k({},u),{guards:cH(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),IH(this.environmentInjector,u=>this.events.next(u)),Rt(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw op(this.urlSerializer,u.guardsResult);let d=new n0(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),jn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",kn.GuardRejected),!1)),Qw(u=>{if(u.guards.canActivateChecks.length)return ue(u).pipe(Rt(d=>{let p=new i0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),Bn(d=>{let p=!1;return ue(d).pipe(zH(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",kn.NoDataFromResolver)}}))}),Rt(d=>{let p=new r0(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Qw(u=>{let d=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Rt(y=>{p.component=y}),Ae(()=>{})));for(let y of p.children)m.push(...d(y));return m};return ul(d(u.targetSnapshot.root)).pipe(Sr(null),Qi(1))}),Qw(()=>this.afterPreactivation()),Bn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?ut(p).pipe(Ae(()=>o)):ue(o)}),Ae(u=>{let d=rH(i.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=me(k({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),Rt(()=>{this.events.next(new Nc)}),lH(this.rootContexts,i.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qi(1),Rt({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $i(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),km(this.transitionAbortSubject.pipe(Rt(u=>{throw u}))),dl(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",kn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tr(u=>{if(l=!0,SM(u))this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),aH(u)?this.events.next(new La(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Oc(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Ai(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof kc){let{message:m,cancellationCode:y}=op(this.urlSerializer,p);this.events.next(new pr(o.id,this.urlSerializer.serialize(o.extractedUrl),m,y)),this.events.next(new La(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let m=i.errorHandler(u);o.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return bn}))}))}cancelNavigationTransition(i,r,s){let o=new pr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function nz(n){return n!==xc}var iz=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(rz),providedIn:"root"});let n=e;return n})(),w0=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},rz=(()=>{let e=class e extends w0{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=yt(e)))(s||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),FM=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:()=>B(sz),providedIn:"root"});let n=e;return n})(),sz=(()=>{let e=class e extends FM{constructor(){super(...arguments),this.location=B(Qo),this.urlSerializer=B(jc),this.options=B(zc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=B(S0),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=wM(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Fa)this.stateMemento=this.createStateMemento();else if(i instanceof Zr)this.rawUrlTree=r.initialUrl;else if(i instanceof ep){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??s,r)}}else i instanceof Nc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):i instanceof pr&&(i.code===kn.GuardRejected||i.code===kn.NoDataFromResolver)?this.restoreHistory(r):i instanceof Oc?this.restoreHistory(r,!0):i instanceof $i&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=i instanceof mr?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=k(k({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=yt(e)))(s||e)}})(),e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),Dc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Dc||{});function LM(n,e){n.events.pipe(jn(t=>t instanceof $i||t instanceof pr||t instanceof Oc||t instanceof Zr),Ae(t=>t instanceof $i||t instanceof Zr?Dc.COMPLETE:(t instanceof pr?t.code===kn.Redirect||t.code===kn.SupersededByNewNavigation:!1)?Dc.REDIRECTING:Dc.FAILED),jn(t=>t!==Dc.REDIRECTING),Qi(1)).subscribe(()=>{e()})}function oz(n){throw n}var az={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lz={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_i=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=B(hh),this.stateManager=B(FM),this.options=B(zc,{optional:!0})||{},this.pendingTasks=B(Ss),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=B(D0),this.urlSerializer=B(jc),this.location=B(Qo),this.urlHandlingStrategy=B(S0),this._events=new wt,this.errorHandler=this.options.errorHandler||oz,this.navigated=!1,this.routeReuseStrategy=B(iz),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=B(Vc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!B(cp,{optional:!0}),this.eventsSubscription=new mt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof pr&&r.code!==kn.Redirect&&r.code!==kn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof $i)this.navigated=!0;else if(r instanceof La){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),u=k({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nz(s.source)},a);this.scheduleNavigation(l,xc,null,u,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}uz(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=k({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(C0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:a,p=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":p=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let y=s?s.snapshot:this.routerState.snapshot.root;m=yM(y)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),m=this.currentUrlTree.root}return _M(m,i,p,d??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=to(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,xc,null,r)}navigate(i,r={skipLocationChange:!1}){return cz(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=k({},az):r===!1?s=k({},lz):s=r,to(i))return Zx(this.currentUrlTree,i,s);let o=this.parseUrl(i);return Zx(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,u,d;a?(l=a.resolve,u=a.reject,d=a.promise):d=new Promise((m,y)=>{l=m,u=y});let p=this.pendingTasks.add();return LM(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(m=>Promise.reject(m))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})();function cz(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}function uz(n){return!(n instanceof Nc)&&!(n instanceof La)}var VM=(()=>{let e=class e{constructor(i,r,s,o,a,l){this.router=i,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.onChanges=new wt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=i.events.subscribe(d=>{d instanceof $i&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(to(i)?this.routerLinkInput=i:this.routerLinkInput=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0"))}onClick(i,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:YT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,i,r):s.removeAttribute(o,i)}get urlTree(){return this.routerLinkInput===null?null:to(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(V(_i),V(Jr),_y("tabindex"),V(St),V(We),V(sr))},e.\u0275dir=Ue({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&Re("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&oe("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ae],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ae],replaceUrl:[2,"replaceUrl","replaceUrl",ae],routerLink:"routerLink"},standalone:!0,features:[un,yn]});let n=e;return n})();var lp=class{};var dz=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(jn(i=>i instanceof $i),fs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=sh(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ut(s).pipe(wo())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=ue(null);let o=s.pipe(Ct(a=>a===null?ue(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ut([o,a]).pipe(wo())}else return o})}};e.\u0275fac=function(r){return new(r||e)(ie(_i),ie(mh),ie(Cn),ie(lp),ie(T0))},e.\u0275prov=Q({token:e,factory:e.\u0275fac,providedIn:"root"});let n=e;return n})(),UM=new te(""),hz=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Fa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof $i?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof Zr&&i.code===Xf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof tp&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tp(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){hS()},e.\u0275prov=Q({token:e,factory:e.\u0275fac});let n=e;return n})();function jM(n,...e){return Lr([{provide:Vc,multi:!0,useValue:n},[],{provide:Jr,useFactory:BM,deps:[_i]},{provide:ph,multi:!0,useFactory:$M},e.map(t=>t.\u0275providers)])}function BM(n){return n.routerState.root}function qc(n,e){return{\u0275kind:n,\u0275providers:e}}function $M(){let n=B(Yt);return e=>{let t=n.get(Ms);if(e!==t.components[0])return;let i=n.get(_i),r=n.get(HM);n.get(A0)===1&&i.initialNavigation(),n.get(zM,null,Ce.Optional)?.setUpPreloading(),n.get(UM,null,Ce.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var HM=new te("",{factory:()=>new wt}),A0=new te("",{providedIn:"root",factory:()=>1});function fz(){return qc(2,[{provide:A0,useValue:0},{provide:fh,multi:!0,deps:[Yt],useFactory:e=>{let t=e.get(ED,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let r=e.get(_i),s=e.get(HM);LM(r,()=>{i(!0)}),e.get(D0).afterPreactivation=()=>(i(!0),s.closed?ue(void 0):s),r.initialNavigation()}))}}])}function pz(){return qc(3,[{provide:fh,multi:!0,useFactory:()=>{let e=B(_i);return()=>{e.setUpLocationChangeListener()}}},{provide:A0,useValue:2}])}var zM=new te("");function mz(n){return qc(0,[{provide:zM,useExisting:dz},{provide:lp,useExisting:n}])}function gz(){return qc(8,[tM,{provide:cp,useExisting:tM}])}function yz(n){let e=[{provide:PM,useValue:XH},{provide:kM,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return qc(9,e)}var sM=new te("ROUTER_FORROOT_GUARD"),_z=[Qo,{provide:jc,useClass:ka},_i,$c,{provide:Jr,useFactory:BM,deps:[_i]},T0,[]],x0=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[_z,[],{provide:Vc,multi:!0,useValue:i},{provide:sM,useFactory:Ez,deps:[[_i,new An,new jd]]},{provide:zc,useValue:r||{}},r?.useHash?Iz():wz(),vz(),r?.preloadingStrategy?mz(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?bz(r):[],r?.bindToComponentInputs?gz().\u0275providers:[],r?.enableViewTransitions?yz().\u0275providers:[],Cz()]}}static forChild(i){return{ngModule:e,providers:[{provide:Vc,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(ie(sM,8))},e.\u0275mod=ze({type:e}),e.\u0275inj=He({});let n=e;return n})();function vz(){return{provide:UM,useFactory:()=>{let n=B(SD),e=B(Ee),t=B(zc),i=B(D0),r=B(jc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new hz(r,i,n,e,t)}}}function Iz(){return{provide:sr,useClass:CD}}function wz(){return{provide:sr,useClass:e_}}function Ez(n){return"guarded"}function bz(n){return[n.initialNavigation==="disabled"?pz().\u0275providers:[],n.initialNavigation==="enabledBlocking"?fz().\u0275providers:[]]}var oM=new te("");function Cz(){return[{provide:oM,useFactory:$M},{provide:ph,multi:!0,useExisting:oM}]}var GM={production:!0,firebaseConfig:{apiKey:"AIzaSyCq3PCBUEV0sePS5HVqRVTo1eGOtMNwpUY",authDomain:"scores-89dec.firebaseapp.com",projectId:"scores-89dec",storageBucket:"scores-89dec.appspot.com",messagingSenderId:"423002408780",appId:"1:423002408780:web:5ede703d4b74eb543c31e9"}};var eR=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(V(St),V(We))},e.\u0275dir=Ue({type:e});let n=e;return n})(),Tz=(()=>{let e=class e extends eR{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=yt(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,features:[Ze]});let n=e;return n})(),io=new te("");var Sz={provide:io,useExisting:Dn(()=>vp),multi:!0};function Dz(){let n=rr()?rr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Az=new te(""),vp=(()=>{let e=class e extends eR{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Dz())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(V(St),V(We),V(Az,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&Re("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[ai([Sz]),Ze]});let n=e;return n})();function es(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function tR(n){return n!=null&&typeof n.length=="number"}var Jc=new te(""),Xc=new te(""),xz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,$a=class{static min(e){return Mz(e)}static max(e){return Rz(e)}static required(e){return Oz(e)}static requiredTrue(e){return Nz(e)}static email(e){return Pz(e)}static minLength(e){return kz(e)}static maxLength(e){return Fz(e)}static pattern(e){return Lz(e)}static nullValidator(e){return nR(e)}static compose(e){return lR(e)}static composeAsync(e){return uR(e)}};function Mz(n){return e=>{if(es(e.value)||es(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function Rz(n){return e=>{if(es(e.value)||es(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function Oz(n){return es(n.value)?{required:!0}:null}function Nz(n){return n.value===!0?null:{required:!0}}function Pz(n){return es(n.value)||xz.test(n.value)?null:{email:!0}}function kz(n){return e=>es(e.value)||!tR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function Fz(n){return e=>tR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function Lz(n){if(!n)return nR;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(es(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function nR(n){return null}function iR(n){return n!=null}function rR(n){return xs(n)?ut(n):n}function sR(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function oR(n,e){return e.map(t=>t(n))}function Vz(n){return!n.validate}function aR(n){return n.map(e=>Vz(e)?e:t=>e.validate(t))}function lR(n){if(!n)return null;let e=n.filter(iR);return e.length==0?null:function(t){return sR(oR(t,e))}}function cR(n){return n!=null?lR(aR(n)):null}function uR(n){if(!n)return null;let e=n.filter(iR);return e.length==0?null:function(t){let i=oR(t,e).map(rR);return Mm(i).pipe(Ae(sR))}}function dR(n){return n!=null?uR(aR(n)):null}function WM(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function hR(n){return n._rawValidators}function fR(n){return n._rawAsyncValidators}function M0(n){return n?Array.isArray(n)?n:[n]:[]}function hp(n,e){return Array.isArray(n)?n.includes(e):n===e}function KM(n,e){let t=M0(e);return M0(n).forEach(r=>{hp(t,r)||t.push(r)}),t}function QM(n,e){return M0(e).filter(t=>!hp(n,t))}var fp=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cR(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Fn=class extends fp{get formDirective(){return null}get path(){return null}},no=class extends fp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},pp=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Uz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uee=me(k({},Uz),{"[class.ng-submitted]":"isSubmitted"}),Ip=(()=>{let e=class e extends pp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(no,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&xi("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ze]});let n=e;return n})(),pR=(()=>{let e=class e extends pp{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(V(Fn,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&xi("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ze]});let n=e;return n})();var Gc="VALID",dp="INVALID",ja="PENDING",Wc="DISABLED",ts=class{},mp=class extends ts{constructor(e,t){super(),this.value=e,this.source=t}},Kc=class extends ts{constructor(e,t){super(),this.pristine=e,this.source=t}},Qc=class extends ts{constructor(e,t){super(),this.touched=e,this.source=t}},Ba=class extends ts{constructor(e,t){super(),this.status=e,this.source=t}},R0=class extends ts{constructor(e){super(),this.source=e}},O0=class extends ts{constructor(e){super(),this.source=e}};function P0(n){return(wp(n)?n.validators:n)||null}function jz(n){return Array.isArray(n)?cR(n):n||null}function k0(n,e){return(wp(e)?e.asyncValidators:n)||null}function Bz(n){return Array.isArray(n)?dR(n):n||null}function wp(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function mR(n,e,t){let i=n.controls;if(!(e?Object.keys(i):i).length)throw new j(1e3,"");if(!i[t])throw new j(1001,"")}function gR(n,e,t){n._forEachChild((i,r)=>{if(t[r]===void 0)throw new j(1002,"")})}var Yc=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Mi(()=>this.statusReactive()),this.statusReactive=Bt(void 0),this._pristine=Mi(()=>this.pristineReactive()),this.pristineReactive=Bt(!0),this._touched=Mi(()=>this.touchedReactive()),this.touchedReactive=Bt(!1),this._events=new wt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return nr(this.statusReactive)}set status(e){nr(()=>this.statusReactive.set(e))}get valid(){return this.status===Gc}get invalid(){return this.status===dp}get pending(){return this.status==ja}get disabled(){return this.status===Wc}get enabled(){return this.status!==Wc}get pristine(){return nr(this.pristineReactive)}set pristine(e){nr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return nr(this.touchedReactive)}set touched(e){nr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QM(e,this._rawAsyncValidators))}hasValidator(e){return hp(this._rawValidators,e)}hasAsyncValidator(e){return hp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(me(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Qc(!0,i))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:i})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,i),t&&e.emitEvent!==!1&&this._events.next(new Qc(!1,i))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let i=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(me(k({},e),{sourceControl:i})),t&&e.emitEvent!==!1&&this._events.next(new Kc(!1,i))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=e.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,i),t&&e.emitEvent!==!1&&this._events.next(new Kc(!0,i))}markAsPending(e={}){this.status=ja;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ba(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(me(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Wc,this.errors=null,this._forEachChild(r=>{r.disable(me(k({},e),{onlySelf:!0}))}),this._updateValue();let i=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mp(this.value,i)),this._events.next(new Ba(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(me(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Gc,this._forEachChild(i=>{i.enable(me(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(me(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gc||this.status===ja)&&this._runAsyncValidator(i,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new mp(this.value,t)),this._events.next(new Ba(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(me(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wc:Gc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ja,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let i=rR(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,i){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||i)&&this._events.next(new Ba(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,i)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?Wc:this.errors?dp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ja)?ja:this._anyControlsHaveStatus(dp)?dp:Gc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),r&&this._events.next(new Kc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Qc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wp(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=jz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Bz(this._rawAsyncValidators)}},Zc=class extends Yc{constructor(e,t,i){super(P0(t),k0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gR(this,!0,e),Object.keys(e).forEach(i=>{mR(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ep=new te("CallSetDisabledState",{providedIn:"root",factory:()=>bp}),bp="always";function Cp(n,e){return[...e.path,n]}function N0(n,e,t=bp){F0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),Hz(n,e),qz(n,e),zz(n,e),$z(n,e)}function YM(n,e,t=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),yp(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function gp(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function $z(n,e){if(e.valueAccessor.setDisabledState){let t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function F0(n,e){let t=hR(n);e.validator!==null?n.setValidators(WM(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let i=fR(n);e.asyncValidator!==null?n.setAsyncValidators(WM(i,e.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();gp(e._rawValidators,r),gp(e._rawAsyncValidators,r)}function yp(n,e){let t=!1;if(n!==null){if(e.validator!==null){let r=hR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let r=fR(n);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}let i=()=>{};return gp(e._rawValidators,i),gp(e._rawAsyncValidators,i),t}function Hz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&yR(n,e)})}function zz(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&yR(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function yR(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function qz(n,e){let t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function Gz(n,e){n==null,F0(n,e)}function Wz(n,e){return yp(n,e)}function _R(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function Kz(n){return Object.getPrototypeOf(n.constructor)===Tz}function Qz(n,e){n._syncPendingControls(),e.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function vR(n,e){if(!e)return null;Array.isArray(e);let t,i,r;return e.forEach(s=>{s.constructor===vp?t=s:Kz(s)?i=s:r=s}),r||i||t||null}function Yz(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function ZM(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function JM(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var eu=class extends Yc{constructor(e=null,t,i){super(P0(t),k0(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wp(t)&&(t.nonNullable||t.initialValueIsDefault)&&(JM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ZM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ZM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){JM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Zz=n=>n instanceof eu,Jz=(()=>{let e=class e extends Fn{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Cp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=yt(e)))(s||e)}})(),e.\u0275dir=Ue({type:e,features:[Ze]});let n=e;return n})();var Xz={provide:no,useExisting:Dn(()=>tu)},XM=Promise.resolve(),tu=(()=>{let e=class e extends no{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new eu,this._registered=!1,this.name="",this.update=new se,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=vR(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),_R(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){N0(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){XM.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&ae(r);XM.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Cp(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(V(Fn,9),V(Jc,10),V(Xc,10),V(io,10),V(Ht,8),V(Ep,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ai([Xz]),Ze,yn]});let n=e;return n})(),IR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let n=e;return n})();var wR=new te("");var e6={provide:Fn,useExisting:Dn(()=>Tp)},Tp=(()=>{let e=class e extends Fn{get submitted(){return nr(this._submittedReactive)}set submitted(i){this._submittedReactive.set(i)}constructor(i,r,s){super(),this.callSetDisabledState=s,this._submitted=Mi(()=>this._submittedReactive()),this._submittedReactive=Bt(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new se,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return N0(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){YM(i.control||null,i,!1),Yz(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this._submittedReactive.set(!0),Qz(this.form,this.directives),this.ngSubmit.emit(i),this.form._events.next(new R0(this.control)),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this._submittedReactive.set(!1),this.form._events.next(new O0(this.form))}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(YM(r||null,i),Zz(s)&&(N0(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Gz(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Wz(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){F0(this.form,this),this._oldForm&&yp(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(V(Jc,10),V(Xc,10),V(Ep,8))},e.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&Re("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ai([e6]),Ze,yn]});let n=e;return n})(),t6={provide:Fn,useExisting:Dn(()=>Sp)},Sp=(()=>{let e=class e extends Jz{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}_checkParentType(){ER(this._parent)}};e.\u0275fac=function(r){return new(r||e)(V(Fn,13),V(Jc,10),V(Xc,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[ai([t6]),Ze]});let n=e;return n})(),n6={provide:Fn,useExisting:Dn(()=>Dp)},Dp=(()=>{let e=class e extends Fn{constructor(i,r,s){super(),this.name=null,this._parent=i,this._setValidators(r),this._setAsyncValidators(s)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Cp(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){ER(this._parent)}};e.\u0275fac=function(r){return new(r||e)(V(Fn,13),V(Jc,10),V(Xc,10))},e.\u0275dir=Ue({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[ai([n6]),Ze]});let n=e;return n})();function ER(n){return!(n instanceof Sp)&&!(n instanceof Tp)&&!(n instanceof Dp)}var i6={provide:no,useExisting:Dn(()=>L0)},L0=(()=>{let e=class e extends no{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new se,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=vR(this,o)}ngOnChanges(i){this._added||this._setUpControl(),_R(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Cp(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(V(Fn,13),V(Jc,10),V(Xc,10),V(io,10),V(wR,8))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ai([i6]),Ze,yn]});let n=e;return n})();var bR=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=He({});let n=e;return n})(),_p=class extends Yc{constructor(e,t,i){super(P0(t),k0(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){gR(this,!1,e),e.forEach((i,r)=>{mR(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var ns=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ep,useValue:i.callSetDisabledState??bp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=He({imports:[bR]});let n=e;return n})(),CR=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:wR,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ep,useValue:i.callSetDisabledState??bp}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ze({type:e}),e.\u0275inj=He({imports:[bR]});let n=e;return n})();var Ie=class n{static isArray(e,t=!0){return Array.isArray(e)&&(t||e.length!==0)}static isObject(e,t=!0){return typeof e=="object"&&!Array.isArray(e)&&e!=null&&(t||Object.keys(e).length!==0)}static equals(e,t,i){return i?this.resolveFieldData(e,i)===this.resolveFieldData(t,i):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=this.isDate(e),u=this.isDate(t);if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var d=e instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.equalsByValue(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(t.indexOf(".")==-1)return e[t];{let i=t.split("."),r=e;for(let s=0,o=i.length;s<o;++s){if(r==null)return null;r=r[i[s]]}return r}}else return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,i){let r;e&&t!==i&&(i>=e.length&&(i%=e.length,t%=e.length),e.splice(i,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,i,r){if(i.length>0){let s=!1;for(let o=0;o<i.length;o++)if(this.findIndexInList(i[o],r)>t){i.splice(o,0,e),s=!0;break}s||i.push(e)}else i.push(e)}static findIndexInList(e,t){let i=-1;if(t){for(let r=0;r<t.length;r++)if(t[r]==e){i=r;break}}return i}static contains(e,t){if(e!=null&&t&&t.length){for(let i of t)if(this.equals(e,i))return!0}return!1}static removeAccents(e){return e&&(e=e.normalize("NFKD").replace(new RegExp("\\p{Diacritic}","gu"),"")),e}static isDate(e){return Object.prototype.toString.call(e)==="[object Date]"}static isEmpty(e){return e==null||e===""||Array.isArray(e)&&e.length===0||!this.isDate(e)&&typeof e=="object"&&Object.keys(e).length===0}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,i,r=1){let s=-1,o=this.isEmpty(e),a=this.isEmpty(t);return o&&a?s=0:o?s=r:a?s=-r:typeof e=="string"&&typeof t=="string"?s=e.localeCompare(t,i,{numeric:!0}):s=e<t?-1:e>t?1:0,s}static sort(e,t,i=1,r,s=1){let o=n.compare(e,t,r,i),a=i;return(n.isEmpty(e)||n.isEmpty(t))&&(a=s===1?i:s),a*o}static merge(e,t){if(!(e==null&&t==null)){{if((e==null||typeof e=="object")&&(t==null||typeof t=="object"))return k(k({},e||{}),t||{});if((e==null||typeof e=="string")&&(t==null||typeof t=="string"))return[e||"",t||""].join(" ")}return t||e}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&e.length===1&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let i=-1;if(this.isNotEmpty(e))try{i=e.findLastIndex(t)}catch{i=e.lastIndexOf([...e].reverse().find(t))}return i}static findLast(e,t){let i;if(this.isNotEmpty(e))try{i=e.findLast(t)}catch{i=[...e].reverse().find(t)}return i}static deepEquals(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var i=Array.isArray(e),r=Array.isArray(t),s,o,a;if(i&&r){if(o=e.length,o!=t.length)return!1;for(s=o;s--!==0;)if(!this.deepEquals(e[s],t[s]))return!1;return!0}if(i!=r)return!1;var l=e instanceof Date,u=t instanceof Date;if(l!=u)return!1;if(l&&u)return e.getTime()==t.getTime();var d=e instanceof RegExp,p=t instanceof RegExp;if(d!=p)return!1;if(d&&p)return e.toString()==t.toString();var m=Object.keys(e);if(o=m.length,o!==Object.keys(t).length)return!1;for(s=o;s--!==0;)if(!Object.prototype.hasOwnProperty.call(t,m[s]))return!1;for(s=o;s--!==0;)if(a=m[s],!this.deepEquals(e[a],t[a]))return!1;return!0}return e!==e&&t!==t}},TR=0;function is(n="pn_id_"){return TR++,`${n}${TR}`}function r6(){let n=[],e=(s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},l=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:l}),l},t=s=>{n=n.filter(o=>o.value!==s)},i=()=>n.length>0?n[n.length-1].value:0,r=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:r,set:(s,o,a)=>{o&&(o.style.zIndex=String(e(s,a)))},clear:s=>{s&&(t(r(s)),s.style.zIndex="")},getCurrent:()=>i()}}var rs=r6();var SR=["*"];var nn=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"}return n})();var DR=(()=>{class n{filter(t,i,r,s,o){let a=[];if(t)for(let l of t)for(let u of i){let d=Ie.resolveFieldData(l,u);if(this.filters[s](d,r,o)){a.push(l);break}}return a}filters={startsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=Ie.removeAccents(i.toString()).toLocaleLowerCase(r);return Ie.removeAccents(t.toString()).toLocaleLowerCase(r).slice(0,s.length)===s},contains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=Ie.removeAccents(i.toString()).toLocaleLowerCase(r);return Ie.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)!==-1},notContains:(t,i,r)=>{if(i==null||typeof i=="string"&&i.trim()==="")return!0;if(t==null)return!1;let s=Ie.removeAccents(i.toString()).toLocaleLowerCase(r);return Ie.removeAccents(t.toString()).toLocaleLowerCase(r).indexOf(s)===-1},endsWith:(t,i,r)=>{if(i==null||i.trim()==="")return!0;if(t==null)return!1;let s=Ie.removeAccents(i.toString()).toLocaleLowerCase(r),o=Ie.removeAccents(t.toString()).toLocaleLowerCase(r);return o.indexOf(s,o.length-s.length)!==-1},equals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()===i.getTime():t==i?!0:Ie.removeAccents(t.toString()).toLocaleLowerCase(r)==Ie.removeAccents(i.toString()).toLocaleLowerCase(r),notEquals:(t,i,r)=>i==null||typeof i=="string"&&i.trim()===""?!1:t==null?!0:t.getTime&&i.getTime?t.getTime()!==i.getTime():t==i?!1:Ie.removeAccents(t.toString()).toLocaleLowerCase(r)!=Ie.removeAccents(i.toString()).toLocaleLowerCase(r),in:(t,i)=>{if(i==null||i.length===0)return!0;for(let r=0;r<i.length;r++)if(Ie.equals(t,i[r]))return!0;return!1},between:(t,i)=>i==null||i[0]==null||i[1]==null?!0:t==null?!1:t.getTime?i[0].getTime()<=t.getTime()&&t.getTime()<=i[1].getTime():i[0]<=t&&t<=i[1],lt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<i.getTime():t<i,lte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()<=i.getTime():t<=i,gt:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>i.getTime():t>i,gte:(t,i,r)=>i==null?!0:t==null?!1:t.getTime&&i.getTime?t.getTime()>=i.getTime():t>=i,is:(t,i,r)=>this.filters.equals(t,i,r),isNot:(t,i,r)=>this.filters.notEquals(t,i,r),before:(t,i,r)=>this.filters.lt(t,i,r),after:(t,i,r)=>this.filters.gt(t,i,r),dateIs:(t,i)=>i==null?!0:t==null?!1:t.toDateString()===i.toDateString(),dateIsNot:(t,i)=>i==null?!0:t==null?!1:t.toDateString()!==i.toDateString(),dateBefore:(t,i)=>i==null?!0:t==null?!1:t.getTime()<i.getTime(),dateAfter:(t,i)=>{if(i==null)return!0;if(t==null)return!1;let r=new Date(t);return r.setHours(0,0,0,0),r.getTime()>i.getTime()}};register(t,i){this.filters[t]=i}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var AR=(()=>{class n{clickSource=new wt;clickObservable=this.clickSource.asObservable();add(t){t&&this.clickSource.next(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Hi=(()=>{class n{ripple=!1;inputStyle=Bt("outlined");overlayOptions={};csp=Bt({nonce:void 0});filterMatchModeOptions={text:[nn.STARTS_WITH,nn.CONTAINS,nn.NOT_CONTAINS,nn.ENDS_WITH,nn.EQUALS,nn.NOT_EQUALS],numeric:[nn.EQUALS,nn.NOT_EQUALS,nn.LESS_THAN,nn.LESS_THAN_OR_EQUAL_TO,nn.GREATER_THAN,nn.GREATER_THAN_OR_EQUAL_TO],date:[nn.DATE_IS,nn.DATE_IS_NOT,nn.DATE_BEFORE,nn.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left",listLabel:"Option List",selectColor:"Select a color",removeLabel:"Remove",browseFiles:"Browse Files",maximizeLabel:"Maximize"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new wt;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation=k(k({},this.translation),t),this.translationSource.next(this.translation)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["p-header"]],standalone:!0,features:[ke],ngContentSelectors:SR,decls:1,vars:0,template:function(i,r){i&1&&(_n(),Jt(0))},encapsulation:2})}return n})(),MR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["p-footer"]],standalone:!0,features:[ke],ngContentSelectors:SR,decls:1,vars:0,template:function(i,r){i&1&&(_n(),Jt(0))},encapsulation:2})}return n})(),Ln=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(i){return new(i||n)(V(ii))};static \u0275dir=Ue({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:[0,"pTemplate","name"]},standalone:!0})}return n})(),hn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({})}return n})(),Ap=(()=>{class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static NO_FILTER="noFilter";static LT="lt";static LTE="lte";static GT="gt";static GTE="gte";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static CLEAR="clear";static APPLY="apply";static MATCH_ALL="matchAll";static MATCH_ANY="matchAny";static ADD_RULE="addRule";static REMOVE_RULE="removeRule";static ACCEPT="accept";static REJECT="reject";static CHOOSE="choose";static UPLOAD="upload";static CANCEL="cancel";static PENDING="pending";static FILE_SIZE_TYPES="fileSizeTypes";static DAY_NAMES="dayNames";static DAY_NAMES_SHORT="dayNamesShort";static DAY_NAMES_MIN="dayNamesMin";static MONTH_NAMES="monthNames";static MONTH_NAMES_SHORT="monthNamesShort";static FIRST_DAY_OF_WEEK="firstDayOfWeek";static TODAY="today";static WEEK_HEADER="weekHeader";static WEAK="weak";static MEDIUM="medium";static STRONG="strong";static PASSWORD_PROMPT="passwordPrompt";static EMPTY_MESSAGE="emptyMessage";static EMPTY_FILTER_MESSAGE="emptyFilterMessage";static SHOW_FILTER_MENU="showFilterMenu";static HIDE_FILTER_MENU="hideFilterMenu";static SELECTION_MESSAGE="selectionMessage";static ARIA="aria";static SELECT_COLOR="selectColor";static BROWSE_FILES="browseFiles"}return n})();var s6=["*",[["p-header"]],[["p-footer"]]],o6=["*","p-header","p-footer"];function a6(n,e){n&1&&qe(0)}function l6(n,e){if(n&1&&(z(0,"div",8),Jt(1,1),W(2,a6,1,0,"ng-container",6),G()),n&2){let t=P();N(2),x("ngTemplateOutlet",t.headerTemplate)}}function c6(n,e){n&1&&qe(0)}function u6(n,e){if(n&1&&(z(0,"div",9),Nt(1),W(2,c6,1,0,"ng-container",6),G()),n&2){let t=P();N(),er(" ",t.header," "),N(),x("ngTemplateOutlet",t.titleTemplate)}}function d6(n,e){n&1&&qe(0)}function h6(n,e){if(n&1&&(z(0,"div",10),Nt(1),W(2,d6,1,0,"ng-container",6),G()),n&2){let t=P();N(),er(" ",t.subheader," "),N(),x("ngTemplateOutlet",t.subtitleTemplate)}}function f6(n,e){n&1&&qe(0)}function p6(n,e){n&1&&qe(0)}function m6(n,e){if(n&1&&(z(0,"div",11),Jt(1,2),W(2,p6,1,0,"ng-container",6),G()),n&2){let t=P();N(2),x("ngTemplateOutlet",t.footerTemplate)}}var RR=(()=>{class n{el;header;subheader;set style(t){Ie.equals(this._style(),t)||this._style.set(t)}styleClass;headerFacet;footerFacet;templates;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_style=Bt(null);constructor(t){this.el=t}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"header":this.headerTemplate=t.template;break;case"title":this.titleTemplate=t.template;break;case"subtitle":this.subtitleTemplate=t.template;break;case"content":this.contentTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}getBlockableElement(){return this.el.nativeElement.children[0]}static \u0275fac=function(i){return new(i||n)(V(We))};static \u0275cmp=de({type:n,selectors:[["p-card"]],contentQueries:function(i,r,s){if(i&1&&(vn(s,xR,5),vn(s,MR,5),vn(s,Ln,4)),i&2){let o;tt(o=nt())&&(r.headerFacet=o.first),tt(o=nt())&&(r.footerFacet=o.first),tt(o=nt())&&(r.templates=o)}},hostAttrs:[1,"p-element"],inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},ngContentSelectors:o6,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,r){i&1&&(_n(s6),z(0,"div",0),W(1,l6,3,1,"div",1),z(2,"div",2),W(3,u6,3,2,"div",3)(4,h6,3,2,"div",4),z(5,"div",5),Jt(6),W(7,f6,1,0,"ng-container",6),G(),W(8,m6,3,1,"div",7),G()()),i&2&&(Je(r.styleClass),x("ngClass","p-card p-component")("ngStyle",r._style()),oe("data-pc-name","card"),N(),x("ngIf",r.headerFacet||r.headerTemplate),N(2),x("ngIf",r.header||r.titleTemplate),N(),x("ngIf",r.subheader||r.subtitleTemplate),N(3),x("ngTemplateOutlet",r.contentTemplate),N(),x("ngIf",r.footerFacet||r.footerTemplate))},dependencies:[ci,ui,hi,di],styles:[`@layer primeng{.p-card-header img{width:100%}}
`],encapsulation:2,changeDetection:0})}return n})(),OR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn,hn]})}return n})();var U=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,i){t&&i&&(t.classList?t.classList.add(i):t.className+=" "+i)}static addMultipleClasses(t,i){if(t&&i)if(t.classList){let r=i.trim().split(" ");for(let s=0;s<r.length;s++)t.classList.add(r[s])}else{let r=i.split(" ");for(let s=0;s<r.length;s++)t.className+=" "+r[s]}}static removeClass(t,i){t&&i&&(t.classList?t.classList.remove(i):t.className=t.className.replace(new RegExp("(^|\\b)"+i.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,i){t&&i&&[i].flat().filter(Boolean).forEach(r=>r.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,i){return t&&i?t.classList?t.classList.contains(i):new RegExp("(^| )"+i+"( |$)","gi").test(t.className):!1}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(i){return i!==t})}static find(t,i){return Array.from(t.querySelectorAll(i))}static findSingle(t,i){return this.isElement(t)?t.querySelector(i):null}static index(t){let i=t.parentNode.childNodes,r=0;for(var s=0;s<i.length;s++){if(i[s]==t)return r;i[s].nodeType==1&&r++}return-1}static indexWithinGroup(t,i){let r=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<r.length;o++){if(r[o]==t)return s;r[o].attributes&&r[o].attributes[i]&&r[o].nodeType==1&&s++}return-1}static appendOverlay(t,i,r="self"){r!=="self"&&t&&i&&this.appendChild(t,i)}static alignOverlay(t,i,r="self",s=!0){t&&i&&(s&&(t.style.minWidth=`${n.getOuterWidth(i)}px`),r==="self"?this.relativePosition(t,i):this.absolutePosition(t,i))}static relativePosition(t,i,r=!0){let s=L=>{if(L)return getComputedStyle(L).getPropertyValue("position")==="relative"?L:s(L.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),a=i.offsetHeight??i.getBoundingClientRect().height,l=i.getBoundingClientRect(),u=this.getWindowScrollTop(),d=this.getWindowScrollLeft(),p=this.getViewport(),y=s(t)?.getBoundingClientRect()||{top:-1*u,left:-1*d},v,T;l.top+a+o.height>p.height?(v=l.top-y.top-o.height,t.style.transformOrigin="bottom",l.top+v<0&&(v=-1*l.top)):(v=a+l.top-y.top,t.style.transformOrigin="top");let S=l.left+o.width-p.width,O=l.left-y.left;o.width>p.width?T=(l.left-y.left)*-1:S>0?T=O-S:T=l.left-y.left,t.style.top=v+"px",t.style.left=T+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static absolutePosition(t,i,r=!0){let s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=s.height,a=s.width,l=i.offsetHeight??i.getBoundingClientRect().height,u=i.offsetWidth??i.getBoundingClientRect().width,d=i.getBoundingClientRect(),p=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),y=this.getViewport(),v,T;d.top+l+o>y.height?(v=d.top+p-o,t.style.transformOrigin="bottom",v<0&&(v=p)):(v=l+d.top+p,t.style.transformOrigin="top"),d.left+a>y.width?T=Math.max(0,d.left+m+u-a):T=d.left+m,t.style.top=v+"px",t.style.left=T+"px",r&&(t.style.marginTop=origin==="bottom"?"calc(var(--p-anchor-gutter) * -1)":"calc(var(--p-anchor-gutter))")}static getParents(t,i=[]){return t.parentNode===null?i:this.getParents(t.parentNode,i.concat([t.parentNode]))}static getScrollableParents(t){let i=[];if(t){let r=this.getParents(t),s=/(auto|scroll)/,o=a=>{let l=window.getComputedStyle(a,null);return s.test(l.getPropertyValue("overflow"))||s.test(l.getPropertyValue("overflowX"))||s.test(l.getPropertyValue("overflowY"))};for(let a of r){let l=a.nodeType===1&&a.dataset.scrollselectors;if(l){let u=l.split(",");for(let d of u){let p=this.findSingle(a,d);p&&o(p)&&i.push(p)}}a.nodeType!==9&&o(a)&&i.push(a)}}return i}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let i=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",i}static getHiddenElementDimensions(t){let i={};return t.style.visibility="hidden",t.style.display="block",i.width=t.offsetWidth,i.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",i}static scrollInView(t,i){let r=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=r?parseFloat(r):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,l=t.getBoundingClientRect(),d=i.getBoundingClientRect().top+document.body.scrollTop-(l.top+document.body.scrollTop)-s-a,p=t.scrollTop,m=t.clientHeight,y=this.getOuterHeight(i);d<0?t.scrollTop=p+d:d+y>m&&(t.scrollTop=p+d-m+y)}static fadeIn(t,i){t.style.opacity=0;let r=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+(new Date().getTime()-r)/i,t.style.opacity=s,r=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,i){var r=1,s=50,o=i,a=s/o;let l=setInterval(()=>{r=r-a,r<=0&&(r=0,clearInterval(l)),t.style.opacity=r},s)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,i){var r=Element.prototype,s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(o){return[].indexOf.call(document.querySelectorAll(o),this)!==-1};return s.call(t,i)}static getOuterWidth(t,i){let r=t.offsetWidth;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return r}static getHorizontalPadding(t){let i=getComputedStyle(t);return parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)}static getHorizontalMargin(t){let i=getComputedStyle(t);return parseFloat(i.marginLeft)+parseFloat(i.marginRight)}static innerWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i+=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static width(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight),i}static getInnerHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i+=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),i}static getOuterHeight(t,i){let r=t.offsetHeight;if(i){let s=getComputedStyle(t);r+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return r}static getHeight(t){let i=t.offsetHeight,r=getComputedStyle(t);return i-=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),i}static getWidth(t){let i=t.offsetWidth,r=getComputedStyle(t);return i-=parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)+parseFloat(r.borderLeftWidth)+parseFloat(r.borderRightWidth),i}static getViewport(){let t=window,i=document,r=i.documentElement,s=i.getElementsByTagName("body")[0],o=t.innerWidth||r.clientWidth||s.clientWidth,a=t.innerHeight||r.clientHeight||s.clientHeight;return{width:o,height:a}}static getOffset(t){var i=t.getBoundingClientRect();return{top:i.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:i.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,i){let r=t.parentNode;if(!r)throw"Can't replace element";return r.replaceChild(i,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent,i=t.indexOf("MSIE ");if(i>0)return!0;var r=t.indexOf("Trident/");if(r>0){var s=t.indexOf("rv:");return!0}var o=t.indexOf("Edge/");return o>0}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,i){if(this.isElement(i))i.appendChild(t);else if(i&&i.el&&i.el.nativeElement)i.el.nativeElement.appendChild(t);else throw"Cannot append "+i+" to "+t}static removeChild(t,i){if(this.isElement(i))i.removeChild(t);else if(i.el&&i.el.nativeElement)i.el.nativeElement.removeChild(t);else throw"Cannot remove "+t+" from "+i}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"}static calculateScrollbarWidth(t){if(t){let i=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(i.borderLeftWidth)-parseFloat(i.borderRightWidth)}else{if(this.calculatedScrollbarWidth!==null)return this.calculatedScrollbarWidth;let i=document.createElement("div");i.className="p-scrollbar-measure",document.body.appendChild(i);let r=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),this.calculatedScrollbarWidth=r,r}}static calculateScrollbarHeight(){if(this.calculatedScrollbarHeight!==null)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let i=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=i,i}static invokeElementMethod(t,i,r){t[i].apply(t,r)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),i=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:i[1]||"",version:i[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||t.offsetParent===null}static isVisible(t){return t&&t.offsetParent!=null}static isExist(t){return t!==null&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,i){t&&document.activeElement!==t&&t.focus(i)}static getFocusableSelectorString(t=""){return`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-inputtext:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t},
        .p-button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${t}`}static getFocusableElements(t,i=""){let r=this.find(t,this.getFocusableSelectorString(i)),s=[];for(let o of r){let a=getComputedStyle(o);this.isVisible(o)&&a.display!="none"&&a.visibility!="hidden"&&s.push(o)}return s}static getFocusableElement(t,i=""){let r=this.findSingle(t,this.getFocusableSelectorString(i));if(r){let s=getComputedStyle(r);if(this.isVisible(r)&&s.display!="none"&&s.visibility!="hidden")return r}return null}static getFirstFocusableElement(t,i=""){let r=this.getFocusableElements(t,i);return r.length>0?r[0]:null}static getLastFocusableElement(t,i){let r=this.getFocusableElements(t,i);return r.length>0?r[r.length-1]:null}static getNextFocusableElement(t,i=!1){let r=n.getFocusableElements(t),s=0;if(r&&r.length>0){let o=r.indexOf(r[0].ownerDocument.activeElement);i?o==-1||o===0?s=r.length-1:s=o-1:o!=-1&&o!==r.length-1&&(s=o+1)}return r[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,i){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return i?.nextElementSibling;case"@prev":return i?.previousElementSibling;case"@parent":return i?.parentElement;case"@grandparent":return i?.parentElement.parentElement;default:let r=typeof t;if(r==="string")return document.querySelector(t);if(r==="object"&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;let o=(a=>!!(a&&a.constructor&&a.call&&a.apply))(t)?t():t;return o&&o.nodeType===9||this.isExist(o)?o:null}}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,i){if(t){let r=t.getAttribute(i);return isNaN(r)?r==="true"||r==="false"?r==="true":r:+r}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}static createElement(t,i={},...r){if(t){let s=document.createElement(t);return this.setAttributes(s,i),s.append(...r),s}}static setAttribute(t,i="",r){this.isElement(t)&&r!==null&&r!==void 0&&t.setAttribute(i,r)}static setAttributes(t,i={}){if(this.isElement(t)){let r=(s,o)=>{let a=t?.$attrs?.[s]?[t?.$attrs?.[s]]:[];return[o].flat().reduce((l,u)=>{if(u!=null){let d=typeof u;if(d==="string"||d==="number")l.push(u);else if(d==="object"){let p=Array.isArray(u)?r(s,u):Object.entries(u).map(([m,y])=>s==="style"&&(y||y===0)?`${m.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}:${y}`:y?m:void 0);l=p.length?l.concat(p.filter(m=>!!m)):l}}return l},a)};Object.entries(i).forEach(([s,o])=>{if(o!=null){let a=s.match(/^on(.+)/);a?t.addEventListener(a[1].toLowerCase(),o):s==="pBind"?this.setAttributes(t,o):(o=s==="class"?[...new Set(r("class",o))].join(" ").trim():s==="style"?r("style",o).join(";").trim():o,(t.$attrs=t.$attrs||{})&&(t.$attrs[s]=o),t.setAttribute(s,o))}})}}static isFocusableElement(t,i=""){return this.isElement(t)?t.matches(`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i},
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${i}`):!1}}return n})(),Ha=class{element;listener;scrollableParents;constructor(e,t=()=>{}){this.element=e,this.listener=t}bindScrollListener(){this.scrollableParents=U.getScrollableParents(this.element);for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].addEventListener("scroll",this.listener)}unbindScrollListener(){if(this.scrollableParents)for(let e=0;e<this.scrollableParents.length;e++)this.scrollableParents[e].removeEventListener("scroll",this.listener)}destroy(){this.unbindScrollListener(),this.element=null,this.listener=null,this.scrollableParents=null}};var xp=(()=>{class n{autofocus=!1;focused=!1;platformId=B(Tt);document=B(rt);host=B(We);ngAfterContentChecked(){this.autofocus===!1?this.host.nativeElement.removeAttribute("autofocus"):this.host.nativeElement.setAttribute("autofocus",!0),this.focused||this.autoFocus()}ngAfterViewChecked(){this.focused||this.autoFocus()}autoFocus(){xn(this.platformId)&&this.autofocus&&setTimeout(()=>{let t=U.getFocusableElements(this.host?.nativeElement);t.length===0&&this.host.nativeElement.focus(),t.length>0&&t[0].focus(),this.focused=!0})}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Ue({type:n,selectors:[["","pAutoFocus",""]],hostAttrs:[1,"p-element"],inputs:{autofocus:[2,"autofocus","autofocus",ae]},standalone:!0,features:[un]})}return n})(),NR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({})}return n})();var _6=["overlay"],v6=["content"],I6=["*"],w6=(n,e,t,i,r,s,o,a,l,u,d,p,m,y)=>({"p-overlay p-component":!0,"p-overlay-modal p-component-overlay p-component-overlay-enter":n,"p-overlay-center":e,"p-overlay-top":t,"p-overlay-top-start":i,"p-overlay-top-end":r,"p-overlay-bottom":s,"p-overlay-bottom-start":o,"p-overlay-bottom-end":a,"p-overlay-left":l,"p-overlay-left-start":u,"p-overlay-left-end":d,"p-overlay-right":p,"p-overlay-right-start":m,"p-overlay-right-end":y}),E6=(n,e,t)=>({showTransitionParams:n,hideTransitionParams:e,transform:t}),b6=n=>({value:"visible",params:n}),C6=n=>({mode:n}),T6=n=>({$implicit:n});function S6(n,e){n&1&&qe(0)}function D6(n,e){if(n&1){let t=_t();z(0,"div",3,1),Re("click",function(r){xe(t);let s=P(2);return Me(s.onOverlayContentClick(r))})("@overlayContentAnimation.start",function(r){xe(t);let s=P(2);return Me(s.onOverlayContentAnimationStart(r))})("@overlayContentAnimation.done",function(r){xe(t);let s=P(2);return Me(s.onOverlayContentAnimationDone(r))}),Jt(2),W(3,S6,1,0,"ng-container",4),G()}if(n&2){let t=P(2);Je(t.contentStyleClass),x("ngStyle",t.contentStyle)("ngClass","p-overlay-content")("@overlayContentAnimation",it(11,b6,Ko(7,E6,t.showTransitionOptions,t.hideTransitionOptions,t.transformOptions[t.modal?t.overlayResponsiveDirection:"default"]))),N(3),x("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",it(15,T6,it(13,C6,t.overlayMode)))}}function A6(n,e){if(n&1){let t=_t();z(0,"div",3,0),Re("click",function(){xe(t);let r=P();return Me(r.onOverlayClick())}),W(2,D6,4,17,"div",2),G()}if(n&2){let t=P();Je(t.styleClass),x("ngStyle",t.style)("ngClass",iD(5,w6,[t.modal,t.modal&&t.overlayResponsiveDirection==="center",t.modal&&t.overlayResponsiveDirection==="top",t.modal&&t.overlayResponsiveDirection==="top-start",t.modal&&t.overlayResponsiveDirection==="top-end",t.modal&&t.overlayResponsiveDirection==="bottom",t.modal&&t.overlayResponsiveDirection==="bottom-start",t.modal&&t.overlayResponsiveDirection==="bottom-end",t.modal&&t.overlayResponsiveDirection==="left",t.modal&&t.overlayResponsiveDirection==="left-start",t.modal&&t.overlayResponsiveDirection==="left-end",t.modal&&t.overlayResponsiveDirection==="right",t.modal&&t.overlayResponsiveDirection==="right-start",t.modal&&t.overlayResponsiveDirection==="right-end"])),N(2),x("ngIf",t.visible)}}var x6={provide:io,useExisting:Dn(()=>U0),multi:!0},M6=pw([Ta({transform:"{{transform}}",opacity:0}),hw("{{showTransitionParams}}")]),R6=pw([hw("{{hideTransitionParams}}",Ta({transform:"{{transform}}",opacity:0}))]),U0=(()=>{class n{document;platformId;el;renderer;config;overlayService;cd;zone;get visible(){return this._visible}set visible(t){this._visible=t,this._visible&&!this.modalVisible&&(this.modalVisible=!0)}get mode(){return this._mode||this.overlayOptions?.mode}set mode(t){this._mode=t}get style(){return Ie.merge(this._style,this.modal?this.overlayResponsiveOptions?.style:this.overlayOptions?.style)}set style(t){this._style=t}get styleClass(){return Ie.merge(this._styleClass,this.modal?this.overlayResponsiveOptions?.styleClass:this.overlayOptions?.styleClass)}set styleClass(t){this._styleClass=t}get contentStyle(){return Ie.merge(this._contentStyle,this.modal?this.overlayResponsiveOptions?.contentStyle:this.overlayOptions?.contentStyle)}set contentStyle(t){this._contentStyle=t}get contentStyleClass(){return Ie.merge(this._contentStyleClass,this.modal?this.overlayResponsiveOptions?.contentStyleClass:this.overlayOptions?.contentStyleClass)}set contentStyleClass(t){this._contentStyleClass=t}get target(){let t=this._target||this.overlayOptions?.target;return t===void 0?"@prev":t}set target(t){this._target=t}get appendTo(){return this._appendTo||this.overlayOptions?.appendTo}set appendTo(t){this._appendTo=t}get autoZIndex(){let t=this._autoZIndex||this.overlayOptions?.autoZIndex;return t===void 0?!0:t}set autoZIndex(t){this._autoZIndex=t}get baseZIndex(){let t=this._baseZIndex||this.overlayOptions?.baseZIndex;return t===void 0?0:t}set baseZIndex(t){this._baseZIndex=t}get showTransitionOptions(){let t=this._showTransitionOptions||this.overlayOptions?.showTransitionOptions;return t===void 0?".12s cubic-bezier(0, 0, 0.2, 1)":t}set showTransitionOptions(t){this._showTransitionOptions=t}get hideTransitionOptions(){let t=this._hideTransitionOptions||this.overlayOptions?.hideTransitionOptions;return t===void 0?".1s linear":t}set hideTransitionOptions(t){this._hideTransitionOptions=t}get listener(){return this._listener||this.overlayOptions?.listener}set listener(t){this._listener=t}get responsive(){return this._responsive||this.overlayOptions?.responsive}set responsive(t){this._responsive=t}get options(){return this._options}set options(t){this._options=t}visibleChange=new se;onBeforeShow=new se;onShow=new se;onBeforeHide=new se;onHide=new se;onAnimationStart=new se;onAnimationDone=new se;templates;overlayViewChild;contentViewChild;contentTemplate;_visible=!1;_mode;_style;_styleClass;_contentStyle;_contentStyleClass;_target;_appendTo;_autoZIndex;_baseZIndex;_showTransitionOptions;_hideTransitionOptions;_listener;_responsive;_options;modalVisible=!1;isOverlayClicked=!1;isOverlayContentClicked=!1;scrollHandler;documentClickListener;documentResizeListener;documentKeyboardListener;window;transformOptions={default:"scaleY(0.8)",center:"scale(0.7)",top:"translate3d(0px, -100%, 0px)","top-start":"translate3d(0px, -100%, 0px)","top-end":"translate3d(0px, -100%, 0px)",bottom:"translate3d(0px, 100%, 0px)","bottom-start":"translate3d(0px, 100%, 0px)","bottom-end":"translate3d(0px, 100%, 0px)",left:"translate3d(-100%, 0px, 0px)","left-start":"translate3d(-100%, 0px, 0px)","left-end":"translate3d(-100%, 0px, 0px)",right:"translate3d(100%, 0px, 0px)","right-start":"translate3d(100%, 0px, 0px)","right-end":"translate3d(100%, 0px, 0px)"};get modal(){if(xn(this.platformId))return this.mode==="modal"||this.overlayResponsiveOptions&&this.window?.matchMedia(this.overlayResponsiveOptions.media?.replace("@media","")||`(max-width: ${this.overlayResponsiveOptions.breakpoint})`).matches}get overlayMode(){return this.mode||(this.modal?"modal":"overlay")}get overlayOptions(){return k(k({},this.config?.overlayOptions),this.options)}get overlayResponsiveOptions(){return k(k({},this.overlayOptions?.responsive),this.responsive)}get overlayResponsiveDirection(){return this.overlayResponsiveOptions?.direction||"center"}get overlayEl(){return this.overlayViewChild?.nativeElement}get contentEl(){return this.contentViewChild?.nativeElement}get targetEl(){return U.getTargetElement(this.target,this.el?.nativeElement)}constructor(t,i,r,s,o,a,l,u){this.document=t,this.platformId=i,this.el=r,this.renderer=s,this.config=o,this.overlayService=a,this.cd=l,this.zone=u,this.window=this.document.defaultView}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}show(t,i=!1){this.onVisibleChange(!0),this.handleEvents("onShow",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&U.focus(this.targetEl),this.modal&&U.addClass(this.document?.body,"p-overflow-hidden")}hide(t,i=!1){if(this.visible)this.onVisibleChange(!1),this.handleEvents("onHide",{overlay:t||this.overlayEl,target:this.targetEl,mode:this.overlayMode}),i&&U.focus(this.targetEl),this.modal&&U.removeClass(this.document?.body,"p-overflow-hidden");else return}alignOverlay(){!this.modal&&U.alignOverlay(this.overlayEl,this.targetEl,this.appendTo)}onVisibleChange(t){this._visible=t,this.visibleChange.emit(t)}onOverlayClick(){this.isOverlayClicked=!0}onOverlayContentClick(t){this.overlayService.add({originalEvent:t,target:this.targetEl}),this.isOverlayContentClicked=!0}onOverlayContentAnimationStart(t){switch(t.toState){case"visible":this.handleEvents("onBeforeShow",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.autoZIndex&&rs.set(this.overlayMode,this.overlayEl,this.baseZIndex+this.config?.zIndex[this.overlayMode]),U.appendOverlay(this.overlayEl,this.appendTo==="body"?this.document.body:this.appendTo,this.appendTo),this.alignOverlay();break;case"void":this.handleEvents("onBeforeHide",{overlay:this.overlayEl,target:this.targetEl,mode:this.overlayMode}),this.modal&&U.addClass(this.overlayEl,"p-component-overlay-leave");break}this.handleEvents("onAnimationStart",t)}onOverlayContentAnimationDone(t){let i=this.overlayEl||t.element.parentElement;switch(t.toState){case"visible":this.visible&&this.show(i,!0),this.bindListeners();break;case"void":if(!this.visible){this.hide(i,!0),this.modalVisible=!1,this.unbindListeners(),U.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),rs.clear(i),this.cd.markForCheck();break}}this.handleEvents("onAnimationDone",t)}handleEvents(t,i){this[t].emit(i),this.options&&this.options[t]&&this.options[t](i),this.config?.overlayOptions&&(this.config?.overlayOptions)[t]&&(this.config?.overlayOptions)[t](i)}bindListeners(){this.unbindListeners(),this.bindScrollListener(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindDocumentKeyboardListener()}unbindListeners(){this.unbindScrollListener(),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindDocumentKeyboardListener()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ha(this.targetEl,t=>{(this.listener?this.listener(t,{type:"scroll",mode:this.overlayMode,valid:!0}):!0)&&this.hide(t,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.document,"click",t=>{let r=!(this.targetEl&&(this.targetEl.isSameNode(t.target)||!this.isOverlayClicked&&this.targetEl.contains(t.target)))&&!this.isOverlayContentClicked;(this.listener?this.listener(t,{type:"outside",mode:this.overlayMode,valid:t.which!==3&&r}):r)&&this.hide(t),this.isOverlayClicked=this.isOverlayContentClicked=!1}))}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",t=>{(this.listener?this.listener(t,{type:"resize",mode:this.overlayMode,valid:!U.isTouchDevice()}):!U.isTouchDevice())&&this.hide(t,!0)}))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindDocumentKeyboardListener(){this.documentKeyboardListener||this.zone.runOutsideAngular(()=>{this.documentKeyboardListener=this.renderer.listen(this.window,"keydown",t=>{if(this.overlayOptions.hideOnEscape===!1||t.code!=="Escape")return;(this.listener?this.listener(t,{type:"keydown",mode:this.overlayMode,valid:!U.isTouchDevice()}):!U.isTouchDevice())&&this.zone.run(()=>{this.hide(t,!0)})})})}unbindDocumentKeyboardListener(){this.documentKeyboardListener&&(this.documentKeyboardListener(),this.documentKeyboardListener=null)}ngOnDestroy(){this.hide(this.overlayEl,!0),this.overlayEl&&(U.appendOverlay(this.overlayEl,this.targetEl,this.appendTo),rs.clear(this.overlayEl)),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.unbindListeners()}static \u0275fac=function(i){return new(i||n)(V(rt),V(Tt),V(We),V(St),V(Hi),V(AR),V(Ht),V(Ee))};static \u0275cmp=de({type:n,selectors:[["p-overlay"]],contentQueries:function(i,r,s){if(i&1&&vn(s,Ln,4),i&2){let o;tt(o=nt())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&($t(_6,5),$t(v6,5)),i&2){let s;tt(s=nt())&&(r.overlayViewChild=s.first),tt(s=nt())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",mode:"mode",style:"style",styleClass:"styleClass",contentStyle:"contentStyle",contentStyleClass:"contentStyleClass",target:"target",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",listener:"listener",responsive:"responsive",options:"options"},outputs:{visibleChange:"visibleChange",onBeforeShow:"onBeforeShow",onShow:"onShow",onBeforeHide:"onBeforeHide",onHide:"onHide",onAnimationStart:"onAnimationStart",onAnimationDone:"onAnimationDone"},features:[ai([x6])],ngContentSelectors:I6,decls:1,vars:1,consts:[["overlay",""],["content",""],[3,"ngStyle","class","ngClass","click",4,"ngIf"],[3,"click","ngStyle","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(_n(),W(0,A6,3,20,"div",2)),i&2&&x("ngIf",r.modalVisible)},dependencies:[ci,ui,hi,di],styles:[`@layer primeng{.p-overlay{position:absolute;top:0;left:0}.p-overlay-modal{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%}.p-overlay-content{transform-origin:inherit}.p-overlay-modal>.p-overlay-content{z-index:1;width:90%}.p-overlay-top{align-items:flex-start}.p-overlay-top-start{align-items:flex-start;justify-content:flex-start}.p-overlay-top-end{align-items:flex-start;justify-content:flex-end}.p-overlay-bottom{align-items:flex-end}.p-overlay-bottom-start{align-items:flex-end;justify-content:flex-start}.p-overlay-bottom-end{align-items:flex-end;justify-content:flex-end}.p-overlay-left{justify-content:flex-start}.p-overlay-left-start{justify-content:flex-start;align-items:flex-start}.p-overlay-left-end{justify-content:flex-start;align-items:flex-end}.p-overlay-right{justify-content:flex-end}.p-overlay-right-start{justify-content:flex-end;align-items:flex-start}.p-overlay-right-end{justify-content:flex-end;align-items:flex-end}}
`],encapsulation:2,data:{animation:[Ix("overlayContentAnimation",[fw(":enter",[mw(M6)]),fw(":leave",[mw(R6)])])]},changeDetection:0})}return n})(),j0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn,hn,hn]})}return n})();var Mp=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,i,r,s,o,a){this.document=t,this.platformId=i,this.renderer=r,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){xn(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let i=this.getInk();if(!i||this.document.defaultView?.getComputedStyle(i,null).display==="none")return;if(U.removeClass(i,"p-ink-active"),!U.getHeight(i)&&!U.getWidth(i)){let a=Math.max(U.getOuterWidth(this.el.nativeElement),U.getOuterHeight(this.el.nativeElement));i.style.height=a+"px",i.style.width=a+"px"}let r=U.getOffset(this.el.nativeElement),s=t.pageX-r.left+this.document.body.scrollTop-U.getWidth(i)/2,o=t.pageY-r.top+this.document.body.scrollLeft-U.getHeight(i)/2;this.renderer.setStyle(i,"top",o+"px"),this.renderer.setStyle(i,"left",s+"px"),U.addClass(i,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&U.removeClass(a,"p-ink-active")},401)}getInk(){let t=this.el.nativeElement.children;for(let i=0;i<t.length;i++)if(typeof t[i].className=="string"&&t[i].className.indexOf("p-ink")!==-1)return t[i];return null}resetInk(){let t=this.getInk();t&&U.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),U.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,U.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(i){return new(i||n)(V(rt),V(Tt),V(St),V(We),V(Ee),V(Hi,8))};static \u0275dir=Ue({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"],standalone:!0})}return n})(),Rp=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({})}return n})();var P6=["*"],rn=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){let t=Ie.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:[2,"spin","spin",ae],styleClass:"styleClass"},standalone:!0,features:[un,ke],ngContentSelectors:P6,decls:1,vars:0,template:function(i,r){i&1&&(_n(),Jt(0))},encapsulation:2,changeDetection:0})}return n})();var iu=(()=>{class n extends rn{pathId;ngOnInit(){this.pathId="url(#"+is()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["SpinnerIcon"]],standalone:!0,features:[Ze,ke],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0)(1,"g"),fe(2,"path",1),G(),z(3,"defs")(4,"clipPath",2),fe(5,"rect",3),G()()()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),N(),oe("clip-path",r.pathId),N(3),x("id",r.pathId))},encapsulation:2})}return n})();var k6=["element"],F6=["content"],L6=["*"],V6=(n,e,t)=>({"p-scroller":!0,"p-scroller-inline":n,"p-both-scroll":e,"p-horizontal-scroll":t}),B0=(n,e)=>({$implicit:n,options:e}),U6=n=>({"p-scroller-loading":n}),j6=n=>({"p-component-overlay":n}),B6=n=>({numCols:n}),PR=n=>({options:n}),$6=()=>({styleClass:"p-scroller-loading-icon"}),H6=(n,e)=>({rows:n,columns:e});function z6(n,e){n&1&&qe(0)}function q6(n,e){if(n&1&&(Ke(0),W(1,z6,1,0,"ng-container",10),Qe()),n&2){let t=P(2);N(),x("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tr(2,B0,t.loadedItems,t.getContentOptions()))}}function G6(n,e){n&1&&qe(0)}function W6(n,e){if(n&1&&(Ke(0),W(1,G6,1,0,"ng-container",10),Qe()),n&2){let t=e.$implicit,i=e.index,r=P(3);N(),x("ngTemplateOutlet",r.itemTemplate)("ngTemplateOutletContext",tr(2,B0,t,r.getOptions(i)))}}function K6(n,e){if(n&1&&(z(0,"div",11,3),W(2,W6,2,5,"ng-container",12),G()),n&2){let t=P(2);x("ngClass",it(5,U6,t.d_loading))("ngStyle",t.contentStyle),oe("data-pc-section","content"),N(2),x("ngForOf",t.loadedItems)("ngForTrackBy",t._trackBy||t.index)}}function Q6(n,e){if(n&1&&fe(0,"div",13),n&2){let t=P(2);x("ngStyle",t.spacerStyle),oe("data-pc-section","spacer")}}function Y6(n,e){n&1&&qe(0)}function Z6(n,e){if(n&1&&(Ke(0),W(1,Y6,1,0,"ng-container",10),Qe()),n&2){let t=e.index,i=P(4);N(),x("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",it(4,PR,i.getLoaderOptions(t,i.both&&it(2,B6,i._numItemsInViewport.cols))))}}function J6(n,e){if(n&1&&(Ke(0),W(1,Z6,2,6,"ng-container",15),Qe()),n&2){let t=P(3);N(),x("ngForOf",t.loaderArr)}}function X6(n,e){n&1&&qe(0)}function e5(n,e){if(n&1&&(Ke(0),W(1,X6,1,0,"ng-container",10),Qe()),n&2){let t=P(4);N(),x("ngTemplateOutlet",t.loaderIconTemplate)("ngTemplateOutletContext",it(3,PR,As(2,$6)))}}function t5(n,e){n&1&&fe(0,"SpinnerIcon",16),n&2&&(x("styleClass","p-scroller-loading-icon pi-spin"),oe("data-pc-section","loadingIcon"))}function n5(n,e){if(n&1&&W(0,e5,2,5,"ng-container",6)(1,t5,1,2,"ng-template",null,5,li),n&2){let t=qn(2),i=P(3);x("ngIf",i.loaderIconTemplate)("ngIfElse",t)}}function i5(n,e){if(n&1&&(z(0,"div",14),W(1,J6,2,1,"ng-container",6)(2,n5,3,2,"ng-template",null,4,li),G()),n&2){let t=qn(3),i=P(2);x("ngClass",it(4,j6,!i.loaderTemplate)),oe("data-pc-section","loader"),N(),x("ngIf",i.loaderTemplate)("ngIfElse",t)}}function r5(n,e){if(n&1){let t=_t();Ke(0),z(1,"div",7,1),Re("scroll",function(r){xe(t);let s=P();return Me(s.onContainerScroll(r))}),W(3,q6,2,5,"ng-container",6)(4,K6,3,7,"ng-template",null,2,li)(6,Q6,1,2,"div",8)(7,i5,4,6,"div",9),G(),Qe()}if(n&2){let t=qn(5),i=P();N(),Je(i._styleClass),x("ngStyle",i._style)("ngClass",Ko(12,V6,i.inline,i.both,i.horizontal)),oe("id",i._id)("tabindex",i.tabindex)("data-pc-name","scroller")("data-pc-section","root"),N(2),x("ngIf",i.contentTemplate)("ngIfElse",t),N(3),x("ngIf",i._showSpacer),N(),x("ngIf",!i.loaderDisabled&&i._showLoader&&i.d_loading)}}function s5(n,e){n&1&&qe(0)}function o5(n,e){if(n&1&&(Ke(0),W(1,s5,1,0,"ng-container",10),Qe()),n&2){let t=P(2);N(),x("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",tr(5,B0,t.items,tr(2,H6,t._items,t.loadedColumns)))}}function a5(n,e){if(n&1&&(Jt(0),W(1,o5,2,8,"ng-container",17)),n&2){let t=P();N(),x("ngIf",t.contentTemplate)}}var kR=(()=>{class n{document;platformId;renderer;cd;zone;get id(){return this._id}set id(t){this._id=t}get style(){return this._style}set style(t){this._style=t}get styleClass(){return this._styleClass}set styleClass(t){this._styleClass=t}get tabindex(){return this._tabindex}set tabindex(t){this._tabindex=t}get items(){return this._items}set items(t){this._items=t}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t}get scrollHeight(){return this._scrollHeight}set scrollHeight(t){this._scrollHeight=t}get scrollWidth(){return this._scrollWidth}set scrollWidth(t){this._scrollWidth=t}get orientation(){return this._orientation}set orientation(t){this._orientation=t}get step(){return this._step}set step(t){this._step=t}get delay(){return this._delay}set delay(t){this._delay=t}get resizeDelay(){return this._resizeDelay}set resizeDelay(t){this._resizeDelay=t}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=t}get inline(){return this._inline}set inline(t){this._inline=t}get lazy(){return this._lazy}set lazy(t){this._lazy=t}get disabled(){return this._disabled}set disabled(t){this._disabled=t}get loaderDisabled(){return this._loaderDisabled}set loaderDisabled(t){this._loaderDisabled=t}get columns(){return this._columns}set columns(t){this._columns=t}get showSpacer(){return this._showSpacer}set showSpacer(t){this._showSpacer=t}get showLoader(){return this._showLoader}set showLoader(t){this._showLoader=t}get numToleratedItems(){return this._numToleratedItems}set numToleratedItems(t){this._numToleratedItems=t}get loading(){return this._loading}set loading(t){this._loading=t}get autoSize(){return this._autoSize}set autoSize(t){this._autoSize=t}get trackBy(){return this._trackBy}set trackBy(t){this._trackBy=t}get options(){return this._options}set options(t){this._options=t,t&&typeof t=="object"&&Object.entries(t).forEach(([i,r])=>this[`_${i}`]!==r&&(this[`_${i}`]=r))}onLazyLoad=new se;onScroll=new se;onScrollIndexChange=new se;elementViewChild;contentViewChild;templates;_id;_style;_styleClass;_tabindex=0;_items;_itemSize=0;_scrollHeight;_scrollWidth;_orientation="vertical";_step=0;_delay=0;_resizeDelay=10;_appendOnly=!1;_inline=!1;_lazy=!1;_disabled=!1;_loaderDisabled=!1;_columns;_showSpacer=!0;_showLoader=!1;_numToleratedItems;_loading;_autoSize=!1;_trackBy;_options;d_loading=!1;d_numToleratedItems;contentEl;contentTemplate;itemTemplate;loaderTemplate;loaderIconTemplate;first=0;last=0;page=0;isRangeChanged=!1;numItemsInViewport=0;lastScrollPos=0;lazyLoadState={};loaderArr=[];spacerStyle={};contentStyle={};scrollTimeout;resizeTimeout;initialized=!1;windowResizeListener;defaultWidth;defaultHeight;defaultContentWidth;defaultContentHeight;get vertical(){return this._orientation==="vertical"}get horizontal(){return this._orientation==="horizontal"}get both(){return this._orientation==="both"}get loadedItems(){return this._items&&!this.d_loading?this.both?this._items.slice(this._appendOnly?0:this.first.rows,this.last.rows).map(t=>this._columns?t:t.slice(this._appendOnly?0:this.first.cols,this.last.cols)):this.horizontal&&this._columns?this._items:this._items.slice(this._appendOnly?0:this.first,this.last):[]}get loadedRows(){return this.d_loading?this._loaderDisabled?this.loaderArr:[]:this.loadedItems}get loadedColumns(){return this._columns&&(this.both||this.horizontal)?this.d_loading&&this._loaderDisabled?this.both?this.loaderArr[0]:this.loaderArr:this._columns.slice(this.both?this.first.cols:this.first,this.both?this.last.cols:this.last):this._columns}constructor(t,i,r,s,o){this.document=t,this.platformId=i,this.renderer=r,this.cd=s,this.zone=o}ngOnInit(){this.setInitialState()}ngOnChanges(t){let i=!1;if(t.loading){let{previousValue:r,currentValue:s}=t.loading;this.lazy&&r!==s&&s!==this.d_loading&&(this.d_loading=s,i=!0)}if(t.orientation&&(this.lastScrollPos=this.both?{top:0,left:0}:0),t.numToleratedItems){let{previousValue:r,currentValue:s}=t.numToleratedItems;r!==s&&s!==this.d_numToleratedItems&&(this.d_numToleratedItems=s)}if(t.options){let{previousValue:r,currentValue:s}=t.options;this.lazy&&r?.loading!==s?.loading&&s?.loading!==this.d_loading&&(this.d_loading=s.loading,i=!0),r?.numToleratedItems!==s?.numToleratedItems&&s?.numToleratedItems!==this.d_numToleratedItems&&(this.d_numToleratedItems=s.numToleratedItems)}this.initialized&&!i&&(t.items?.previousValue?.length!==t.items?.currentValue?.length||t.itemSize||t.scrollHeight||t.scrollWidth)&&(this.init(),this.calculateAutoSize())}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"item":this.itemTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"loadericon":this.loaderIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}ngAfterViewInit(){Promise.resolve().then(()=>{this.viewInit()})}ngAfterViewChecked(){this.initialized||this.viewInit()}ngOnDestroy(){this.unbindResizeListener(),this.contentEl=null,this.initialized=!1}viewInit(){xn(this.platformId)&&!this.initialized&&U.isVisible(this.elementViewChild?.nativeElement)&&(this.setInitialState(),this.setContentEl(this.contentEl),this.init(),this.calculateAutoSize(),this.defaultWidth=U.getWidth(this.elementViewChild?.nativeElement),this.defaultHeight=U.getHeight(this.elementViewChild?.nativeElement),this.defaultContentWidth=U.getWidth(this.contentEl),this.defaultContentHeight=U.getHeight(this.contentEl),this.initialized=!0)}init(){this._disabled||(this.setSize(),this.calculateOptions(),this.setSpacerSize(),this.bindResizeListener(),this.cd.detectChanges())}setContentEl(t){this.contentEl=t||this.contentViewChild?.nativeElement||U.findSingle(this.elementViewChild?.nativeElement,".p-scroller-content")}setInitialState(){this.first=this.both?{rows:0,cols:0}:0,this.last=this.both?{rows:0,cols:0}:0,this.numItemsInViewport=this.both?{rows:0,cols:0}:0,this.lastScrollPos=this.both?{top:0,left:0}:0,this.d_loading=this._loading||!1,this.d_numToleratedItems=this._numToleratedItems,this.loaderArr=[],this.spacerStyle={},this.contentStyle={}}getElementRef(){return this.elementViewChild}getPageByFirst(t){return Math.floor(((t??this.first)+this.d_numToleratedItems*4)/(this._step||1))}isPageChanged(t){return this._step?this.page!==this.getPageByFirst(t??this.first):!0}scrollTo(t){this.elementViewChild?.nativeElement?.scrollTo(t)}scrollToIndex(t,i="auto"){if(this.both?t.every(s=>s>-1):t>-1){let s=this.first,{scrollTop:o=0,scrollLeft:a=0}=this.elementViewChild?.nativeElement,{numToleratedItems:l}=this.calculateNumItems(),u=this.getContentPosition(),d=this.itemSize,p=(O=0,L)=>O<=L?0:O,m=(O,L,q)=>O*L+q,y=(O=0,L=0)=>this.scrollTo({left:O,top:L,behavior:i}),v=this.both?{rows:0,cols:0}:0,T=!1,S=!1;this.both?(v={rows:p(t[0],l[0]),cols:p(t[1],l[1])},y(m(v.cols,d[1],u.left),m(v.rows,d[0],u.top)),S=this.lastScrollPos.top!==o||this.lastScrollPos.left!==a,T=v.rows!==s.rows||v.cols!==s.cols):(v=p(t,l),this.horizontal?y(m(v,d,u.left),o):y(a,m(v,d,u.top)),S=this.lastScrollPos!==(this.horizontal?a:o),T=v!==s),this.isRangeChanged=T,S&&(this.first=v)}}scrollInView(t,i,r="auto"){if(i){let{first:s,viewport:o}=this.getRenderedRange(),a=(d=0,p=0)=>this.scrollTo({left:d,top:p,behavior:r}),l=i==="to-start",u=i==="to-end";if(l){if(this.both)o.first.rows-s.rows>t[0]?a(o.first.cols*this._itemSize[1],(o.first.rows-1)*this._itemSize[0]):o.first.cols-s.cols>t[1]&&a((o.first.cols-1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.first-s>t){let d=(o.first-1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}else if(u){if(this.both)o.last.rows-s.rows<=t[0]+1?a(o.first.cols*this._itemSize[1],(o.first.rows+1)*this._itemSize[0]):o.last.cols-s.cols<=t[1]+1&&a((o.first.cols+1)*this._itemSize[1],o.first.rows*this._itemSize[0]);else if(o.last-s<=t+1){let d=(o.first+1)*this._itemSize;this.horizontal?a(d,0):a(0,d)}}}else this.scrollToIndex(t,r)}getRenderedRange(){let t=(s,o)=>o||s?Math.floor(s/(o||s)):0,i=this.first,r=0;if(this.elementViewChild?.nativeElement){let{scrollTop:s,scrollLeft:o}=this.elementViewChild.nativeElement;if(this.both)i={rows:t(s,this._itemSize[0]),cols:t(o,this._itemSize[1])},r={rows:i.rows+this.numItemsInViewport.rows,cols:i.cols+this.numItemsInViewport.cols};else{let a=this.horizontal?o:s;i=t(a,this._itemSize),r=i+this.numItemsInViewport}}return{first:this.first,last:this.last,viewport:{first:i,last:r}}}calculateNumItems(){let t=this.getContentPosition(),i=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetWidth-t.left:0)||0,r=(this.elementViewChild?.nativeElement?this.elementViewChild.nativeElement.offsetHeight-t.top:0)||0,s=(u,d)=>d||u?Math.ceil(u/(d||u)):0,o=u=>Math.ceil(u/2),a=this.both?{rows:s(r,this._itemSize[0]),cols:s(i,this._itemSize[1])}:s(this.horizontal?i:r,this._itemSize),l=this.d_numToleratedItems||(this.both?[o(a.rows),o(a.cols)]:o(a));return{numItemsInViewport:a,numToleratedItems:l}}calculateOptions(){let{numItemsInViewport:t,numToleratedItems:i}=this.calculateNumItems(),r=(a,l,u,d=!1)=>this.getLast(a+l+(a<u?2:3)*u,d),s=this.first,o=this.both?{rows:r(this.first.rows,t.rows,i[0]),cols:r(this.first.cols,t.cols,i[1],!0)}:r(this.first,t,i);this.last=o,this.numItemsInViewport=t,this.d_numToleratedItems=i,this.showLoader&&(this.loaderArr=this.both?Array.from({length:t.rows}).map(()=>Array.from({length:t.cols})):Array.from({length:t})),this._lazy&&Promise.resolve().then(()=>{this.lazyLoadState={first:this._step?this.both?{rows:0,cols:s.cols}:0:s,last:Math.min(this._step?this._step:this.last,this.items.length)},this.handleEvents("onLazyLoad",this.lazyLoadState)})}calculateAutoSize(){this._autoSize&&!this.d_loading&&Promise.resolve().then(()=>{if(this.contentEl){this.contentEl.style.minHeight=this.contentEl.style.minWidth="auto",this.contentEl.style.position="relative",this.elementViewChild.nativeElement.style.contain="none";let[t,i]=[U.getWidth(this.contentEl),U.getHeight(this.contentEl)];t!==this.defaultContentWidth&&(this.elementViewChild.nativeElement.style.width=""),i!==this.defaultContentHeight&&(this.elementViewChild.nativeElement.style.height="");let[r,s]=[U.getWidth(this.elementViewChild.nativeElement),U.getHeight(this.elementViewChild.nativeElement)];(this.both||this.horizontal)&&(this.elementViewChild.nativeElement.style.width=r<this.defaultWidth?r+"px":this._scrollWidth||this.defaultWidth+"px"),(this.both||this.vertical)&&(this.elementViewChild.nativeElement.style.height=s<this.defaultHeight?s+"px":this._scrollHeight||this.defaultHeight+"px"),this.contentEl.style.minHeight=this.contentEl.style.minWidth="",this.contentEl.style.position="",this.elementViewChild.nativeElement.style.contain=""}})}getLast(t=0,i=!1){return this._items?Math.min(i?(this._columns||this._items[0]).length:this._items.length,t):0}getContentPosition(){if(this.contentEl){let t=getComputedStyle(this.contentEl),i=parseFloat(t.paddingLeft)+Math.max(parseFloat(t.left)||0,0),r=parseFloat(t.paddingRight)+Math.max(parseFloat(t.right)||0,0),s=parseFloat(t.paddingTop)+Math.max(parseFloat(t.top)||0,0),o=parseFloat(t.paddingBottom)+Math.max(parseFloat(t.bottom)||0,0);return{left:i,right:r,top:s,bottom:o,x:i+r,y:s+o}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}}setSize(){if(this.elementViewChild?.nativeElement){let t=this.elementViewChild.nativeElement.parentElement.parentElement,i=this._scrollWidth||`${this.elementViewChild.nativeElement.offsetWidth||t.offsetWidth}px`,r=this._scrollHeight||`${this.elementViewChild.nativeElement.offsetHeight||t.offsetHeight}px`,s=(o,a)=>this.elementViewChild.nativeElement.style[o]=a;this.both||this.horizontal?(s("height",r),s("width",i)):s("height",r)}}setSpacerSize(){if(this._scrollHeight!=="100%"&&this._items){let t=this.getContentPosition(),i=(r,s,o,a=0)=>this.spacerStyle=me(k({},this.spacerStyle),{[`${r}`]:(s||[]).length*o+a+"px"});this.both?(i("height",this._items,this._itemSize[0],t.y),i("width",this._columns||this._items[1],this._itemSize[1],t.x)):this.horizontal?i("width",this._columns||this._items,this._itemSize,t.x):i("height",this._items,this._itemSize,t.y)}}setContentPosition(t){if(this.contentEl&&!this._appendOnly){let i=t?t.first:this.first,r=(o,a)=>o*a,s=(o=0,a=0)=>this.contentStyle=me(k({},this.contentStyle),{transform:`translate3d(${o}px, ${a}px, 0)`});if(this.both)s(r(i.cols,this._itemSize[1]),r(i.rows,this._itemSize[0]));else{let o=r(i,this._itemSize);this.horizontal?s(o,0):s(0,o)}}}onScrollPositionChange(t){let i=t.target,r=this.getContentPosition(),s=(S,O)=>S?S>O?S-O:S:0,o=(S,O)=>O||S?Math.floor(S/(O||S)):0,a=(S,O,L,q,K,Te)=>S<=K?K:Te?L-q-K:O+K-1,l=(S,O,L,q,K,Te,X)=>S<=Te?0:Math.max(0,X?S<O?L:S-Te:S>O?L:S-2*Te),u=(S,O,L,q,K,Te=!1)=>{let X=O+q+2*K;return S>=K&&(X+=K+1),this.getLast(X,Te)},d=s(i.scrollTop,r.top),p=s(i.scrollLeft,r.left),m=this.both?{rows:0,cols:0}:0,y=this.last,v=!1,T=this.lastScrollPos;if(this.both){let S=this.lastScrollPos.top<=d,O=this.lastScrollPos.left<=p;if(!this._appendOnly||this._appendOnly&&(S||O)){let L={rows:o(d,this._itemSize[0]),cols:o(p,this._itemSize[1])},q={rows:a(L.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],S),cols:a(L.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)};m={rows:l(L.rows,q.rows,this.first.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0],S),cols:l(L.cols,q.cols,this.first.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],O)},y={rows:u(L.rows,m.rows,this.last.rows,this.numItemsInViewport.rows,this.d_numToleratedItems[0]),cols:u(L.cols,m.cols,this.last.cols,this.numItemsInViewport.cols,this.d_numToleratedItems[1],!0)},v=m.rows!==this.first.rows||y.rows!==this.last.rows||m.cols!==this.first.cols||y.cols!==this.last.cols||this.isRangeChanged,T={top:d,left:p}}}else{let S=this.horizontal?p:d,O=this.lastScrollPos<=S;if(!this._appendOnly||this._appendOnly&&O){let L=o(S,this._itemSize),q=a(L,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O);m=l(L,q,this.first,this.last,this.numItemsInViewport,this.d_numToleratedItems,O),y=u(L,m,this.last,this.numItemsInViewport,this.d_numToleratedItems),v=m!==this.first||y!==this.last||this.isRangeChanged,T=S}}return{first:m,last:y,isRangeChanged:v,scrollPos:T}}onScrollChange(t){let{first:i,last:r,isRangeChanged:s,scrollPos:o}=this.onScrollPositionChange(t);if(s){let a={first:i,last:r};if(this.setContentPosition(a),this.first=i,this.last=r,this.lastScrollPos=o,this.handleEvents("onScrollIndexChange",a),this._lazy&&this.isPageChanged(i)){let l={first:this._step?Math.min(this.getPageByFirst(i)*this._step,this.items.length-this._step):i,last:Math.min(this._step?(this.getPageByFirst(i)+1)*this._step:r,this.items.length)};(this.lazyLoadState.first!==l.first||this.lazyLoadState.last!==l.last)&&this.handleEvents("onLazyLoad",l),this.lazyLoadState=l}}}onContainerScroll(t){if(this.handleEvents("onScroll",{originalEvent:t}),this._delay&&this.isPageChanged()){if(this.scrollTimeout&&clearTimeout(this.scrollTimeout),!this.d_loading&&this.showLoader){let{isRangeChanged:i}=this.onScrollPositionChange(t);(i||(this._step?this.isPageChanged():!1))&&(this.d_loading=!0,this.cd.detectChanges())}this.scrollTimeout=setTimeout(()=>{this.onScrollChange(t),this.d_loading&&this.showLoader&&(!this._lazy||this._loading===void 0)&&(this.d_loading=!1,this.page=this.getPageByFirst(),this.cd.detectChanges())},this._delay)}else!this.d_loading&&this.onScrollChange(t)}bindResizeListener(){xn(this.platformId)&&(this.windowResizeListener||this.zone.runOutsideAngular(()=>{let t=this.document.defaultView,i=U.isTouchDevice()?"orientationchange":"resize";this.windowResizeListener=this.renderer.listen(t,i,this.onWindowResize.bind(this))}))}unbindResizeListener(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null)}onWindowResize(){this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{if(U.isVisible(this.elementViewChild?.nativeElement)){let[t,i]=[U.getWidth(this.elementViewChild?.nativeElement),U.getHeight(this.elementViewChild?.nativeElement)],[r,s]=[t!==this.defaultWidth,i!==this.defaultHeight];(this.both?r||s:this.horizontal?r:this.vertical?s:!1)&&this.zone.run(()=>{this.d_numToleratedItems=this._numToleratedItems,this.defaultWidth=t,this.defaultHeight=i,this.defaultContentWidth=U.getWidth(this.contentEl),this.defaultContentHeight=U.getHeight(this.contentEl),this.init(),this.calculateAutoSize()})}},this._resizeDelay)}handleEvents(t,i){return this.options&&this.options[t]?this.options[t](i):this[t].emit(i)}getContentOptions(){return{contentStyleClass:`p-scroller-content ${this.d_loading?"p-scroller-loading":""}`,items:this.loadedItems,getItemOptions:t=>this.getOptions(t),loading:this.d_loading,getLoaderOptions:(t,i)=>this.getLoaderOptions(t,i),itemSize:this._itemSize,rows:this.loadedRows,columns:this.loadedColumns,spacerStyle:this.spacerStyle,contentStyle:this.contentStyle,vertical:this.vertical,horizontal:this.horizontal,both:this.both}}getOptions(t){let i=(this._items||[]).length,r=this.both?this.first.rows+t:this.first+t;return{index:r,count:i,first:r===0,last:r===i-1,even:r%2===0,odd:r%2!==0}}getLoaderOptions(t,i){let r=this.loaderArr.length;return k({index:t,count:r,first:t===0,last:t===r-1,even:t%2===0,odd:t%2!==0},i)}static \u0275fac=function(i){return new(i||n)(V(rt),V(Tt),V(St),V(Ht),V(Ee))};static \u0275cmp=de({type:n,selectors:[["p-scroller"]],contentQueries:function(i,r,s){if(i&1&&vn(s,Ln,4),i&2){let o;tt(o=nt())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&($t(k6,5),$t(F6,5)),i&2){let s;tt(s=nt())&&(r.elementViewChild=s.first),tt(s=nt())&&(r.contentViewChild=s.first)}},hostAttrs:[1,"p-scroller-viewport","p-element"],inputs:{id:"id",style:"style",styleClass:"styleClass",tabindex:"tabindex",items:"items",itemSize:"itemSize",scrollHeight:"scrollHeight",scrollWidth:"scrollWidth",orientation:"orientation",step:"step",delay:"delay",resizeDelay:"resizeDelay",appendOnly:"appendOnly",inline:"inline",lazy:"lazy",disabled:"disabled",loaderDisabled:"loaderDisabled",columns:"columns",showSpacer:"showSpacer",showLoader:"showLoader",numToleratedItems:"numToleratedItems",loading:"loading",autoSize:"autoSize",trackBy:"trackBy",options:"options"},outputs:{onLazyLoad:"onLazyLoad",onScroll:"onScroll",onScrollIndexChange:"onScrollIndexChange"},features:[yn],ngContentSelectors:L6,decls:3,vars:2,consts:[["disabledContainer",""],["element",""],["buildInContent",""],["content",""],["buildInLoader",""],["buildInLoaderIcon",""],[4,"ngIf","ngIfElse"],[3,"scroll","ngStyle","ngClass"],["class","p-scroller-spacer",3,"ngStyle",4,"ngIf"],["class","p-scroller-loader",3,"ngClass",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-scroller-content",3,"ngClass","ngStyle"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-scroller-spacer",3,"ngStyle"],[1,"p-scroller-loader",3,"ngClass"],[4,"ngFor","ngForOf"],[3,"styleClass"],[4,"ngIf"]],template:function(i,r){if(i&1&&(_n(),W(0,r5,8,16,"ng-container",6)(1,a5,2,1,"ng-template",null,0,li)),i&2){let s=qn(2);x("ngIf",!r._disabled)("ngIfElse",s)}},dependencies:()=>[ci,_h,ui,hi,di,iu],styles:[`@layer primeng{p-scroller{flex:1;outline:0 none}.p-scroller{position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;outline:0 none}.p-scroller-content{position:absolute;top:0;left:0;min-height:100%;min-width:100%;will-change:transform}.p-scroller-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0;pointer-events:none}.p-scroller-loader{position:sticky;top:0;left:0;width:100%;height:100%}.p-scroller-loader.p-component-overlay{display:flex;align-items:center;justify-content:center}.p-scroller-loading-icon{scale:2}.p-scroller-inline .p-scroller-content{position:static}}
`],encapsulation:2})}return n})(),$0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn,hn,iu,hn]})}return n})();var FR=(()=>{class n{platformId;el;zone;config;renderer;viewContainer;tooltipPosition;tooltipEvent="hover";appendTo;positionStyle;tooltipStyleClass;tooltipZIndex;escape=!0;showDelay;hideDelay;life;positionTop;positionLeft;autoHide=!0;fitContent=!0;hideOnEscape=!0;content;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this.deactivate()}tooltipOptions;_tooltipOptions={tooltipLabel:null,tooltipPosition:"right",tooltipEvent:"hover",appendTo:"body",positionStyle:null,tooltipStyleClass:null,tooltipZIndex:"auto",escape:!0,disabled:null,showDelay:null,hideDelay:null,positionTop:null,positionLeft:null,life:null,autoHide:!0,hideOnEscape:!0,id:is()+"_tooltip"};_disabled;container;styleClass;tooltipText;showTimeout;hideTimeout;active;mouseEnterListener;mouseLeaveListener;containerMouseleaveListener;clickListener;focusListener;blurListener;scrollHandler;resizeListener;interactionInProgress=!1;constructor(t,i,r,s,o,a){this.platformId=t,this.el=i,this.zone=r,this.config=s,this.renderer=o,this.viewContainer=a}ngAfterViewInit(){xn(this.platformId)&&this.zone.runOutsideAngular(()=>{let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.mouseEnterListener=this.onMouseEnter.bind(this),this.mouseLeaveListener=this.onMouseLeave.bind(this),this.clickListener=this.onInputClick.bind(this),this.el.nativeElement.addEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.addEventListener("click",this.clickListener),this.el.nativeElement.addEventListener("mouseleave",this.mouseLeaveListener)),t==="focus"||t==="both"){this.focusListener=this.onFocus.bind(this),this.blurListener=this.onBlur.bind(this);let i=this.getTarget(this.el.nativeElement);i.addEventListener("focus",this.focusListener),i.addEventListener("blur",this.blurListener)}})}ngOnChanges(t){t.tooltipPosition&&this.setOption({tooltipPosition:t.tooltipPosition.currentValue}),t.tooltipEvent&&this.setOption({tooltipEvent:t.tooltipEvent.currentValue}),t.appendTo&&this.setOption({appendTo:t.appendTo.currentValue}),t.positionStyle&&this.setOption({positionStyle:t.positionStyle.currentValue}),t.tooltipStyleClass&&this.setOption({tooltipStyleClass:t.tooltipStyleClass.currentValue}),t.tooltipZIndex&&this.setOption({tooltipZIndex:t.tooltipZIndex.currentValue}),t.escape&&this.setOption({escape:t.escape.currentValue}),t.showDelay&&this.setOption({showDelay:t.showDelay.currentValue}),t.hideDelay&&this.setOption({hideDelay:t.hideDelay.currentValue}),t.life&&this.setOption({life:t.life.currentValue}),t.positionTop&&this.setOption({positionTop:t.positionTop.currentValue}),t.positionLeft&&this.setOption({positionLeft:t.positionLeft.currentValue}),t.disabled&&this.setOption({disabled:t.disabled.currentValue}),t.content&&(this.setOption({tooltipLabel:t.content.currentValue}),this.active&&(t.content.currentValue?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide())),t.autoHide&&this.setOption({autoHide:t.autoHide.currentValue}),t.id&&this.setOption({id:t.id.currentValue}),t.tooltipOptions&&(this._tooltipOptions=k(k({},this._tooltipOptions),t.tooltipOptions.currentValue),this.deactivate(),this.active&&(this.getOption("tooltipLabel")?this.container&&this.container.offsetParent?(this.updateText(),this.align()):this.show():this.hide()))}isAutoHide(){return this.getOption("autoHide")}onMouseEnter(t){!this.container&&!this.showTimeout&&this.activate()}onMouseLeave(t){this.isAutoHide()?this.deactivate():!(U.hasClass(t.relatedTarget,"p-tooltip")||U.hasClass(t.relatedTarget,"p-tooltip-text")||U.hasClass(t.relatedTarget,"p-tooltip-arrow"))&&this.deactivate()}onFocus(t){this.activate()}onBlur(t){this.deactivate()}onInputClick(t){this.deactivate()}onPressEscape(){this.hideOnEscape&&this.deactivate()}activate(){if(!this.interactionInProgress&&(this.active=!0,this.clearHideTimeout(),this.getOption("showDelay")?this.showTimeout=setTimeout(()=>{this.show()},this.getOption("showDelay")):this.show(),this.getOption("life"))){let t=this.getOption("showDelay")?this.getOption("life")+this.getOption("showDelay"):this.getOption("life");this.hideTimeout=setTimeout(()=>{this.hide()},t)}this.interactionInProgress=!0}deactivate(){this.interactionInProgress=!1,this.active=!1,this.clearShowTimeout(),this.getOption("hideDelay")?(this.clearHideTimeout(),this.hideTimeout=setTimeout(()=>{this.hide()},this.getOption("hideDelay"))):this.hide()}create(){this.container&&(this.clearHideTimeout(),this.remove()),this.container=document.createElement("div"),this.container.setAttribute("id",this.getOption("id")),this.container.setAttribute("role","tooltip");let t=document.createElement("div");t.className="p-tooltip-arrow",this.container.appendChild(t),this.tooltipText=document.createElement("div"),this.tooltipText.className="p-tooltip-text",this.updateText(),this.getOption("positionStyle")&&(this.container.style.position=this.getOption("positionStyle")),this.container.appendChild(this.tooltipText),this.getOption("appendTo")==="body"?document.body.appendChild(this.container):this.getOption("appendTo")==="target"?U.appendChild(this.container,this.el.nativeElement):U.appendChild(this.container,this.getOption("appendTo")),this.container.style.display="inline-block",this.fitContent&&(this.container.style.width="fit-content"),this.isAutoHide()?this.container.style.pointerEvents="none":(this.container.style.pointerEvents="unset",this.bindContainerMouseleaveListener())}bindContainerMouseleaveListener(){if(!this.containerMouseleaveListener){let t=this.container??this.container.nativeElement;this.containerMouseleaveListener=this.renderer.listen(t,"mouseleave",i=>{this.deactivate()})}}unbindContainerMouseleaveListener(){this.containerMouseleaveListener&&(this.bindContainerMouseleaveListener(),this.containerMouseleaveListener=null)}show(){if(!this.getOption("tooltipLabel")||this.getOption("disabled"))return;this.create(),this.el.nativeElement.closest("p-dialog")?setTimeout(()=>{this.container&&this.align()},100):this.align(),U.fadeIn(this.container,250),this.getOption("tooltipZIndex")==="auto"?rs.set("tooltip",this.container,this.config.zIndex.tooltip):this.container.style.zIndex=this.getOption("tooltipZIndex"),this.bindDocumentResizeListener(),this.bindScrollListener()}hide(){this.getOption("tooltipZIndex")==="auto"&&rs.clear(this.container),this.remove()}updateText(){let t=this.getOption("tooltipLabel");if(t instanceof ii){let i=this.viewContainer.createEmbeddedView(t);i.detectChanges(),i.rootNodes.forEach(r=>this.tooltipText.appendChild(r))}else this.getOption("escape")?(this.tooltipText.innerHTML="",this.tooltipText.appendChild(document.createTextNode(t))):this.tooltipText.innerHTML=t}align(){switch(this.getOption("tooltipPosition")){case"top":this.alignTop(),this.isOutOfBounds()&&(this.alignBottom(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"bottom":this.alignBottom(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&this.alignLeft()));break;case"left":this.alignLeft(),this.isOutOfBounds()&&(this.alignRight(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break;case"right":this.alignRight(),this.isOutOfBounds()&&(this.alignLeft(),this.isOutOfBounds()&&(this.alignTop(),this.isOutOfBounds()&&this.alignBottom()));break}}getHostOffset(){if(this.getOption("appendTo")==="body"||this.getOption("appendTo")==="target"){let t=this.el.nativeElement.getBoundingClientRect(),i=t.left+U.getWindowScrollLeft(),r=t.top+U.getWindowScrollTop();return{left:i,top:r}}else return{left:0,top:0}}alignRight(){this.preAlign("right");let t=this.activeElement,i=this.getHostOffset(),r=i.left+U.getOuterWidth(t),s=i.top+(U.getOuterHeight(t)-U.getOuterHeight(this.container))/2;this.container.style.left=r+this.getOption("positionLeft")+"px",this.container.style.top=s+this.getOption("positionTop")+"px"}get activeElement(){return this.el.nativeElement.nodeName.includes("P-")?U.findSingle(this.el.nativeElement,".p-component")||this.el.nativeElement:this.el.nativeElement}alignLeft(){this.preAlign("left");let t=this.getHostOffset(),i=t.left-U.getOuterWidth(this.container),r=t.top+(U.getOuterHeight(this.el.nativeElement)-U.getOuterHeight(this.container))/2;this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignTop(){this.preAlign("top");let t=this.getHostOffset(),i=t.left+(U.getOuterWidth(this.el.nativeElement)-U.getOuterWidth(this.container))/2,r=t.top-U.getOuterHeight(this.container);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}alignBottom(){this.preAlign("bottom");let t=this.getHostOffset(),i=t.left+(U.getOuterWidth(this.el.nativeElement)-U.getOuterWidth(this.container))/2,r=t.top+U.getOuterHeight(this.el.nativeElement);this.container.style.left=i+this.getOption("positionLeft")+"px",this.container.style.top=r+this.getOption("positionTop")+"px"}setOption(t){this._tooltipOptions=k(k({},this._tooltipOptions),t)}getOption(t){return this._tooltipOptions[t]}getTarget(t){return U.hasClass(t,"p-inputwrapper")?U.findSingle(t,"input"):t.querySelector(".p-component")||t}preAlign(t){this.container.style.left="-999px",this.container.style.top="-999px";let i="p-tooltip p-component p-tooltip-"+t;this.container.className=this.getOption("tooltipStyleClass")?i+" "+this.getOption("tooltipStyleClass"):i}isOutOfBounds(){let t=this.container.getBoundingClientRect(),i=t.top,r=t.left,s=U.getOuterWidth(this.container),o=U.getOuterHeight(this.container),a=U.getViewport();return r+s>a.width||r<0||i<0||i+o>a.height}onWindowResize(t){this.hide()}bindDocumentResizeListener(){this.zone.runOutsideAngular(()=>{this.resizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.resizeListener)})}unbindDocumentResizeListener(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Ha(this.el.nativeElement,()=>{this.container&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unbindEvents(){let t=this.getOption("tooltipEvent");if((t==="hover"||t==="both")&&(this.el.nativeElement.removeEventListener("mouseenter",this.mouseEnterListener),this.el.nativeElement.removeEventListener("mouseleave",this.mouseLeaveListener),this.el.nativeElement.removeEventListener("click",this.clickListener)),t==="focus"||t==="both"){let i=this.getTarget(this.el.nativeElement);i.removeEventListener("focus",this.focusListener),i.removeEventListener("blur",this.blurListener)}this.unbindDocumentResizeListener()}remove(){this.container&&this.container.parentElement&&(this.getOption("appendTo")==="body"?document.body.removeChild(this.container):this.getOption("appendTo")==="target"?this.el.nativeElement.removeChild(this.container):U.removeChild(this.container,this.getOption("appendTo"))),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.unbindContainerMouseleaveListener(),this.clearTimeouts(),this.container=null,this.scrollHandler=null}clearShowTimeout(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=null)}clearHideTimeout(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout()}ngOnDestroy(){this.unbindEvents(),this.container&&rs.clear(this.container),this.remove(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null)}static \u0275fac=function(i){return new(i||n)(V(Tt),V(We),V(Ee),V(Hi),V(St),V(si))};static \u0275dir=Ue({type:n,selectors:[["","pTooltip",""]],hostAttrs:[1,"p-element"],hostBindings:function(i,r){i&1&&Re("keydown.escape",function(o){return r.onPressEscape(o)},!1,JT)},inputs:{tooltipPosition:"tooltipPosition",tooltipEvent:"tooltipEvent",appendTo:"appendTo",positionStyle:"positionStyle",tooltipStyleClass:"tooltipStyleClass",tooltipZIndex:"tooltipZIndex",escape:[2,"escape","escape",ae],showDelay:[2,"showDelay","showDelay",In],hideDelay:[2,"hideDelay","hideDelay",In],life:[2,"life","life",In],positionTop:[2,"positionTop","positionTop",In],positionLeft:[2,"positionLeft","positionLeft",In],autoHide:[2,"autoHide","autoHide",ae],fitContent:[2,"fitContent","fitContent",ae],hideOnEscape:[2,"hideOnEscape","hideOnEscape",ae],content:[0,"pTooltip","content"],disabled:[0,"tooltipDisabled","disabled"],tooltipOptions:"tooltipOptions"},features:[un,yn]})}return n})(),ru=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn]})}return n})();var H0=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"path",1),G()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var z0=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"path",1),G()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var q0=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["BlankIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:0,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg","v-bind","pti()"],["width","1","height","1","fill","currentColor","fill-opacity","0"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"rect",1),G())},encapsulation:2})}return n})();var G0=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["ChevronDownIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z","fill","currentColor"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"path",1),G()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var W0=(()=>{class n extends rn{pathId;ngOnInit(){this.pathId="url(#"+is()+")"}static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["SearchIcon"]],standalone:!0,features:[Ze,ke],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0)(1,"g"),fe(2,"path",1),G(),z(3,"defs")(4,"clipPath",2),fe(5,"rect",3),G()()()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),N(),oe("clip-path",r.pathId),N(3),x("id",r.pathId))},encapsulation:2})}return n})();var su=n=>({height:n}),u5=(n,e,t)=>({"p-dropdown-item":!0,"p-highlight":n,"p-disabled":e,"p-focus":t}),K0=n=>({$implicit:n});function d5(n,e){n&1&&fe(0,"CheckIcon",4),n&2&&x("styleClass","p-dropdown-check-icon")}function h5(n,e){n&1&&fe(0,"BlankIcon",4),n&2&&x("styleClass","p-dropdown-blank-icon")}function f5(n,e){if(n&1&&(Ke(0),W(1,d5,1,1,"CheckIcon",3)(2,h5,1,1,"BlankIcon",3),Qe()),n&2){let t=P();N(),x("ngIf",t.selected),N(),x("ngIf",!t.selected)}}function p5(n,e){if(n&1&&(z(0,"span"),Nt(1),G()),n&2){let t,i=P();N(),Gn((t=i.label)!==null&&t!==void 0?t:"empty")}}function m5(n,e){n&1&&qe(0)}var g5=["container"],y5=["filter"],_5=["focusInput"],v5=["editableInput"],I5=["items"],w5=["scroller"],E5=["overlay"],b5=["firstHiddenFocusableEl"],C5=["lastHiddenFocusableEl"],T5=n=>({"max-height":n}),LR=n=>({options:n}),S5=n=>({"p-variant-filled":n}),VR=(n,e)=>({$implicit:n,options:e}),D5=()=>({});function A5(n,e){if(n&1&&(Ke(0),Nt(1),Qe()),n&2){let t=P(2);N(),Gn(t.label()==="p-emptylabel"?"\xA0":t.label())}}function x5(n,e){if(n&1&&qe(0,25),n&2){let t=P(2);x("ngTemplateOutlet",t.selectedItemTemplate)("ngTemplateOutletContext",it(2,K0,t.selectedOption))}}function M5(n,e){if(n&1&&(z(0,"span"),Nt(1),G()),n&2){let t=P(3);N(),Gn(t.label()==="p-emptylabel"?"\xA0":t.label())}}function R5(n,e){if(n&1&&W(0,M5,2,1,"span",18),n&2){let t=P(2);x("ngIf",t.isSelectedOptionEmpty())}}function O5(n,e){if(n&1){let t=_t();z(0,"span",23,3),Re("focus",function(r){xe(t);let s=P();return Me(s.onInputFocus(r))})("blur",function(r){xe(t);let s=P();return Me(s.onInputBlur(r))})("keydown",function(r){xe(t);let s=P();return Me(s.onKeyDown(r))}),W(2,A5,2,1,"ng-container",20)(3,x5,1,4,"ng-container",24)(4,R5,1,1,"ng-template",null,4,li),G()}if(n&2){let t,i=qn(5),r=P();x("ngClass",r.inputClass)("pTooltip",r.tooltip)("tooltipPosition",r.tooltipPosition)("positionStyle",r.tooltipPositionStyle)("tooltipStyleClass",r.tooltipStyleClass)("autofocus",r.autofocus),oe("aria-disabled",r.disabled)("id",r.inputId)("aria-label",r.ariaLabel||(r.label()==="p-emptylabel"?void 0:r.label()))("aria-labelledby",r.ariaLabelledBy)("aria-haspopup","listbox")("aria-expanded",(t=r.overlayVisible)!==null&&t!==void 0?t:!1)("aria-controls",r.overlayVisible?r.id+"_list":null)("tabindex",r.disabled?-1:r.tabindex)("aria-activedescendant",r.focused?r.focusedOptionId:void 0)("aria-required",r.required)("required",r.required),N(2),x("ngIf",!r.selectedItemTemplate)("ngIfElse",i),N(),x("ngIf",r.selectedItemTemplate&&!r.isSelectedOptionEmpty())}}function N5(n,e){if(n&1){let t=_t();z(0,"input",26,5),Re("input",function(r){xe(t);let s=P();return Me(s.onEditableInput(r))})("keydown",function(r){xe(t);let s=P();return Me(s.onKeyDown(r))})("focus",function(r){xe(t);let s=P();return Me(s.onInputFocus(r))})("blur",function(r){xe(t);let s=P();return Me(s.onInputBlur(r))}),G()}if(n&2){let t=P();x("ngClass",t.inputClass)("disabled",t.disabled)("autofocus",t.autofocus),oe("id",t.inputId)("maxlength",t.maxlength)("placeholder",t.modelValue()===void 0||t.modelValue()===null?t.placeholder():void 0)("aria-label",t.ariaLabel||(t.label()==="p-emptylabel"?void 0:t.label()))("aria-activedescendant",t.focused?t.focusedOptionId:void 0)}}function P5(n,e){if(n&1){let t=_t();z(0,"TimesIcon",29),Re("click",function(r){xe(t);let s=P(2);return Me(s.clear(r))}),G()}n&2&&(x("styleClass","p-dropdown-clear-icon"),oe("data-pc-section","clearicon"))}function k5(n,e){}function F5(n,e){n&1&&W(0,k5,0,0,"ng-template")}function L5(n,e){if(n&1){let t=_t();z(0,"span",30),Re("click",function(r){xe(t);let s=P(2);return Me(s.clear(r))}),W(1,F5,1,0,null,31),G()}if(n&2){let t=P(2);oe("data-pc-section","clearicon"),N(),x("ngTemplateOutlet",t.clearIconTemplate)}}function V5(n,e){if(n&1&&(Ke(0),W(1,P5,1,2,"TimesIcon",27)(2,L5,2,2,"span",28),Qe()),n&2){let t=P();N(),x("ngIf",!t.clearIconTemplate),N(),x("ngIf",t.clearIconTemplate)}}function U5(n,e){n&1&&qe(0)}function j5(n,e){if(n&1&&(Ke(0),W(1,U5,1,0,"ng-container",31),Qe()),n&2){let t=P(2);N(),x("ngTemplateOutlet",t.loadingIconTemplate)}}function B5(n,e){if(n&1&&fe(0,"span",34),n&2){let t=P(3);x("ngClass","p-dropdown-trigger-icon pi-spin "+t.loadingIcon)}}function $5(n,e){n&1&&fe(0,"span",35),n&2&&Je("p-dropdown-trigger-icon pi pi-spinner pi-spin")}function H5(n,e){if(n&1&&(Ke(0),W(1,B5,1,1,"span",32)(2,$5,1,2,"span",33),Qe()),n&2){let t=P(2);N(),x("ngIf",t.loadingIcon),N(),x("ngIf",!t.loadingIcon)}}function z5(n,e){if(n&1&&(Ke(0),W(1,j5,2,1,"ng-container",18)(2,H5,3,2,"ng-container",18),Qe()),n&2){let t=P();N(),x("ngIf",t.loadingIconTemplate),N(),x("ngIf",!t.loadingIconTemplate)}}function q5(n,e){if(n&1&&fe(0,"span",39),n&2){let t=P(3);x("ngClass",t.dropdownIcon)}}function G5(n,e){n&1&&fe(0,"ChevronDownIcon",40),n&2&&x("styleClass","p-dropdown-trigger-icon")}function W5(n,e){if(n&1&&(Ke(0),W(1,q5,1,1,"span",37)(2,G5,1,1,"ChevronDownIcon",38),Qe()),n&2){let t=P(2);N(),x("ngIf",t.dropdownIcon),N(),x("ngIf",!t.dropdownIcon)}}function K5(n,e){}function Q5(n,e){n&1&&W(0,K5,0,0,"ng-template")}function Y5(n,e){if(n&1&&(z(0,"span",41),W(1,Q5,1,0,null,31),G()),n&2){let t=P(2);N(),x("ngTemplateOutlet",t.dropdownIconTemplate)}}function Z5(n,e){if(n&1&&W(0,W5,3,2,"ng-container",18)(1,Y5,2,1,"span",36),n&2){let t=P();x("ngIf",!t.dropdownIconTemplate),N(),x("ngIf",t.dropdownIconTemplate)}}function J5(n,e){n&1&&qe(0)}function X5(n,e){n&1&&qe(0)}function e9(n,e){if(n&1&&(Ke(0),W(1,X5,1,0,"ng-container",48),Qe()),n&2){let t=P(3);N(),x("ngTemplateOutlet",t.filterTemplate)("ngTemplateOutletContext",it(2,LR,t.filterOptions))}}function t9(n,e){n&1&&fe(0,"SearchIcon",40),n&2&&x("styleClass","p-dropdown-filter-icon")}function n9(n,e){}function i9(n,e){n&1&&W(0,n9,0,0,"ng-template")}function r9(n,e){if(n&1&&(z(0,"span",52),W(1,i9,1,0,null,31),G()),n&2){let t=P(4);N(),x("ngTemplateOutlet",t.filterIconTemplate)}}function s9(n,e){if(n&1){let t=_t();z(0,"div",49)(1,"input",50,10),Re("input",function(r){xe(t);let s=P(3);return Me(s.onFilterInputChange(r))})("keydown",function(r){xe(t);let s=P(3);return Me(s.onFilterKeyDown(r))})("blur",function(r){xe(t);let s=P(3);return Me(s.onFilterBlur(r))}),G(),W(3,t9,1,1,"SearchIcon",38)(4,r9,2,1,"span",51),G()}if(n&2){let t=P(3);N(),x("value",t._filterValue()||"")("ngClass",it(8,S5,t.variant==="filled"||t.config.inputStyle()==="filled")),oe("placeholder",t.filterPlaceholder)("aria-owns",t.id+"_list")("aria-label",t.ariaFilterLabel)("aria-activedescendant",t.focusedOptionId),N(2),x("ngIf",!t.filterIconTemplate),N(),x("ngIf",t.filterIconTemplate)}}function o9(n,e){if(n&1){let t=_t();z(0,"div",47),Re("click",function(r){return xe(t),Me(r.stopPropagation())}),W(1,e9,2,4,"ng-container",20)(2,s9,5,10,"ng-template",null,9,li),G()}if(n&2){let t=qn(3),i=P(2);N(),x("ngIf",i.filterTemplate)("ngIfElse",t)}}function a9(n,e){n&1&&qe(0)}function l9(n,e){if(n&1&&W(0,a9,1,0,"ng-container",48),n&2){let t=e.$implicit,i=e.options;P(2);let r=qn(9);x("ngTemplateOutlet",r)("ngTemplateOutletContext",tr(2,VR,t,i))}}function c9(n,e){n&1&&qe(0)}function u9(n,e){if(n&1&&W(0,c9,1,0,"ng-container",48),n&2){let t=e.options,i=P(4);x("ngTemplateOutlet",i.loaderTemplate)("ngTemplateOutletContext",it(2,LR,t))}}function d9(n,e){n&1&&(Ke(0),W(1,u9,1,4,"ng-template",54),Qe())}function h9(n,e){if(n&1){let t=_t();z(0,"p-scroller",53,11),Re("onLazyLoad",function(r){xe(t);let s=P(2);return Me(s.onLazyLoad.emit(r))}),W(2,l9,1,5,"ng-template",22)(3,d9,2,0,"ng-container",18),G()}if(n&2){let t=P(2);oh(it(8,su,t.scrollHeight)),x("items",t.visibleOptions())("itemSize",t.virtualScrollItemSize||t._itemSize)("autoSize",!0)("lazy",t.lazy)("options",t.virtualScrollOptions),N(3),x("ngIf",t.loaderTemplate)}}function f9(n,e){n&1&&qe(0)}function p9(n,e){if(n&1&&(Ke(0),W(1,f9,1,0,"ng-container",48),Qe()),n&2){P();let t=qn(9),i=P();N(),x("ngTemplateOutlet",t)("ngTemplateOutletContext",tr(3,VR,i.visibleOptions(),As(2,D5)))}}function m9(n,e){if(n&1&&(z(0,"span"),Nt(1),G()),n&2){let t=P(2).$implicit,i=P(3);N(),Gn(i.getOptionGroupLabel(t.optionGroup))}}function g9(n,e){n&1&&qe(0)}function y9(n,e){if(n&1&&(Ke(0),z(1,"li",58),W(2,m9,2,1,"span",18)(3,g9,1,0,"ng-container",48),G(),Qe()),n&2){let t=P(),i=t.$implicit,r=t.index,s=P().options,o=P(2);N(),x("ngStyle",it(5,su,s.itemSize+"px")),oe("id",o.id+"_"+o.getOptionIndex(r,s)),N(),x("ngIf",!o.groupTemplate),N(),x("ngTemplateOutlet",o.groupTemplate)("ngTemplateOutletContext",it(7,K0,i.optionGroup))}}function _9(n,e){if(n&1){let t=_t();Ke(0),z(1,"p-dropdownItem",59),Re("onClick",function(r){xe(t);let s=P().$implicit,o=P(3);return Me(o.onOptionSelect(r,s))})("onMouseEnter",function(r){xe(t);let s=P().index,o=P().options,a=P(2);return Me(a.onOptionMouseEnter(r,a.getOptionIndex(s,o)))}),G(),Qe()}if(n&2){let t=P(),i=t.$implicit,r=t.index,s=P().options,o=P(2);N(),x("id",o.id+"_"+o.getOptionIndex(r,s))("option",i)("checkmark",o.checkmark)("selected",o.isSelected(i))("label",o.getOptionLabel(i))("disabled",o.isOptionDisabled(i))("template",o.itemTemplate)("focused",o.focusedOptionIndex()===o.getOptionIndex(r,s))("ariaPosInset",o.getAriaPosInset(o.getOptionIndex(r,s)))("ariaSetSize",o.ariaSetSize)}}function v9(n,e){if(n&1&&W(0,y9,4,9,"ng-container",18)(1,_9,2,10,"ng-container",18),n&2){let t=e.$implicit,i=P(3);x("ngIf",i.isOptionGroup(t)),N(),x("ngIf",!i.isOptionGroup(t))}}function I9(n,e){if(n&1&&(Ke(0),Nt(1),Qe()),n&2){let t=P(4);N(),er(" ",t.emptyFilterMessageLabel," ")}}function w9(n,e){n&1&&qe(0,null,13)}function E9(n,e){if(n&1&&(z(0,"li",60),W(1,I9,2,1,"ng-container",20)(2,w9,2,0,"ng-container",31),G()),n&2){let t=P().options,i=P(2);x("ngStyle",it(4,su,t.itemSize+"px")),N(),x("ngIf",!i.emptyFilterTemplate&&!i.emptyTemplate)("ngIfElse",i.emptyFilter),N(),x("ngTemplateOutlet",i.emptyFilterTemplate||i.emptyTemplate)}}function b9(n,e){if(n&1&&(Ke(0),Nt(1),Qe()),n&2){let t=P(4);N(),er(" ",t.emptyMessageLabel," ")}}function C9(n,e){n&1&&qe(0,null,14)}function T9(n,e){if(n&1&&(z(0,"li",60),W(1,b9,2,1,"ng-container",20)(2,C9,2,0,"ng-container",31),G()),n&2){let t=P().options,i=P(2);x("ngStyle",it(4,su,t.itemSize+"px")),N(),x("ngIf",!i.emptyTemplate)("ngIfElse",i.empty),N(),x("ngTemplateOutlet",i.emptyTemplate)}}function S9(n,e){if(n&1&&(z(0,"ul",55,12),W(2,v9,2,2,"ng-template",56)(3,E9,3,6,"li",57)(4,T9,3,6,"li",57),G()),n&2){let t=e.$implicit,i=e.options,r=P(2);x("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),oe("id",r.id+"_list")("aria-label",r.listLabel),N(2),x("ngForOf",t),N(),x("ngIf",r.filterValue&&r.isEmpty()),N(),x("ngIf",!r.filterValue&&r.isEmpty())}}function D9(n,e){n&1&&qe(0)}function A9(n,e){if(n&1){let t=_t();z(0,"div",42)(1,"span",43,6),Re("focus",function(r){xe(t);let s=P();return Me(s.onFirstHiddenFocus(r))}),G(),W(3,J5,1,0,"ng-container",31)(4,o9,4,2,"div",44),z(5,"div",45),W(6,h9,4,10,"p-scroller",46)(7,p9,2,6,"ng-container",18)(8,S9,5,7,"ng-template",null,7,li),G(),W(10,D9,1,0,"ng-container",31),z(11,"span",43,8),Re("focus",function(r){xe(t);let s=P();return Me(s.onLastHiddenFocus(r))}),G()()}if(n&2){let t=P();Je(t.panelStyleClass),x("ngClass","p-dropdown-panel p-component")("ngStyle",t.panelStyle),N(),oe("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0),N(2),x("ngTemplateOutlet",t.headerTemplate),N(),x("ngIf",t.filter),N(),x("ngStyle",it(16,T5,t.virtualScroll?"auto":t.scrollHeight||"auto")),N(),x("ngIf",t.virtualScroll),N(),x("ngIf",!t.virtualScroll),N(3),x("ngTemplateOutlet",t.footerTemplate),N(),oe("tabindex",0)("data-p-hidden-accessible",!0)("data-p-hidden-focusable",!0)}}var x9={provide:io,useExisting:Dn(()=>Q0),multi:!0},M9=(()=>{class n{id;option;selected;focused;label;disabled;visible;itemSize;ariaPosInset;ariaSetSize;template;checkmark;onClick=new se;onMouseEnter=new se;ngOnInit(){}onOptionClick(t){this.onClick.emit(t)}onOptionMouseEnter(t){this.onMouseEnter.emit(t)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=de({type:n,selectors:[["p-dropdownItem"]],hostAttrs:[1,"p-element"],inputs:{id:"id",option:"option",selected:[2,"selected","selected",ae],focused:[2,"focused","focused",ae],label:"label",disabled:[2,"disabled","disabled",ae],visible:[2,"visible","visible",ae],itemSize:[2,"itemSize","itemSize",In],ariaPosInset:"ariaPosInset",ariaSetSize:"ariaSetSize",template:"template",checkmark:[2,"checkmark","checkmark",ae]},outputs:{onClick:"onClick",onMouseEnter:"onMouseEnter"},features:[un],decls:4,vars:22,consts:[["role","option","pRipple","",3,"click","mouseenter","id","ngStyle","ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(i,r){i&1&&(z(0,"li",0),Re("click",function(o){return r.onOptionClick(o)})("mouseenter",function(o){return r.onOptionMouseEnter(o)}),W(1,f5,3,2,"ng-container",1)(2,p5,2,1,"span",1)(3,m5,1,0,"ng-container",2),G()),i&2&&(x("id",r.id)("ngStyle",it(14,su,r.itemSize+"px"))("ngClass",Ko(16,u5,r.selected,r.disabled,r.focused)),oe("aria-label",r.label)("aria-setsize",r.ariaSetSize)("aria-posinset",r.ariaPosInset)("aria-selected",r.selected)("data-p-focused",r.focused)("data-p-highlight",r.selected)("data-p-disabled",r.disabled),N(),x("ngIf",r.checkmark),N(),x("ngIf",!r.template),N(),x("ngTemplateOutlet",r.template)("ngTemplateOutletContext",it(20,K0,r.option)))},dependencies:()=>[ci,ui,hi,di,Mp,q0,z0],encapsulation:2})}return n})(),Q0=(()=>{class n{el;renderer;cd;zone;filterService;config;id;scrollHeight="200px";filter;name;style;panelStyle;styleClass;panelStyleClass;readonly;required;editable;appendTo;tabindex=0;set placeholder(t){this._placeholder.set(t)}get placeholder(){return this._placeholder.asReadonly()}loadingIcon;filterPlaceholder;filterLocale;variant="outlined";inputId;dataKey;filterBy;filterFields;autofocus;resetFilterOnHide=!1;checkmark=!1;dropdownIcon;loading=!1;optionLabel;optionValue;optionDisabled;optionGroupLabel="label";optionGroupChildren="items";autoDisplayFirst=!0;group;showClear;emptyFilterMessage="";emptyMessage="";lazy=!1;virtualScroll;virtualScrollItemSize;virtualScrollOptions;overlayOptions;ariaFilterLabel;ariaLabel;ariaLabelledBy;filterMatchMode="contains";maxlength;tooltip="";tooltipPosition="right";tooltipPositionStyle="absolute";tooltipStyleClass;focusOnHover=!1;selectOnFocus=!1;autoOptionFocus=!0;autofocusFilter=!0;get disabled(){return this._disabled}set disabled(t){t&&(this.focused=!1,this.overlayVisible&&this.hide()),this._disabled=t,this.cd.destroyed||this.cd.detectChanges()}get itemSize(){return this._itemSize}set itemSize(t){this._itemSize=t,console.warn("The itemSize property is deprecated, use virtualScrollItemSize property instead.")}_itemSize;get autoZIndex(){return this._autoZIndex}set autoZIndex(t){this._autoZIndex=t,console.warn("The autoZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_autoZIndex;get baseZIndex(){return this._baseZIndex}set baseZIndex(t){this._baseZIndex=t,console.warn("The baseZIndex property is deprecated since v14.2.0, use overlayOptions property instead.")}_baseZIndex;get showTransitionOptions(){return this._showTransitionOptions}set showTransitionOptions(t){this._showTransitionOptions=t,console.warn("The showTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_showTransitionOptions;get hideTransitionOptions(){return this._hideTransitionOptions}set hideTransitionOptions(t){this._hideTransitionOptions=t,console.warn("The hideTransitionOptions property is deprecated since v14.2.0, use overlayOptions property instead.")}_hideTransitionOptions;get filterValue(){return this._filterValue()}set filterValue(t){setTimeout(()=>{this._filterValue.set(t)})}get options(){return this._options()}set options(t){Ie.deepEquals(t,this._options())||this._options.set(t)}onChange=new se;onFilter=new se;onFocus=new se;onBlur=new se;onClick=new se;onShow=new se;onHide=new se;onClear=new se;onLazyLoad=new se;containerViewChild;filterViewChild;focusInputViewChild;editableInputViewChild;itemsViewChild;scroller;overlayViewChild;firstHiddenFocusableElementOnOverlay;lastHiddenFocusableElementOnOverlay;templates;_disabled;itemsWrapper;itemTemplate;groupTemplate;loaderTemplate;selectedItemTemplate;headerTemplate;filterTemplate;footerTemplate;emptyFilterTemplate;emptyTemplate;dropdownIconTemplate;loadingIconTemplate;clearIconTemplate;filterIconTemplate;filterOptions;_options=Bt(null);_placeholder=Bt(void 0);modelValue=Bt(null);value;onModelChange=()=>{};onModelTouched=()=>{};hover;focused;overlayVisible;optionsChanged;panel;dimensionsUpdated;hoveredItem;selectedOptionUpdated;_filterValue=Bt(null);searchValue;searchIndex;searchTimeout;previousSearchChar;currentSearchChar;preventModelTouched;focusedOptionIndex=Bt(-1);labelId;listId;clicked=Bt(!1);get emptyMessageLabel(){return this.emptyMessage||this.config.getTranslation(Ap.EMPTY_MESSAGE)}get emptyFilterMessageLabel(){return this.emptyFilterMessage||this.config.getTranslation(Ap.EMPTY_FILTER_MESSAGE)}get isVisibleClearIcon(){return this.modelValue()!=null&&this.hasSelectedOption()&&this.showClear&&!this.disabled}get listLabel(){return this.config.getTranslation(Ap.ARIA).listLabel}get containerClass(){return{"p-dropdown p-component p-inputwrapper":!0,"p-disabled":this.disabled,"p-dropdown-clearable":this.showClear&&!this.disabled,"p-focus":this.focused,"p-inputwrapper-filled":this.modelValue()!==void 0&&this.modelValue()!==null&&!this.modelValue().length,"p-inputwrapper-focus":this.focused||this.overlayVisible,"p-variant-filled":this.variant==="filled"||this.config.inputStyle()==="filled","p-dropdown-open":this.overlayVisible}}get inputClass(){let t=this.label();return{"p-dropdown-label p-inputtext":!0,"p-placeholder":this.placeholder()&&t===this.placeholder(),"p-dropdown-label-empty":!this.editable&&!this.selectedItemTemplate&&(t==null||t==="p-emptylabel"||t.length===0)}}get panelClass(){return{"p-dropdown-panel p-component":!0,"p-input-filled":this.config.inputStyle()==="filled","p-ripple-disabled":this.config.ripple===!1}}get focusedOptionId(){return this.focusedOptionIndex()!==-1?`${this.id}_${this.focusedOptionIndex()}`:null}visibleOptions=Mi(()=>{let t=this.getAllVisibleAndNonVisibleOptions();if(this._filterValue()){let r=!(this.filterBy||this.optionLabel)&&!this.filterFields&&!this.optionValue?this.options.filter(s=>s.label?s.label.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1:s.toString().toLowerCase().indexOf(this._filterValue().toLowerCase().trim())!==-1):this.filterService.filter(t,this.searchFields(),this._filterValue().trim(),this.filterMatchMode,this.filterLocale);if(this.group){let s=this.options||[],o=[];return s.forEach(a=>{let u=this.getOptionGroupChildren(a).filter(d=>r.includes(d));u.length>0&&o.push(me(k({},a),{[typeof this.optionGroupChildren=="string"?this.optionGroupChildren:"items"]:[...u]}))}),this.flatOptions(o)}return r}return t});label=Mi(()=>{let t=this.getAllVisibleAndNonVisibleOptions(),i=t.findIndex(r=>this.isOptionValueEqualsModelValue(r));return i!==-1?this.getOptionLabel(t[i]):this.placeholder()||"p-emptylabel"});filled=Mi(()=>typeof this.modelValue()=="string"?!!this.modelValue():this.label()!=="p-emptylabel"&&this.modelValue()!==void 0&&this.modelValue()!==null);selectedOption;editableInputValue=Mi(()=>this.getOptionLabel(this.selectedOption)||this.modelValue()||"");constructor(t,i,r,s,o,a){this.el=t,this.renderer=i,this.cd=r,this.zone=s,this.filterService=o,this.config=a,qy(()=>{let l=this.modelValue(),u=this.visibleOptions();if(u&&Ie.isNotEmpty(u)){let d=this.findSelectedOptionIndex();(d!==-1||l===void 0||typeof l=="string"&&l.length===0||this.isModelValueNotSet()||this.editable)&&(this.selectedOption=u[d])}Ie.isEmpty(u)&&(l===void 0||this.isModelValueNotSet())&&Ie.isNotEmpty(this.selectedOption)&&(this.selectedOption=null),l!==void 0&&this.editable&&this.updateEditableLabel(),this.cd.markForCheck()})}isModelValueNotSet(){return this.modelValue()===null&&!this.isOptionValueEqualsModelValue(this.selectedOption)}getAllVisibleAndNonVisibleOptions(){return this.group?this.flatOptions(this.options):this.options||[]}ngOnInit(){this.id=this.id||is(),this.autoUpdateModel(),this.filterBy&&(this.filterOptions={filter:t=>this.onFilterInputChange(t),reset:()=>this.resetFilter()})}ngAfterViewChecked(){if(this.optionsChanged&&this.overlayVisible&&(this.optionsChanged=!1,this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.overlayViewChild&&this.overlayViewChild.alignOverlay()},1)})),this.selectedOptionUpdated&&this.itemsWrapper){let t=U.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,"li.p-highlight");t&&U.scrollInView(this.itemsWrapper,t),this.selectedOptionUpdated=!1}}ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"item":this.itemTemplate=t.template;break;case"selectedItem":this.selectedItemTemplate=t.template;break;case"header":this.headerTemplate=t.template;break;case"filter":this.filterTemplate=t.template;break;case"footer":this.footerTemplate=t.template;break;case"emptyfilter":this.emptyFilterTemplate=t.template;break;case"empty":this.emptyTemplate=t.template;break;case"group":this.groupTemplate=t.template;break;case"loader":this.loaderTemplate=t.template;break;case"dropdownicon":this.dropdownIconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;case"clearicon":this.clearIconTemplate=t.template;break;case"filtericon":this.filterIconTemplate=t.template;break;default:this.itemTemplate=t.template;break}})}flatOptions(t){return(t||[]).reduce((i,r,s)=>{i.push({optionGroup:r,group:!0,index:s});let o=this.getOptionGroupChildren(r);return o&&o.forEach(a=>i.push(a)),i},[])}autoUpdateModel(){if(this.selectOnFocus&&this.autoOptionFocus&&!this.hasSelectedOption()&&(this.focusedOptionIndex.set(this.findFirstFocusedOptionIndex()),this.onOptionSelect(null,this.visibleOptions()[this.focusedOptionIndex()],!1)),this.autoDisplayFirst&&(this.modelValue()===null||this.modelValue()===void 0)&&!this.placeholder()){let t=this.findFirstOptionIndex();this.onOptionSelect(null,this.visibleOptions()[t],!1,!0)}}onOptionSelect(t,i,r=!0,s=!1){if(!this.isSelected(i)){let o=this.getOptionValue(i);this.updateModel(o,t),this.focusedOptionIndex.set(this.findSelectedOptionIndex()),s===!1&&this.onChange.emit({originalEvent:t,value:o})}r&&this.hide(!0)}onOptionMouseEnter(t,i){this.focusOnHover&&this.changeFocusedOptionIndex(t,i)}updateModel(t,i){this.value=t,this.onModelChange(t),this.modelValue.set(t),this.selectedOptionUpdated=!0}writeValue(t){this.filter&&this.resetFilter(),this.value=t,this.allowModelChange()&&this.onModelChange(t),this.modelValue.set(this.value),this.updateEditableLabel(),this.cd.markForCheck()}allowModelChange(){return this.autoDisplayFirst&&!this.placeholder()&&(this.modelValue()===void 0||this.modelValue()===null)&&!this.editable&&this.options&&this.options.length}isSelectedOptionEmpty(){return Ie.isEmpty(this.selectedOption)}isSelected(t){return this.isValidOption(t)&&this.isOptionValueEqualsModelValue(t)}isOptionValueEqualsModelValue(t){return Ie.equals(this.modelValue(),this.getOptionValue(t),this.equalityKey())}ngAfterViewInit(){this.editable&&this.updateEditableLabel(),this.updatePlaceHolderForFloatingLabel()}updatePlaceHolderForFloatingLabel(){if(this._placeholder()!==null&&this._placeholder()!==void 0)return;let t=this.el.nativeElement.parentElement,i=t?.classList.contains("p-float-label");if(t&&i&&!this.selectedOption){let r=t.querySelector("label");r&&this._placeholder.set(r.textContent)}}updateEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value=this.getOptionLabel(this.selectedOption)||this.modelValue()||"")}clearEditableLabel(){this.editableInputViewChild&&(this.editableInputViewChild.nativeElement.value="")}getOptionIndex(t,i){return this.virtualScrollerDisabled?t:i&&i.getItemOptions(t).index}getOptionLabel(t){return this.optionLabel!==void 0&&this.optionLabel!==null?Ie.resolveFieldData(t,this.optionLabel):t&&t.label!==void 0?t.label:t}getOptionValue(t){return this.optionValue&&this.optionValue!==null?Ie.resolveFieldData(t,this.optionValue):!this.optionLabel&&t&&t.value!==void 0?t.value:t}isOptionDisabled(t){return this.getOptionValue(this.modelValue())===this.getOptionValue(t)||this.getOptionLabel(this.modelValue()===this.getOptionLabel(t))&&t.disabled===!1?!1:this.optionDisabled?Ie.resolveFieldData(t,this.optionDisabled):t&&t.disabled!==void 0?t.disabled:!1}getOptionGroupLabel(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null?Ie.resolveFieldData(t,this.optionGroupLabel):t&&t.label!==void 0?t.label:t}getOptionGroupChildren(t){return this.optionGroupChildren!==void 0&&this.optionGroupChildren!==null?Ie.resolveFieldData(t,this.optionGroupChildren):t.items}getAriaPosInset(t){return(this.optionGroupLabel?t-this.visibleOptions().slice(0,t).filter(i=>this.isOptionGroup(i)).length:t)+1}get ariaSetSize(){return this.visibleOptions().filter(t=>!this.isOptionGroup(t)).length}resetFilter(){this._filterValue.set(null),this.filterViewChild&&this.filterViewChild.nativeElement&&(this.filterViewChild.nativeElement.value="")}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}setDisabledState(t){this.disabled=t,this.cd.markForCheck()}onContainerClick(t){this.disabled||this.readonly||this.loading||(this.focusInputViewChild?.nativeElement.focus({preventScroll:!0}),!(t.target.tagName==="INPUT"||t.target.getAttribute("data-pc-section")==="clearicon"||t.target.closest('[data-pc-section="clearicon"]'))&&((!this.overlayViewChild||!this.overlayViewChild.el.nativeElement.contains(t.target))&&(this.overlayVisible?this.hide(!0):this.show(!0)),this.onClick.emit(t),this.clicked.set(!0),this.cd.detectChanges()))}isEmpty(){return!this._options()||this.visibleOptions()&&this.visibleOptions().length===0}onEditableInput(t){let i=t.target.value;this.searchValue="",!this.searchOptions(t,i)&&this.focusedOptionIndex.set(-1),this.onModelChange(i),this.updateModel(i,t),setTimeout(()=>{this.onChange.emit({originalEvent:t,value:i})},1),!this.overlayVisible&&Ie.isNotEmpty(i)&&this.show()}show(t){this.overlayVisible=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.autoOptionFocus?this.findFirstFocusedOptionIndex():this.editable?-1:this.findSelectedOptionIndex();this.focusedOptionIndex.set(i),t&&U.focus(this.focusInputViewChild?.nativeElement),this.cd.markForCheck()}onOverlayAnimationStart(t){if(t.toState==="visible"){if(this.itemsWrapper=U.findSingle(this.overlayViewChild?.overlayViewChild?.nativeElement,this.virtualScroll?".p-scroller":".p-dropdown-items-wrapper"),this.virtualScroll&&this.scroller?.setContentEl(this.itemsViewChild?.nativeElement),this.options&&this.options.length)if(this.virtualScroll){let i=this.modelValue()?this.focusedOptionIndex():-1;i!==-1&&this.scroller?.scrollToIndex(i)}else{let i=U.findSingle(this.itemsWrapper,".p-dropdown-item.p-highlight");i&&i.scrollIntoView({block:"nearest",inline:"nearest"})}this.filterViewChild&&this.filterViewChild.nativeElement&&(this.preventModelTouched=!0,this.autofocusFilter&&!this.editable&&this.filterViewChild.nativeElement.focus()),this.onShow.emit(t)}t.toState==="void"&&(this.itemsWrapper=null,this.onModelTouched(),this.onHide.emit(t))}hide(t){this.overlayVisible=!1,this.focusedOptionIndex.set(-1),this.clicked.set(!1),this.searchValue="",this.overlayOptions?.mode==="modal"&&U.unblockBodyScroll(),this.filter&&this.resetFilterOnHide&&this.resetFilter(),t&&(this.focusInputViewChild&&setTimeout(()=>{U.focus(this.focusInputViewChild?.nativeElement)}),this.editable&&this.editableInputViewChild&&setTimeout(()=>{U.focus(this.editableInputViewChild?.nativeElement)})),this.cd.markForCheck()}onInputFocus(t){if(this.disabled)return;this.focused=!0;let i=this.focusedOptionIndex()!==-1?this.focusedOptionIndex():this.overlayVisible&&this.autoOptionFocus?this.findFirstFocusedOptionIndex():-1;this.focusedOptionIndex.set(i),this.overlayVisible&&this.scrollInView(this.focusedOptionIndex()),this.onFocus.emit(t)}onInputBlur(t){this.focused=!1,this.onBlur.emit(t),this.preventModelTouched||this.onModelTouched(),this.preventModelTouched=!1}onMouseDown(t){t.preventDefault()}onKeyDown(t,i){if(!(this.disabled||this.readonly||this.loading)){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,this.editable);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,this.editable);break;case"Delete":this.onDeleteKey(t);break;case"Home":this.onHomeKey(t,this.editable);break;case"End":this.onEndKey(t,this.editable);break;case"PageDown":this.onPageDownKey(t);break;case"PageUp":this.onPageUpKey(t);break;case"Space":this.onSpaceKey(t,i);break;case"Enter":case"NumpadEnter":this.onEnterKey(t);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t);break;case"Backspace":this.onBackspaceKey(t,this.editable);break;case"ShiftLeft":case"ShiftRight":break;default:!t.metaKey&&Ie.isPrintableCharacter(t.key)&&(!this.overlayVisible&&this.show(),!this.editable&&this.searchOptions(t,t.key));break}this.clicked.set(!1)}}onFilterKeyDown(t){switch(t.code){case"ArrowDown":this.onArrowDownKey(t);break;case"ArrowUp":this.onArrowUpKey(t,!0);break;case"ArrowLeft":case"ArrowRight":this.onArrowLeftKey(t,!0);break;case"Home":this.onHomeKey(t,!0);break;case"End":this.onEndKey(t,!0);break;case"Enter":case"NumpadEnter":this.onEnterKey(t,!0);break;case"Escape":this.onEscapeKey(t);break;case"Tab":this.onTabKey(t,!0);break;default:break}}onFilterBlur(t){this.focusedOptionIndex.set(-1)}onArrowDownKey(t){if(!this.overlayVisible)this.show(),this.editable&&this.changeFocusedOptionIndex(t,this.findSelectedOptionIndex());else{let i=this.focusedOptionIndex()!==-1?this.findNextOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findFirstOptionIndex():this.findFirstFocusedOptionIndex();this.changeFocusedOptionIndex(t,i)}t.preventDefault(),t.stopPropagation()}changeFocusedOptionIndex(t,i){if(this.focusedOptionIndex()!==i&&(this.focusedOptionIndex.set(i),this.scrollInView(),this.selectOnFocus)){let r=this.visibleOptions()[i];this.onOptionSelect(t,r,!1)}}get virtualScrollerDisabled(){return!this.virtualScroll}scrollInView(t=-1){let i=t!==-1?`${this.id}_${t}`:this.focusedOptionId;if(this.itemsViewChild&&this.itemsViewChild.nativeElement){let r=U.findSingle(this.itemsViewChild.nativeElement,`li[id="${i}"]`);r?r.scrollIntoView&&r.scrollIntoView({block:"nearest",inline:"nearest"}):this.virtualScrollerDisabled||setTimeout(()=>{this.virtualScroll&&this.scroller?.scrollToIndex(t!==-1?t:this.focusedOptionIndex())},0)}}hasSelectedOption(){return this.modelValue()!==void 0}isValidSelectedOption(t){return this.isValidOption(t)&&this.isSelected(t)}equalityKey(){return this.optionValue?null:this.dataKey}findFirstFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findFirstOptionIndex():t}findFirstOptionIndex(){return this.visibleOptions().findIndex(t=>this.isValidOption(t))}findSelectedOptionIndex(){return this.hasSelectedOption()?this.visibleOptions().findIndex(t=>this.isValidSelectedOption(t)):-1}findNextOptionIndex(t){let i=t<this.visibleOptions().length-1?this.visibleOptions().slice(t+1).findIndex(r=>this.isValidOption(r)):-1;return i>-1?i+t+1:t}findPrevOptionIndex(t){let i=t>0?Ie.findLastIndex(this.visibleOptions().slice(0,t),r=>this.isValidOption(r)):-1;return i>-1?i:t}findLastOptionIndex(){return Ie.findLastIndex(this.visibleOptions(),t=>this.isValidOption(t))}findLastFocusedOptionIndex(){let t=this.findSelectedOptionIndex();return t<0?this.findLastOptionIndex():t}isValidOption(t){return t!=null&&!(this.isOptionDisabled(t)||this.isOptionGroup(t))}isOptionGroup(t){return this.optionGroupLabel!==void 0&&this.optionGroupLabel!==null&&t.optionGroup!==void 0&&t.optionGroup!==null&&t.group}onArrowUpKey(t,i=!1){if(t.altKey&&!i){if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide()}else{let r=this.focusedOptionIndex()!==-1?this.findPrevOptionIndex(this.focusedOptionIndex()):this.clicked()?this.findLastOptionIndex():this.findLastFocusedOptionIndex();this.changeFocusedOptionIndex(t,r),!this.overlayVisible&&this.show()}t.preventDefault(),t.stopPropagation()}onArrowLeftKey(t,i=!1){i&&this.focusedOptionIndex.set(-1)}onDeleteKey(t){this.showClear&&(this.clear(t),t.preventDefault())}onHomeKey(t,i=!1){if(i){let r=t.currentTarget;t.shiftKey?r.setSelectionRange(0,r.value.length):(r.setSelectionRange(0,0),this.focusedOptionIndex.set(-1))}else this.changeFocusedOptionIndex(t,this.findFirstOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onEndKey(t,i=!1){if(i){let r=t.currentTarget;if(t.shiftKey)r.setSelectionRange(0,r.value.length);else{let s=r.value.length;r.setSelectionRange(s,s),this.focusedOptionIndex.set(-1)}}else this.changeFocusedOptionIndex(t,this.findLastOptionIndex()),!this.overlayVisible&&this.show();t.preventDefault()}onPageDownKey(t){this.scrollInView(this.visibleOptions().length-1),t.preventDefault()}onPageUpKey(t){this.scrollInView(0),t.preventDefault()}onSpaceKey(t,i=!1){!this.editable&&!i&&this.onEnterKey(t)}onEnterKey(t,i=!1){if(!this.overlayVisible)this.focusedOptionIndex.set(-1),this.onArrowDownKey(t);else{if(this.focusedOptionIndex()!==-1){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}!i&&this.hide()}t.preventDefault()}onEscapeKey(t){this.overlayVisible&&this.hide(!0),t.preventDefault()}onTabKey(t,i=!1){if(!i)if(this.overlayVisible&&this.hasFocusableElements())U.focus(t.shiftKey?this.lastHiddenFocusableElementOnOverlay.nativeElement:this.firstHiddenFocusableElementOnOverlay.nativeElement),t.preventDefault();else{if(this.focusedOptionIndex()!==-1&&this.overlayVisible){let r=this.visibleOptions()[this.focusedOptionIndex()];this.onOptionSelect(t,r)}this.overlayVisible&&this.hide(this.filter)}t.stopPropagation()}onFirstHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?U.getFirstFocusableElement(this.overlayViewChild.el?.nativeElement,":not(.p-hidden-focusable)"):this.focusInputViewChild?.nativeElement;U.focus(i)}onLastHiddenFocus(t){let i=t.relatedTarget===this.focusInputViewChild?.nativeElement?U.getLastFocusableElement(this.overlayViewChild?.overlayViewChild?.nativeElement,':not([data-p-hidden-focusable="true"])'):this.focusInputViewChild?.nativeElement;U.focus(i)}hasFocusableElements(){return U.getFocusableElements(this.overlayViewChild.overlayViewChild.nativeElement,':not([data-p-hidden-focusable="true"]):not([class="p-dropdown-items-wrapper"])').length>0}onBackspaceKey(t,i=!1){i&&!this.overlayVisible&&this.show()}searchFields(){return this.filterBy?.split(",")||this.filterFields||[this.optionLabel]}searchOptions(t,i){this.searchValue=(this.searchValue||"")+i;let r=-1,s=!1;return this.focusedOptionIndex()!==-1?(r=this.visibleOptions().slice(this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)),r=r===-1?this.visibleOptions().slice(0,this.focusedOptionIndex()).findIndex(o=>this.isOptionMatched(o)):r+this.focusedOptionIndex()):r=this.visibleOptions().findIndex(o=>this.isOptionMatched(o)),r!==-1&&(s=!0),r===-1&&this.focusedOptionIndex()===-1&&(r=this.findFirstFocusedOptionIndex()),r!==-1&&this.changeFocusedOptionIndex(t,r),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),s}isOptionMatched(t){return this.isValidOption(t)&&this.getOptionLabel(t).toString().toLocaleLowerCase(this.filterLocale).startsWith(this.searchValue.toLocaleLowerCase(this.filterLocale))}onFilterInputChange(t){let i=t.target.value;this._filterValue.set(i),this.focusedOptionIndex.set(-1),this.onFilter.emit({originalEvent:t,filter:this._filterValue()}),!this.virtualScrollerDisabled&&this.scroller.scrollToIndex(0),setTimeout(()=>{this.overlayViewChild.alignOverlay()}),this.cd.markForCheck()}applyFocus(){this.editable?U.findSingle(this.el.nativeElement,".p-dropdown-label.p-inputtext").focus():U.focus(this.focusInputViewChild?.nativeElement)}focus(){this.applyFocus()}clear(t){this.updateModel(null,t),this.clearEditableLabel(),this.onModelTouched(),this.onChange.emit({originalEvent:t,value:this.value}),this.onClear.emit(t),this.resetFilter()}static \u0275fac=function(i){return new(i||n)(V(We),V(St),V(Ht),V(Ee),V(DR),V(Hi))};static \u0275cmp=de({type:n,selectors:[["p-dropdown"]],contentQueries:function(i,r,s){if(i&1&&vn(s,Ln,4),i&2){let o;tt(o=nt())&&(r.templates=o)}},viewQuery:function(i,r){if(i&1&&($t(g5,5),$t(y5,5),$t(_5,5),$t(v5,5),$t(I5,5),$t(w5,5),$t(E5,5),$t(b5,5),$t(C5,5)),i&2){let s;tt(s=nt())&&(r.containerViewChild=s.first),tt(s=nt())&&(r.filterViewChild=s.first),tt(s=nt())&&(r.focusInputViewChild=s.first),tt(s=nt())&&(r.editableInputViewChild=s.first),tt(s=nt())&&(r.itemsViewChild=s.first),tt(s=nt())&&(r.scroller=s.first),tt(s=nt())&&(r.overlayViewChild=s.first),tt(s=nt())&&(r.firstHiddenFocusableElementOnOverlay=s.first),tt(s=nt())&&(r.lastHiddenFocusableElementOnOverlay=s.first)}},hostAttrs:[1,"p-element","p-inputwrapper"],hostVars:4,hostBindings:function(i,r){i&2&&xi("p-inputwrapper-filled",r.filled())("p-inputwrapper-focus",r.focused||r.overlayVisible)},inputs:{id:"id",scrollHeight:"scrollHeight",filter:[2,"filter","filter",ae],name:"name",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",readonly:[2,"readonly","readonly",ae],required:[2,"required","required",ae],editable:[2,"editable","editable",ae],appendTo:"appendTo",tabindex:[2,"tabindex","tabindex",In],placeholder:"placeholder",loadingIcon:"loadingIcon",filterPlaceholder:"filterPlaceholder",filterLocale:"filterLocale",variant:"variant",inputId:"inputId",dataKey:"dataKey",filterBy:"filterBy",filterFields:"filterFields",autofocus:[2,"autofocus","autofocus",ae],resetFilterOnHide:[2,"resetFilterOnHide","resetFilterOnHide",ae],checkmark:[2,"checkmark","checkmark",ae],dropdownIcon:"dropdownIcon",loading:[2,"loading","loading",ae],optionLabel:"optionLabel",optionValue:"optionValue",optionDisabled:"optionDisabled",optionGroupLabel:"optionGroupLabel",optionGroupChildren:"optionGroupChildren",autoDisplayFirst:[2,"autoDisplayFirst","autoDisplayFirst",ae],group:[2,"group","group",ae],showClear:[2,"showClear","showClear",ae],emptyFilterMessage:"emptyFilterMessage",emptyMessage:"emptyMessage",lazy:[2,"lazy","lazy",ae],virtualScroll:[2,"virtualScroll","virtualScroll",ae],virtualScrollItemSize:[2,"virtualScrollItemSize","virtualScrollItemSize",In],virtualScrollOptions:"virtualScrollOptions",overlayOptions:"overlayOptions",ariaFilterLabel:"ariaFilterLabel",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",filterMatchMode:"filterMatchMode",maxlength:[2,"maxlength","maxlength",In],tooltip:"tooltip",tooltipPosition:"tooltipPosition",tooltipPositionStyle:"tooltipPositionStyle",tooltipStyleClass:"tooltipStyleClass",focusOnHover:[2,"focusOnHover","focusOnHover",ae],selectOnFocus:[2,"selectOnFocus","selectOnFocus",ae],autoOptionFocus:[2,"autoOptionFocus","autoOptionFocus",ae],autofocusFilter:[2,"autofocusFilter","autofocusFilter",ae],disabled:"disabled",itemSize:"itemSize",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",filterValue:"filterValue",options:"options"},outputs:{onChange:"onChange",onFilter:"onFilter",onFocus:"onFocus",onBlur:"onBlur",onClick:"onClick",onShow:"onShow",onHide:"onHide",onClear:"onClear",onLazyLoad:"onLazyLoad"},features:[ai([x9]),un],decls:12,vars:20,consts:[["container",""],["elseBlock",""],["overlay",""],["focusInput",""],["defaultPlaceholder",""],["editableInput",""],["firstHiddenFocusableEl",""],["buildInItems",""],["lastHiddenFocusableEl",""],["builtInFilterElement",""],["filter",""],["scroller",""],["items",""],["emptyFilter",""],["empty",""],[3,"click","ngClass","ngStyle"],["role","combobox","pAutoFocus","",3,"ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus","focus","blur","keydown",4,"ngIf"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"ngClass","disabled","autofocus","input","keydown","focus","blur",4,"ngIf"],[4,"ngIf"],["role","button","aria-label","dropdown trigger","aria-haspopup","listbox",1,"p-dropdown-trigger",3,"mousedown"],[4,"ngIf","ngIfElse"],[3,"visibleChange","onAnimationStart","onHide","visible","options","target","appendTo","autoZIndex","baseZIndex","showTransitionOptions","hideTransitionOptions"],["pTemplate","content"],["role","combobox","pAutoFocus","",3,"focus","blur","keydown","ngClass","pTooltip","tooltipPosition","positionStyle","tooltipStyleClass","autofocus"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["type","text","aria-haspopup","listbox","pAutoFocus","",3,"input","keydown","focus","blur","ngClass","disabled","autofocus"],[3,"styleClass","click",4,"ngIf"],["class","p-dropdown-clear-icon",3,"click",4,"ngIf"],[3,"click","styleClass"],[1,"p-dropdown-clear-icon",3,"click"],[4,"ngTemplateOutlet"],["aria-hidden","true",3,"ngClass",4,"ngIf"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"ngClass"],["aria-hidden","true"],["class","p-dropdown-trigger-icon",4,"ngIf"],["class","p-dropdown-trigger-icon",3,"ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[1,"p-dropdown-trigger-icon",3,"ngClass"],[3,"styleClass"],[1,"p-dropdown-trigger-icon"],[3,"ngClass","ngStyle"],["role","presentation",1,"p-hidden-accessible","p-hidden-focusable",3,"focus"],["class","p-dropdown-header",3,"click",4,"ngIf"],["tabindex","0",1,"p-dropdown-items-wrapper",3,"ngStyle"],[3,"items","style","itemSize","autoSize","lazy","options","onLazyLoad",4,"ngIf"],[1,"p-dropdown-header",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-dropdown-filter-container"],["type","text","role","searchbox","autocomplete","off",1,"p-dropdown-filter","p-inputtext","p-component",3,"input","keydown","blur","value","ngClass"],["class","p-dropdown-filter-icon",4,"ngIf"],[1,"p-dropdown-filter-icon"],[3,"onLazyLoad","items","itemSize","autoSize","lazy","options"],["pTemplate","loader"],["role","listbox",1,"p-dropdown-items",3,"ngClass","ngStyle"],["ngFor","",3,"ngForOf"],["class","p-dropdown-empty-message","role","option",3,"ngStyle",4,"ngIf"],["role","option",1,"p-dropdown-item-group",3,"ngStyle"],[3,"onClick","onMouseEnter","id","option","checkmark","selected","label","disabled","template","focused","ariaPosInset","ariaSetSize"],["role","option",1,"p-dropdown-empty-message",3,"ngStyle"]],template:function(i,r){if(i&1){let s=_t();z(0,"div",15,0),Re("click",function(a){return xe(s),Me(r.onContainerClick(a))}),W(2,O5,6,20,"span",16)(3,N5,2,8,"input",17)(4,V5,3,2,"ng-container",18),z(5,"div",19),Re("mousedown",function(a){return xe(s),Me(r.onMouseDown(a))}),W(6,z5,3,2,"ng-container",20)(7,Z5,2,2,"ng-template",null,1,li),G(),z(9,"p-overlay",21,2),Al("visibleChange",function(a){return xe(s),uh(r.overlayVisible,a)||(r.overlayVisible=a),Me(a)}),Re("onAnimationStart",function(a){return xe(s),Me(r.onOverlayAnimationStart(a))})("onHide",function(){return xe(s),Me(r.hide())}),W(11,A9,13,18,"ng-template",22),G()()}if(i&2){let s,o=qn(8);Je(r.styleClass),x("ngClass",r.containerClass)("ngStyle",r.style),oe("id",r.id),N(2),x("ngIf",!r.editable),N(),x("ngIf",r.editable),N(),x("ngIf",r.isVisibleClearIcon),N(),oe("aria-expanded",(s=r.overlayVisible)!==null&&s!==void 0?s:!1)("data-pc-section","trigger"),N(),x("ngIf",r.loading)("ngIfElse",o),N(3),Dl("visible",r.overlayVisible),x("options",r.overlayOptions)("target","@parent")("appendTo",r.appendTo)("autoZIndex",r.autoZIndex)("baseZIndex",r.baseZIndex)("showTransitionOptions",r.showTransitionOptions)("hideTransitionOptions",r.hideTransitionOptions)}},dependencies:()=>[ci,_h,ui,hi,di,U0,Ln,FR,kR,xp,H0,G0,W0,M9],styles:[`@layer primeng{.p-dropdown{display:inline-flex;cursor:pointer;position:relative;-webkit-user-select:none;user-select:none}.p-dropdown-clear-icon{position:absolute;top:50%;margin-top:-.5rem}.p-dropdown-trigger{display:flex;align-items:center;justify-content:center;flex-shrink:0}.p-dropdown-label{display:block;white-space:nowrap;overflow:hidden;flex:1 1 auto;width:1%;text-overflow:ellipsis;cursor:pointer}.p-dropdown-label-empty{overflow:hidden;opacity:0}input.p-dropdown-label{cursor:default}.p-dropdown .p-dropdown-panel{min-width:100%}.p-dropdown-items-wrapper{overflow:auto}.p-dropdown-item{cursor:pointer;font-weight:400;white-space:nowrap;position:relative;overflow:hidden}.p-dropdown-item-group{cursor:auto}.p-dropdown-items{margin:0;padding:0;list-style-type:none}.p-dropdown-filter{width:100%}.p-dropdown-filter-container{position:relative}.p-dropdown-filter-icon{position:absolute;top:50%;margin-top:-.5rem}.p-fluid .p-dropdown{display:flex}.p-fluid .p-dropdown .p-dropdown-label{width:1%}.p-float-label .p-dropdown .p-placeholder{opacity:0}}
`],encapsulation:2,changeDetection:0})}return n})(),za=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn,j0,hn,ru,Rp,$0,NR,H0,G0,W0,q0,z0,j0,hn,$0]})}return n})();var Op=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-statistics"]],standalone:!0,features:[ke],decls:3,vars:0,consts:[["header","Trio","subheader","Meilleur ratio (parties gagn\xE9es/jou\xE9ees)"],[1,"m-0"]],template:function(t,i){t&1&&(z(0,"p-card",0)(1,"p",1),Nt(2," Lorem ipsum dolor sit amet... "),G()())},dependencies:[OR,RR,za,ns]})};var Pp=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-new-game-scores"]],standalone:!0,features:[ke],decls:0,vars:0,template:function(t,i){},dependencies:[za,ns]})};var Y0=(i=>(i.Trio="Trio",i.SixQuiPrend="SixQuiPrend",i.Hilo="Hilo",i))(Y0||{});var O9=["*"],UR=n=>({class:n});function N9(n,e){n&1&&qe(0)}function P9(n,e){if(n&1&&fe(0,"span",8),n&2){let t=P(3);x("ngClass",t.iconClass()),oe("aria-hidden",!0)("data-pc-section","loadingicon")}}function k9(n,e){if(n&1&&fe(0,"SpinnerIcon",9),n&2){let t=P(3);x("styleClass",t.spinnerIconClass())("spin",!0),oe("aria-hidden",!0)("data-pc-section","loadingicon")}}function F9(n,e){if(n&1&&(Ke(0),W(1,P9,1,3,"span",6)(2,k9,1,4,"SpinnerIcon",7),Qe()),n&2){let t=P(2);N(),x("ngIf",t.loadingIcon),N(),x("ngIf",!t.loadingIcon)}}function L9(n,e){}function V9(n,e){if(n&1&&W(0,L9,0,0,"ng-template",10),n&2){let t=P(2);x("ngIf",t.loadingIconTemplate)}}function U9(n,e){if(n&1&&(Ke(0),W(1,F9,3,2,"ng-container",2)(2,V9,1,1,null,5),Qe()),n&2){let t=P();N(),x("ngIf",!t.loadingIconTemplate),N(),x("ngTemplateOutlet",t.loadingIconTemplate)("ngTemplateOutletContext",it(3,UR,t.iconClass()))}}function j9(n,e){if(n&1&&fe(0,"span",8),n&2){let t=P(2);x("ngClass",t.iconClass()),oe("data-pc-section","icon")}}function B9(n,e){}function $9(n,e){if(n&1&&W(0,B9,0,0,"ng-template",10),n&2){let t=P(2);x("ngIf",!t.icon&&t.iconTemplate)}}function H9(n,e){if(n&1&&(Ke(0),W(1,j9,1,2,"span",6)(2,$9,1,1,null,5),Qe()),n&2){let t=P();N(),x("ngIf",t.icon&&!t.iconTemplate),N(),x("ngTemplateOutlet",t.iconTemplate)("ngTemplateOutletContext",it(3,UR,t.iconClass()))}}function z9(n,e){if(n&1&&(z(0,"span",11),Nt(1),G()),n&2){let t=P();oe("aria-hidden",t.icon&&!t.label)("data-pc-section","label"),N(),Gn(t.label)}}function q9(n,e){if(n&1&&(z(0,"span",8),Nt(1),G()),n&2){let t=P();Je(t.badgeClass),x("ngClass",t.badgeStyleClass()),oe("data-pc-section","badge"),N(),Gn(t.badge)}}var jR=(()=>{class n{el;type="button";iconPos="left";icon;badge;label;disabled;loading=!1;loadingIcon;raised=!1;rounded=!1;text=!1;plain=!1;severity;outlined=!1;link=!1;tabindex;size;style;styleClass;badgeClass;ariaLabel;autofocus;onClick=new se;onFocus=new se;onBlur=new se;contentTemplate;loadingIconTemplate;iconTemplate;templates;constructor(t){this.el=t}spinnerIconClass(){return Object.entries(this.iconClass()).filter(([,t])=>!!t).reduce((t,[i])=>t+` ${i}`,"p-button-loading-icon")}iconClass(){let t={"p-button-icon":!0,"p-button-icon-left":this.iconPos==="left"&&this.label,"p-button-icon-right":this.iconPos==="right"&&this.label,"p-button-icon-top":this.iconPos==="top"&&this.label,"p-button-icon-bottom":this.iconPos==="bottom"&&this.label};return this.loading?t[`p-button-loading-icon pi-spin ${this.loadingIcon??""}`]=!0:this.icon&&(t[this.icon]=!0),t}get buttonClass(){return{"p-button p-component":!0,"p-button-icon-only":(this.icon||this.iconTemplate||this.loadingIcon||this.loadingIconTemplate)&&!this.label,"p-button-vertical":(this.iconPos==="top"||this.iconPos==="bottom")&&this.label,"p-button-loading":this.loading,"p-button-loading-label-only":this.loading&&!this.icon&&this.label&&!this.loadingIcon&&this.iconPos==="left","p-button-link":this.link,[`p-button-${this.severity}`]:this.severity,"p-button-raised":this.raised,"p-button-rounded":this.rounded,"p-button-text":this.text,"p-button-outlined":this.outlined,"p-button-sm":this.size==="small","p-button-lg":this.size==="large","p-button-plain":this.plain,[`${this.styleClass}`]:this.styleClass}}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"icon":this.iconTemplate=t.template;break;case"loadingicon":this.loadingIconTemplate=t.template;break;default:this.contentTemplate=t.template;break}})}badgeStyleClass(){return{"p-badge p-component":!0,"p-badge-no-gutter":this.badge&&String(this.badge).length===1}}focus(){this.el.nativeElement.firstChild.focus()}static \u0275fac=function(i){return new(i||n)(V(We))};static \u0275cmp=de({type:n,selectors:[["p-button"]],contentQueries:function(i,r,s){if(i&1&&vn(s,Ln,4),i&2){let o;tt(o=nt())&&(r.templates=o)}},hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(i,r){i&2&&xi("p-disabled",r.disabled)},inputs:{type:"type",iconPos:"iconPos",icon:"icon",badge:"badge",label:"label",disabled:[2,"disabled","disabled",ae],loading:[2,"loading","loading",ae],loadingIcon:"loadingIcon",raised:[2,"raised","raised",ae],rounded:[2,"rounded","rounded",ae],text:[2,"text","text",ae],plain:[2,"plain","plain",ae],severity:"severity",outlined:[2,"outlined","outlined",ae],link:[2,"link","link",ae],tabindex:[2,"tabindex","tabindex",In],size:"size",style:"style",styleClass:"styleClass",badgeClass:"badgeClass",ariaLabel:"ariaLabel",autofocus:[2,"autofocus","autofocus",ae]},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},standalone:!0,features:[un,ke],ngContentSelectors:O9,decls:7,vars:14,consts:[["pRipple","","pAutoFocus","",3,"click","focus","blur","ngStyle","disabled","ngClass","autofocus"],[4,"ngTemplateOutlet"],[4,"ngIf"],["class","p-button-label",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngClass",4,"ngIf"],[3,"styleClass","spin",4,"ngIf"],[3,"ngClass"],[3,"styleClass","spin"],[3,"ngIf"],[1,"p-button-label"]],template:function(i,r){i&1&&(_n(),z(0,"button",0),Re("click",function(o){return r.onClick.emit(o)})("focus",function(o){return r.onFocus.emit(o)})("blur",function(o){return r.onBlur.emit(o)}),Jt(1),W(2,N9,1,0,"ng-container",1)(3,U9,3,5,"ng-container",2)(4,H9,3,5,"ng-container",2)(5,z9,2,3,"span",3)(6,q9,2,5,"span",4),G()),i&2&&(x("ngStyle",r.style)("disabled",r.disabled||r.loading)("ngClass",r.buttonClass)("autofocus",r.autofocus),oe("type",r.type)("aria-label",r.ariaLabel)("data-pc-name","button")("data-pc-section","root")("tabindex",r.tabindex),N(2),x("ngTemplateOutlet",r.contentTemplate),N(),x("ngIf",r.loading),N(),x("ngIf",!r.loading),N(),x("ngIf",!r.contentTemplate&&r.label),N(),x("ngIf",!r.contentTemplate&&r.badge))},dependencies:[ui,hi,di,ci,Mp,xp,iu],encapsulation:2,changeDetection:0})}return n})();var BR=(()=>{class n{el;ngModel;cd;config;variant="outlined";filled;constructor(t,i,r,s){this.el=t,this.ngModel=i,this.cd=r,this.config=s}ngAfterViewInit(){this.updateFilledState(),this.cd.detectChanges()}ngDoCheck(){this.updateFilledState()}onInput(){this.updateFilledState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length||this.ngModel&&this.ngModel.model}static \u0275fac=function(i){return new(i||n)(V(We),V(tu,8),V(Ht),V(Hi))};static \u0275dir=Ue({type:n,selectors:[["","pInputText",""]],hostAttrs:[1,"p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(i,r){i&1&&Re("input",function(o){return r.onInput(o)}),i&2&&xi("p-filled",r.filled)("p-variant-filled",r.variant==="filled"||r.config.inputStyle()==="filled")},inputs:{variant:"variant"}})}return n})(),$R=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn]})}return n})();var kp=class{form;constructor(){this.initializeForm()}get players(){return this.form.get("players")}getForm(){return this.form}initializeForm(){this.form=new Zc({players:new _p([],[$a.minLength(3),$a.maxLength(7)])});for(let e=0;e<3;e++)this.addPlayer()}addPlayer(){this.players.length<7&&this.players.push(this.createEntity())}removePlayer(e){this.players.length>3&&this.players.removeAt(e)}formatForAPI(){let e=this.form.get("players")?.value??[];return{players:e.map(t=>t.name),winner:e.find(t=>t.win)?.name??"",date:Pt.now()}}createEntity(){return new Zc({name:new eu(null,$a.required),win:new eu(!1)})}};var Fp=class n{constructor(e){this.firestore=e;this.trioCollection=sw(this.firestore,"trio")}trioCollection;getGamesFromLastXDays(e=31){return M(this,null,function*(){return(yield lw(aw(this.trioCollection))).docs.map(i=>k({id:i.id},i.data()))})}saveGame(e){return M(this,null,function*(){yield cw(this.trioCollection,e)})}static \u0275fac=function(t){return new(t||n)(ie(Ws))};static \u0275prov=Q({token:n,factory:n.\u0275fac,providedIn:"root"})};function K9(n,e){if(n&1){let t=_t();z(0,"div",2),fe(1,"input",5),z(2,"p-button",6),Re("click",function(){let r=xe(t).$index,s=P();return Me(s.toggleWin(r))}),G()()}if(n&2){let t,i=e.$implicit,r=e.$index;x("formGroupName",r),N(2),x("icon",(t=i.get("win"))!=null&&t.value?"pi pi-thumbs-up-fill":"pi pi-thumbs-down-fill")}}function Q9(n,e){if(n&1){let t=_t();z(0,"p-button",7),Re("click",function(){xe(t);let r=P();return Me(r.addPlayer())}),G()}}var Lp=class n{constructor(e,t){this.trioService=e;this.router=t}formHelper;ngOnInit(){this.formHelper=new kp}get players(){return this.form.get("players")}get form(){return this.formHelper.getForm()}get playersLength(){return this.players.controls.length}toggleWin(e){this.players.controls.forEach((t,i)=>{let r=t.get("win");r&&(i===e?r.setValue(!r.value):r.setValue(!1))})}addPlayer(){this.formHelper.addPlayer()}saveGame(){return M(this,null,function*(){yield this.trioService.saveGame(this.formHelper.formatForAPI()).then(()=>{this.router.navigate(["/"])})})}static \u0275fac=function(t){return new(t||n)(V(Fp),V(_i))};static \u0275cmp=de({type:n,selectors:[["app-trio-game"]],standalone:!0,features:[ke],decls:6,vars:2,consts:[[3,"ngSubmit","formGroup"],["formArrayName","players",1,"players"],[1,"player",3,"formGroupName"],["icon","pi pi-user-plus","type","button","label","Ajouter un joueur"],["icon","pi pi-save","type","submit","label","Enregistrer"],["pInputText","","formControlName","name","placeholder","TrioPlayer Name"],[3,"click","icon"],["icon","pi pi-user-plus","type","button","label","Ajouter un joueur",3,"click"]],template:function(t,i){t&1&&(z(0,"form",0),Re("ngSubmit",function(){return i.saveGame()}),z(1,"div",1),lh(2,K9,3,2,"div",2,eD),G(),W(4,Q9,1,0,"p-button",3),fe(5,"p-button",4),G()),t&2&&(x("formGroup",i.form),N(2),ch(i.players.controls),N(2),ah(i.playersLength<7?4:-1))},dependencies:[ns,IR,vp,Ip,pR,$R,BR,jR,CR,Tp,L0,Sp,Dp],styles:[".players[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-evenly;padding:2rem;gap:2rem}.player[_ngcontent-%COMP%]{display:flex;gap:5px}.winner-button[_ngcontent-%COMP%]{padding-left:10px}.player-field[_ngcontent-%COMP%]{display:flex}.save-button[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-right:25px}"]})};var Y9=()=>({width:"200px"});function Z9(n,e){if(n&1){let t=_t();z(0,"div",0)(1,"p-dropdown",1),Al("ngModelChange",function(r){xe(t);let s=P();return uh(s.selectedGame,r)||(s.selectedGame=r),Me(r)}),G()()}if(n&2){let t=P();N(),oh(As(4,Y9)),Dl("ngModel",t.selectedGame),x("options",t.gameList)}}function J9(n,e){n&1&&fe(0,"app-trio-game")}var Vp=class n{gameList=["Hilo","SixQuiPrend","Trio"];selectedGame;GameEnum=Y0;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-choose-game"]],standalone:!0,features:[ke],decls:2,vars:1,consts:[[1,"align-select"],["placeholder","Jeu",3,"ngModelChange","ngModel","options"]],template:function(t,i){t&1&&W(0,Z9,2,5,"div",0)(1,J9,1,0,"app-trio-game"),t&2&&ah(i.selectedGame?i.selectedGame===i.GameEnum.Trio?1:-1:0)},dependencies:[ns,Ip,tu,za,Q0,Lp],styles:[".align-select[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:4rem 0}"]})};var HR=[{path:"",component:Op},{path:"scores",component:Pp},{path:"addScores",component:Vp}];var zR={providers:[cD({eventCoalescing:!0}),lA(()=>cA(GM.firebaseConfig)),_x(()=>vx()),jM(HR),Yx()]};var qR=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["AngleDownIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z","fill","currentColor"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"path",1),G()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var GR=(()=>{class n extends rn{static \u0275fac=(()=>{let t;return function(r){return(t||(t=yt(n)))(r||n)}})();static \u0275cmp=de({type:n,selectors:[["AngleRightIcon"]],standalone:!0,features:[Ze,ke],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z","fill","currentColor"]],template:function(i,r){i&1&&(Zt(),z(0,"svg",0),fe(1,"path",1),G()),i&2&&(Je(r.getClassNames()),oe("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})}return n})();var WR=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=ze({type:n});static \u0275inj=He({imports:[dn,x0,Rp,ru,hn,qR,GR,x0,ru,hn]})}return n})();var X9=(n,e)=>e.label;function e8(n,e){if(n&1&&(z(0,"a",2)(1,"span",3),Nt(2),G()()),n&2){let t=e.$implicit;x("routerLink",t.routerLink),N(2),Gn(t.label)}}var Up=class n{items;ngOnInit(){this.items=[{label:"Statistiques",root:!0,routerLink:"/"},{label:"Scores",root:!0,routerLink:"/scores"}]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=de({type:n,selectors:[["app-root"]],standalone:!0,features:[ke],decls:9,vars:1,consts:[[1,"main"],[1,"flex","justify-between"],[1,"p-button","font-bold",3,"routerLink"],[1,"ml-2"]],template:function(t,i){t&1&&(z(0,"main",0)(1,"div",1)(2,"div"),lh(3,e8,3,2,"a",2,X9),G(),z(5,"a",2)(6,"span",3),Nt(7,"Ajouter"),G()()()(),fe(8,"router-outlet")),t&2&&(N(3),ch(i.items),N(2),x("routerLink","/addScores"))},dependencies:[b0,WR,VM],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}.flex[_ngcontent-%COMP%]{display:flex}.justify-between[_ngcontent-%COMP%]{justify-content:space-between}"]})};ND(Up,zR).catch(n=>console.error(n));
